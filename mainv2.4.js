(function(e,t){var n,r,i=typeof t,o=e.document,a=e.location,s=e.jQuery,u=e.$,l={},c=[],p="1.9.1",f=c.concat,d=c.push,h=c.slice,g=c.indexOf,m=l.toString,y=l.hasOwnProperty,v=p.trim,b=function(e,t){return new b.fn.init(e,t,r)},x=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,w=/\S+/g,T=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,N=/^(?:(<[\w\W]+>)[^>]*|#([\w-]*))$/,C=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,k=/^[\],:{}\s]*$/,E=/(?:^|:|,)(?:\s*\[)+/g,S=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,A=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,j=/^-ms-/,D=/-([\da-z])/gi,L=function(e,t){return t.toUpperCase()},H=function(e){(o.addEventListener||"load"===e.type||"complete"===o.readyState)&&(q(),b.ready())},q=function(){o.addEventListener?(o.removeEventListener("DOMContentLoaded",H,!1),e.removeEventListener("load",H,!1)):(o.detachEvent("onreadystatechange",H),e.detachEvent("onload",H))};b.fn=b.prototype={jquery:p,constructor:b,init:function(e,n,r){var i,a;if(!e)return this;if("string"==typeof e){if(i="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:N.exec(e),!i||!i[1]&&n)return!n||n.jquery?(n||r).find(e):this.constructor(n).find(e);if(i[1]){if(n=n instanceof b?n[0]:n,b.merge(this,b.parseHTML(i[1],n&&n.nodeType?n.ownerDocument||n:o,!0)),C.test(i[1])&&b.isPlainObject(n))for(i in n)b.isFunction(this[i])?this[i](n[i]):this.attr(i,n[i]);return this}if(a=o.getElementById(i[2]),a&&a.parentNode){if(a.id!==i[2])return r.find(e);this.length=1,this[0]=a}return this.context=o,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):b.isFunction(e)?r.ready(e):(e.selector!==t&&(this.selector=e.selector,this.context=e.context),b.makeArray(e,this))},selector:"",length:0,size:function(){return this.length},toArray:function(){return h.call(this)},get:function(e){return null==e?this.toArray():0>e?this[this.length+e]:this[e]},pushStack:function(e){var t=b.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return b.each(this,e,t)},ready:function(e){return b.ready.promise().done(e),this},slice:function(){return this.pushStack(h.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0);return this.pushStack(n>=0&&t>n?[this[n]]:[])},map:function(e){return this.pushStack(b.map(this,function(t,n){return e.call(t,n,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:d,sort:[].sort,splice:[].splice},b.fn.init.prototype=b.fn,b.extend=b.fn.extend=function(){var e,n,r,i,o,a,s=arguments[0]||{},u=1,l=arguments.length,c=!1;for("boolean"==typeof s&&(c=s,s=arguments[1]||{},u=2),"object"==typeof s||b.isFunction(s)||(s={}),l===u&&(s=this,--u);l>u;u++)if(null!=(o=arguments[u]))for(i in o)e=s[i],r=o[i],s!==r&&(c&&r&&(b.isPlainObject(r)||(n=b.isArray(r)))?(n?(n=!1,a=e&&b.isArray(e)?e:[]):a=e&&b.isPlainObject(e)?e:{},s[i]=b.extend(c,a,r)):r!==t&&(s[i]=r));return s},b.extend({noConflict:function(t){return e.$===b&&(e.$=u),t&&e.jQuery===b&&(e.jQuery=s),b},isReady:!1,readyWait:1,holdReady:function(e){e?b.readyWait++:b.ready(!0)},ready:function(e){if(e===!0?!--b.readyWait:!b.isReady){if(!o.body)return setTimeout(b.ready);b.isReady=!0,e!==!0&&--b.readyWait>0||(n.resolveWith(o,[b]),b.fn.trigger&&b(o).trigger("ready").off("ready"))}},isFunction:function(e){return"function"===b.type(e)},isArray:Array.isArray||function(e){return"array"===b.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?l[m.call(e)]||"object":typeof e},isPlainObject:function(e){if(!e||"object"!==b.type(e)||e.nodeType||b.isWindow(e))return!1;try{if(e.constructor&&!y.call(e,"constructor")&&!y.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}var r;for(r in e);return r===t||y.call(e,r)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},error:function(e){throw Error(e)},parseHTML:function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||o;var r=C.exec(e),i=!n&&[];return r?[t.createElement(r[1])]:(r=b.buildFragment([e],t,i),i&&b(i).remove(),b.merge([],r.childNodes))},parseJSON:function(n){return e.JSON&&e.JSON.parse?e.JSON.parse(n):null===n?n:"string"==typeof n&&(n=b.trim(n),n&&k.test(n.replace(S,"@").replace(A,"]").replace(E,"")))?Function("return "+n)():(b.error("Invalid JSON:"+n),t)},parseXML:function(n){var r,i;if(!n||"string"!=typeof n)return null;try{e.DOMParser?(i=new DOMParser,r=i.parseFromString(n,"text/xml")):(r=new ActiveXObject("Microsoft.XMLDOM"),r.async="false",r.loadXML(n))}catch(o){r=t}return r&&r.documentElement&&!r.getElementsByTagName("parsererror").length||b.error("Invalid XML:"+n),r},noop:function(){},globalEval:function(t){t&&b.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(j,"ms-").replace(D,L)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,n){var r,i=0,o=e.length,a=M(e);if(n){if(a){for(;o>i;i++)if(r=t.apply(e[i],n),r===!1)break}else for(i in e)if(r=t.apply(e[i],n),r===!1)break}else if(a){for(;o>i;i++)if(r=t.call(e[i],i,e[i]),r===!1)break}else for(i in e)if(r=t.call(e[i],i,e[i]),r===!1)break;return e},trim:v&&!v.call("\ufeff\u00a0")?function(e){return null==e?"":v.call(e)}:function(e){return null==e?"":(e+"").replace(T,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(M(Object(e))?b.merge(n,"string"==typeof e?[e]:e):d.call(n,e)),n},inArray:function(e,t,n){var r;if(t){if(g)return g.call(t,e,n);for(r=t.length,n=n?0>n?Math.max(0,r+n):n:0;r>n;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,n){var r=n.length,i=e.length,o=0;if("number"==typeof r)for(;r>o;o++)e[i++]=n[o];else while(n[o]!==t)e[i++]=n[o++];return e.length=i,e},grep:function(e,t,n){var r,i=[],o=0,a=e.length;for(n=!!n;a>o;o++)r=!!t(e[o],o),n!==r&&i.push(e[o]);return i},map:function(e,t,n){var r,i=0,o=e.length,a=M(e),s=[];if(a)for(;o>i;i++)r=t(e[i],i,n),null!=r&&(s[s.length]=r);else for(i in e)r=t(e[i],i,n),null!=r&&(s[s.length]=r);return f.apply([],s)},guid:1,proxy:function(e,n){var r,i,o;return"string"==typeof n&&(o=e[n],n=e,e=o),b.isFunction(e)?(r=h.call(arguments,2),i=function(){return e.apply(n||this,r.concat(h.call(arguments)))},i.guid=e.guid=e.guid||b.guid++,i):t},access:function(e,n,r,i,o,a,s){var u=0,l=e.length,c=null==r;if("object"===b.type(r)){o=!0;for(u in r)b.access(e,n,u,r[u],!0,a,s)}else if(i!==t&&(o=!0,b.isFunction(i)||(s=!0),c&&(s?(n.call(e,i),n=null):(c=n,n=function(e,t,n){return c.call(b(e),n)})),n))for(;l>u;u++)n(e[u],r,s?i:i.call(e[u],u,n(e[u],r)));return o?e:c?n.call(e):l?n(e[0],r):a},now:function(){return(new Date).getTime()}}),b.ready.promise=function(t){if(!n)if(n=b.Deferred(),"complete"===o.readyState)setTimeout(b.ready);else if(o.addEventListener)o.addEventListener("DOMContentLoaded",H,!1),e.addEventListener("load",H,!1);else{o.attachEvent("onreadystatechange",H),e.attachEvent("onload",H);var r=!1;try{r=null==e.frameElement&&o.documentElement}catch(i){}r&&r.doScroll&&function a(){if(!b.isReady){try{r.doScroll("left")}catch(e){return setTimeout(a,50)}q(),b.ready()}}()}return n.promise(t)},b.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){l["[object "+t+"]"]=t.toLowerCase()});function M(e){var t=e.length,n=b.type(e);return b.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===n||"function"!==n&&(0===t||"number"==typeof t&&t>0&&t-1 in e)}r=b(o);var _={};function F(e){var t=_[e]={};return b.each(e.match(w)||[],function(e,n){t[n]=!0}),t}b.Callbacks=function(e){e="string"==typeof e?_[e]||F(e):b.extend({},e);var n,r,i,o,a,s,u=[],l=!e.once&&[],c=function(t){for(r=e.memory&&t,i=!0,a=s||0,s=0,o=u.length,n=!0;u&&o>a;a++)if(u[a].apply(t[0],t[1])===!1&&e.stopOnFalse){r=!1;break}n=!1,u&&(l?l.length&&c(l.shift()):r?u=[]:p.disable())},p={add:function(){if(u){var t=u.length;(function i(t){b.each(t,function(t,n){var r=b.type(n);"function"===r?e.unique&&p.has(n)||u.push(n):n&&n.length&&"string"!==r&&i(n)})})(arguments),n?o=u.length:r&&(s=t,c(r))}return this},remove:function(){return u&&b.each(arguments,function(e,t){var r;while((r=b.inArray(t,u,r))>-1)u.splice(r,1),n&&(o>=r&&o--,a>=r&&a--)}),this},has:function(e){return e?b.inArray(e,u)>-1:!(!u||!u.length)},empty:function(){return u=[],this},disable:function(){return u=l=r=t,this},disabled:function(){return!u},lock:function(){return l=t,r||p.disable(),this},locked:function(){return!l},fireWith:function(e,t){return t=t||[],t=[e,t.slice?t.slice():t],!u||i&&!l||(n?l.push(t):c(t)),this},fire:function(){return p.fireWith(this,arguments),this},fired:function(){return!!i}};return p},b.extend({Deferred:function(e){var t=[["resolve","done",b.Callbacks("once memory"),"resolved"],["reject","fail",b.Callbacks("once memory"),"rejected"],["notify","progress",b.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return b.Deferred(function(n){b.each(t,function(t,o){var a=o[0],s=b.isFunction(e[t])&&e[t];i[o[1]](function(){var e=s&&s.apply(this,arguments);e&&b.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[a+"With"](this===r?n.promise():this,s?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?b.extend(e,r):r}},i={};return r.pipe=r.then,b.each(t,function(e,o){var a=o[2],s=o[3];r[o[1]]=a.add,s&&a.add(function(){n=s},t[1^e][2].disable,t[2][2].lock),i[o[0]]=function(){return i[o[0]+"With"](this===i?r:this,arguments),this},i[o[0]+"With"]=a.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t=0,n=h.call(arguments),r=n.length,i=1!==r||e&&b.isFunction(e.promise)?r:0,o=1===i?e:b.Deferred(),a=function(e,t,n){return function(r){t[e]=this,n[e]=arguments.length>1?h.call(arguments):r,n===s?o.notifyWith(t,n):--i||o.resolveWith(t,n)}},s,u,l;if(r>1)for(s=Array(r),u=Array(r),l=Array(r);r>t;t++)n[t]&&b.isFunction(n[t].promise)?n[t].promise().done(a(t,l,n)).fail(o.reject).progress(a(t,u,s)):--i;return i||o.resolveWith(l,n),o.promise()}}),b.support=function(){var t,n,r,a,s,u,l,c,p,f,d=o.createElement("div");if(d.setAttribute("className","t"),d.innerHTML=" <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",n=d.getElementsByTagName("*"),r=d.getElementsByTagName("a")[0],!n||!r||!n.length)return{};s=o.createElement("select"),l=s.appendChild(o.createElement("option")),a=d.getElementsByTagName("input")[0],r.style.cssText="top:1px;float:left;opacity:.5",t={getSetAttribute:"t"!==d.className,leadingWhitespace:3===d.firstChild.nodeType,tbody:!d.getElementsByTagName("tbody").length,htmlSerialize:!!d.getElementsByTagName("link").length,style:/top/.test(r.getAttribute("style")),hrefNormalized:"/a"===r.getAttribute("href"),opacity:/^0.5/.test(r.style.opacity),cssFloat:!!r.style.cssFloat,checkOn:!!a.value,optSelected:l.selected,enctype:!!o.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==o.createElement("nav").cloneNode(!0).outerHTML,boxModel:"CSS1Compat"===o.compatMode,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1},a.checked=!0,t.noCloneChecked=a.cloneNode(!0).checked,s.disabled=!0,t.optDisabled=!l.disabled;try{delete d.test}catch(h){t.deleteExpando=!1}a=o.createElement("input"),a.setAttribute("value",""),t.input=""===a.getAttribute("value"),a.value="t",a.setAttribute("type","radio"),t.radioValue="t"===a.value,a.setAttribute("checked","t"),a.setAttribute("name","t"),u=o.createDocumentFragment(),u.appendChild(a),t.appendChecked=a.checked,t.checkClone=u.cloneNode(!0).cloneNode(!0).lastChild.checked,d.attachEvent&&(d.attachEvent("onclick",function(){t.noCloneEvent=!1}),d.cloneNode(!0).click());for(f in{submit:!0,change:!0,focusin:!0})d.setAttribute(c="on"+f,"t"),t[f+"Bubbles"]=c in e||d.attributes[c].expando===!1;return d.style.backgroundClip="content-box",d.cloneNode(!0).style.backgroundClip="",t.clearCloneStyle="content-box"===d.style.backgroundClip,b(function(){var n,r,a,s="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",u=o.getElementsByTagName("body")[0];u&&(n=o.createElement("div"),n.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",u.appendChild(n).appendChild(d),d.innerHTML="<table><tr><td></td><td>t</td></tr></table>",a=d.getElementsByTagName("td"),a[0].style.cssText="padding:0;margin:0;border:0;display:none",p=0===a[0].offsetHeight,a[0].style.display="",a[1].style.display="none",t.reliableHiddenOffsets=p&&0===a[0].offsetHeight,d.innerHTML="",d.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",t.boxSizing=4===d.offsetWidth,t.doesNotIncludeMarginInBodyOffset=1!==u.offsetTop,e.getComputedStyle&&(t.pixelPosition="1%"!==(e.getComputedStyle(d,null)||{}).top,t.boxSizingReliable="4px"===(e.getComputedStyle(d,null)||{width:"4px"}).width,r=d.appendChild(o.createElement("div")),r.style.cssText=d.style.cssText=s,r.style.marginRight=r.style.width="0",d.style.width="1px",t.reliableMarginRight=!parseFloat((e.getComputedStyle(r,null)||{}).marginRight)),typeof d.style.zoom!==i&&(d.innerHTML="",d.style.cssText=s+"width:1px;padding:1px;display:inline;zoom:1",t.inlineBlockNeedsLayout=3===d.offsetWidth,d.style.display="block",d.innerHTML="<div></div>",d.firstChild.style.width="5px",t.shrinkWrapBlocks=3!==d.offsetWidth,t.inlineBlockNeedsLayout&&(u.style.zoom=1)),u.removeChild(n),n=d=a=r=null)}),n=s=u=l=r=a=null,t}();var O=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,B=/([A-Z])/g;function P(e,n,r,i){if(b.acceptData(e)){var o,a,s=b.expando,u="string"==typeof n,l=e.nodeType,p=l?b.cache:e,f=l?e[s]:e[s]&&s;if(f&&p[f]&&(i||p[f].data)||!u||r!==t)return f||(l?e[s]=f=c.pop()||b.guid++:f=s),p[f]||(p[f]={},l||(p[f].toJSON=b.noop)),("object"==typeof n||"function"==typeof n)&&(i?p[f]=b.extend(p[f],n):p[f].data=b.extend(p[f].data,n)),o=p[f],i||(o.data||(o.data={}),o=o.data),r!==t&&(o[b.camelCase(n)]=r),u?(a=o[n],null==a&&(a=o[b.camelCase(n)])):a=o,a}}function R(e,t,n){if(b.acceptData(e)){var r,i,o,a=e.nodeType,s=a?b.cache:e,u=a?e[b.expando]:b.expando;if(s[u]){if(t&&(o=n?s[u]:s[u].data)){b.isArray(t)?t=t.concat(b.map(t,b.camelCase)):t in o?t=[t]:(t=b.camelCase(t),t=t in o?[t]:t.split(" "));for(r=0,i=t.length;i>r;r++)delete o[t[r]];if(!(n?$:b.isEmptyObject)(o))return}(n||(delete s[u].data,$(s[u])))&&(a?b.cleanData([e],!0):b.support.deleteExpando||s!=s.window?delete s[u]:s[u]=null)}}}b.extend({cache:{},expando:"jQuery"+(p+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(e){return e=e.nodeType?b.cache[e[b.expando]]:e[b.expando],!!e&&!$(e)},data:function(e,t,n){return P(e,t,n)},removeData:function(e,t){return R(e,t)},_data:function(e,t,n){return P(e,t,n,!0)},_removeData:function(e,t){return R(e,t,!0)},acceptData:function(e){if(e.nodeType&&1!==e.nodeType&&9!==e.nodeType)return!1;var t=e.nodeName&&b.noData[e.nodeName.toLowerCase()];return!t||t!==!0&&e.getAttribute("classid")===t}}),b.fn.extend({data:function(e,n){var r,i,o=this[0],a=0,s=null;if(e===t){if(this.length&&(s=b.data(o),1===o.nodeType&&!b._data(o,"parsedAttrs"))){for(r=o.attributes;r.length>a;a++)i=r[a].name,i.indexOf("data-")||(i=b.camelCase(i.slice(5)),W(o,i,s[i]));b._data(o,"parsedAttrs",!0)}return s}return"object"==typeof e?this.each(function(){b.data(this,e)}):b.access(this,function(n){return n===t?o?W(o,e,b.data(o,e)):null:(this.each(function(){b.data(this,e,n)}),t)},null,n,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){b.removeData(this,e)})}});function W(e,n,r){if(r===t&&1===e.nodeType){var i="data-"+n.replace(B,"-$1").toLowerCase();if(r=e.getAttribute(i),"string"==typeof r){try{r="true"===r?!0:"false"===r?!1:"null"===r?null:+r+""===r?+r:O.test(r)?b.parseJSON(r):r}catch(o){}b.data(e,n,r)}else r=t}return r}function $(e){var t;for(t in e)if(("data"!==t||!b.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}b.extend({queue:function(e,n,r){var i;return e?(n=(n||"fx")+"queue",i=b._data(e,n),r&&(!i||b.isArray(r)?i=b._data(e,n,b.makeArray(r)):i.push(r)),i||[]):t},dequeue:function(e,t){t=t||"fx";var n=b.queue(e,t),r=n.length,i=n.shift(),o=b._queueHooks(e,t),a=function(){b.dequeue(e,t)};"inprogress"===i&&(i=n.shift(),r--),o.cur=i,i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,a,o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return b._data(e,n)||b._data(e,n,{empty:b.Callbacks("once memory").add(function(){b._removeData(e,t+"queue"),b._removeData(e,n)})})}}),b.fn.extend({queue:function(e,n){var r=2;return"string"!=typeof e&&(n=e,e="fx",r--),r>arguments.length?b.queue(this[0],e):n===t?this:this.each(function(){var t=b.queue(this,e,n);b._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&b.dequeue(this,e)})},dequeue:function(e){return this.each(function(){b.dequeue(this,e)})},delay:function(e,t){return e=b.fx?b.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,n){var r,i=1,o=b.Deferred(),a=this,s=this.length,u=function(){--i||o.resolveWith(a,[a])};"string"!=typeof e&&(n=e,e=t),e=e||"fx";while(s--)r=b._data(a[s],e+"queueHooks"),r&&r.empty&&(i++,r.empty.add(u));return u(),o.promise(n)}});var I,z,X=/[\t\r\n]/g,U=/\r/g,V=/^(?:input|select|textarea|button|object)$/i,Y=/^(?:a|area)$/i,J=/^(?:checked|selected|autofocus|autoplay|async|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped)$/i,G=/^(?:checked|selected)$/i,Q=b.support.getSetAttribute,K=b.support.input;b.fn.extend({attr:function(e,t){return b.access(this,b.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){b.removeAttr(this,e)})},prop:function(e,t){return b.access(this,b.prop,e,t,arguments.length>1)},removeProp:function(e){return e=b.propFix[e]||e,this.each(function(){try{this[e]=t,delete this[e]}catch(n){}})},addClass:function(e){var t,n,r,i,o,a=0,s=this.length,u="string"==typeof e&&e;if(b.isFunction(e))return this.each(function(t){b(this).addClass(e.call(this,t,this.className))});if(u)for(t=(e||"").match(w)||[];s>a;a++)if(n=this[a],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(X," "):" ")){o=0;while(i=t[o++])0>r.indexOf(" "+i+" ")&&(r+=i+" ");n.className=b.trim(r)}return this},removeClass:function(e){var t,n,r,i,o,a=0,s=this.length,u=0===arguments.length||"string"==typeof e&&e;if(b.isFunction(e))return this.each(function(t){b(this).removeClass(e.call(this,t,this.className))});if(u)for(t=(e||"").match(w)||[];s>a;a++)if(n=this[a],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(X," "):"")){o=0;while(i=t[o++])while(r.indexOf(" "+i+" ")>=0)r=r.replace(" "+i+" "," ");n.className=e?b.trim(r):""}return this},toggleClass:function(e,t){var n=typeof e,r="boolean"==typeof t;return b.isFunction(e)?this.each(function(n){b(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if("string"===n){var o,a=0,s=b(this),u=t,l=e.match(w)||[];while(o=l[a++])u=r?u:!s.hasClass(o),s[u?"addClass":"removeClass"](o)}else(n===i||"boolean"===n)&&(this.className&&b._data(this,"__className__",this.className),this.className=this.className||e===!1?"":b._data(this,"__className__")||"")})},hasClass:function(e){var t=" "+e+" ",n=0,r=this.length;for(;r>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(X," ").indexOf(t)>=0)return!0;return!1},val:function(e){var n,r,i,o=this[0];{if(arguments.length)return i=b.isFunction(e),this.each(function(n){var o,a=b(this);1===this.nodeType&&(o=i?e.call(this,n,a.val()):e,null==o?o="":"number"==typeof o?o+="":b.isArray(o)&&(o=b.map(o,function(e){return null==e?"":e+""})),r=b.valHooks[this.type]||b.valHooks[this.nodeName.toLowerCase()],r&&"set"in r&&r.set(this,o,"value")!==t||(this.value=o))});if(o)return r=b.valHooks[o.type]||b.valHooks[o.nodeName.toLowerCase()],r&&"get"in r&&(n=r.get(o,"value"))!==t?n:(n=o.value,"string"==typeof n?n.replace(U,""):null==n?"":n)}}}),b.extend({valHooks:{option:{get:function(e){var t=e.attributes.value;return!t||t.specified?e.value:e.text}},select:{get:function(e){var t,n,r=e.options,i=e.selectedIndex,o="select-one"===e.type||0>i,a=o?null:[],s=o?i+1:r.length,u=0>i?s:o?i:0;for(;s>u;u++)if(n=r[u],!(!n.selected&&u!==i||(b.support.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&b.nodeName(n.parentNode,"optgroup"))){if(t=b(n).val(),o)return t;a.push(t)}return a},set:function(e,t){var n=b.makeArray(t);return b(e).find("option").each(function(){this.selected=b.inArray(b(this).val(),n)>=0}),n.length||(e.selectedIndex=-1),n}}},attr:function(e,n,r){var o,a,s,u=e.nodeType;if(e&&3!==u&&8!==u&&2!==u)return typeof e.getAttribute===i?b.prop(e,n,r):(a=1!==u||!b.isXMLDoc(e),a&&(n=n.toLowerCase(),o=b.attrHooks[n]||(J.test(n)?z:I)),r===t?o&&a&&"get"in o&&null!==(s=o.get(e,n))?s:(typeof e.getAttribute!==i&&(s=e.getAttribute(n)),null==s?t:s):null!==r?o&&a&&"set"in o&&(s=o.set(e,r,n))!==t?s:(e.setAttribute(n,r+""),r):(b.removeAttr(e,n),t))},removeAttr:function(e,t){var n,r,i=0,o=t&&t.match(w);if(o&&1===e.nodeType)while(n=o[i++])r=b.propFix[n]||n,J.test(n)?!Q&&G.test(n)?e[b.camelCase("default-"+n)]=e[r]=!1:e[r]=!1:b.attr(e,n,""),e.removeAttribute(Q?n:r)},attrHooks:{type:{set:function(e,t){if(!b.support.radioValue&&"radio"===t&&b.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(e,n,r){var i,o,a,s=e.nodeType;if(e&&3!==s&&8!==s&&2!==s)return a=1!==s||!b.isXMLDoc(e),a&&(n=b.propFix[n]||n,o=b.propHooks[n]),r!==t?o&&"set"in o&&(i=o.set(e,r,n))!==t?i:e[n]=r:o&&"get"in o&&null!==(i=o.get(e,n))?i:e[n]},propHooks:{tabIndex:{get:function(e){var n=e.getAttributeNode("tabindex");return n&&n.specified?parseInt(n.value,10):V.test(e.nodeName)||Y.test(e.nodeName)&&e.href?0:t}}}}),z={get:function(e,n){var r=b.prop(e,n),i="boolean"==typeof r&&e.getAttribute(n),o="boolean"==typeof r?K&&Q?null!=i:G.test(n)?e[b.camelCase("default-"+n)]:!!i:e.getAttributeNode(n);return o&&o.value!==!1?n.toLowerCase():t},set:function(e,t,n){return t===!1?b.removeAttr(e,n):K&&Q||!G.test(n)?e.setAttribute(!Q&&b.propFix[n]||n,n):e[b.camelCase("default-"+n)]=e[n]=!0,n}},K&&Q||(b.attrHooks.value={get:function(e,n){var r=e.getAttributeNode(n);return b.nodeName(e,"input")?e.defaultValue:r&&r.specified?r.value:t},set:function(e,n,r){return b.nodeName(e,"input")?(e.defaultValue=n,t):I&&I.set(e,n,r)}}),Q||(I=b.valHooks.button={get:function(e,n){var r=e.getAttributeNode(n);return r&&("id"===n||"name"===n||"coords"===n?""!==r.value:r.specified)?r.value:t},set:function(e,n,r){var i=e.getAttributeNode(r);return i||e.setAttributeNode(i=e.ownerDocument.createAttribute(r)),i.value=n+="","value"===r||n===e.getAttribute(r)?n:t}},b.attrHooks.contenteditable={get:I.get,set:function(e,t,n){I.set(e,""===t?!1:t,n)}},b.each(["width","height"],function(e,n){b.attrHooks[n]=b.extend(b.attrHooks[n],{set:function(e,r){return""===r?(e.setAttribute(n,"auto"),r):t}})})),b.support.hrefNormalized||(b.each(["href","src","width","height"],function(e,n){b.attrHooks[n]=b.extend(b.attrHooks[n],{get:function(e){var r=e.getAttribute(n,2);return null==r?t:r}})}),b.each(["href","src"],function(e,t){b.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}})),b.support.style||(b.attrHooks.style={get:function(e){return e.style.cssText||t},set:function(e,t){return e.style.cssText=t+""}}),b.support.optSelected||(b.propHooks.selected=b.extend(b.propHooks.selected,{get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}})),b.support.enctype||(b.propFix.enctype="encoding"),b.support.checkOn||b.each(["radio","checkbox"],function(){b.valHooks[this]={get:function(e){return null===e.getAttribute("value")?"on":e.value}}}),b.each(["radio","checkbox"],function(){b.valHooks[this]=b.extend(b.valHooks[this],{set:function(e,n){return b.isArray(n)?e.checked=b.inArray(b(e).val(),n)>=0:t}})});var Z=/^(?:input|select|textarea)$/i,et=/^key/,tt=/^(?:mouse|contextmenu)|click/,nt=/^(?:focusinfocus|focusoutblur)$/,rt=/^([^.]*)(?:\.(.+)|)$/;function it(){return!0}function ot(){return!1}b.event={global:{},add:function(e,n,r,o,a){var s,u,l,c,p,f,d,h,g,m,y,v=b._data(e);if(v){r.handler&&(c=r,r=c.handler,a=c.selector),r.guid||(r.guid=b.guid++),(u=v.events)||(u=v.events={}),(f=v.handle)||(f=v.handle=function(e){return typeof b===i||e&&b.event.triggered===e.type?t:b.event.dispatch.apply(f.elem,arguments)},f.elem=e),n=(n||"").match(w)||[""],l=n.length;while(l--)s=rt.exec(n[l])||[],g=y=s[1],m=(s[2]||"").split(".").sort(),p=b.event.special[g]||{},g=(a?p.delegateType:p.bindType)||g,p=b.event.special[g]||{},d=b.extend({type:g,origType:y,data:o,handler:r,guid:r.guid,selector:a,needsContext:a&&b.expr.match.needsContext.test(a),namespace:m.join(".")},c),(h=u[g])||(h=u[g]=[],h.delegateCount=0,p.setup&&p.setup.call(e,o,m,f)!==!1||(e.addEventListener?e.addEventListener(g,f,!1):e.attachEvent&&e.attachEvent("on"+g,f))),p.add&&(p.add.call(e,d),d.handler.guid||(d.handler.guid=r.guid)),a?h.splice(h.delegateCount++,0,d):h.push(d),b.event.global[g]=!0;e=null}},remove:function(e,t,n,r,i){var o,a,s,u,l,c,p,f,d,h,g,m=b.hasData(e)&&b._data(e);if(m&&(c=m.events)){t=(t||"").match(w)||[""],l=t.length;while(l--)if(s=rt.exec(t[l])||[],d=g=s[1],h=(s[2]||"").split(".").sort(),d){p=b.event.special[d]||{},d=(r?p.delegateType:p.bindType)||d,f=c[d]||[],s=s[2]&&RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),u=o=f.length;while(o--)a=f[o],!i&&g!==a.origType||n&&n.guid!==a.guid||s&&!s.test(a.namespace)||r&&r!==a.selector&&("**"!==r||!a.selector)||(f.splice(o,1),a.selector&&f.delegateCount--,p.remove&&p.remove.call(e,a));u&&!f.length&&(p.teardown&&p.teardown.call(e,h,m.handle)!==!1||b.removeEvent(e,d,m.handle),delete c[d])}else for(d in c)b.event.remove(e,d+t[l],n,r,!0);b.isEmptyObject(c)&&(delete m.handle,b._removeData(e,"events"))}},trigger:function(n,r,i,a){var s,u,l,c,p,f,d,h=[i||o],g=y.call(n,"type")?n.type:n,m=y.call(n,"namespace")?n.namespace.split("."):[];if(l=f=i=i||o,3!==i.nodeType&&8!==i.nodeType&&!nt.test(g+b.event.triggered)&&(g.indexOf(".")>=0&&(m=g.split("."),g=m.shift(),m.sort()),u=0>g.indexOf(":")&&"on"+g,n=n[b.expando]?n:new b.Event(g,"object"==typeof n&&n),n.isTrigger=!0,n.namespace=m.join("."),n.namespace_re=n.namespace?RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,n.result=t,n.target||(n.target=i),r=null==r?[n]:b.makeArray(r,[n]),p=b.event.special[g]||{},a||!p.trigger||p.trigger.apply(i,r)!==!1)){if(!a&&!p.noBubble&&!b.isWindow(i)){for(c=p.delegateType||g,nt.test(c+g)||(l=l.parentNode);l;l=l.parentNode)h.push(l),f=l;f===(i.ownerDocument||o)&&h.push(f.defaultView||f.parentWindow||e)}d=0;while((l=h[d++])&&!n.isPropagationStopped())n.type=d>1?c:p.bindType||g,s=(b._data(l,"events")||{})[n.type]&&b._data(l,"handle"),s&&s.apply(l,r),s=u&&l[u],s&&b.acceptData(l)&&s.apply&&s.apply(l,r)===!1&&n.preventDefault();if(n.type=g,!(a||n.isDefaultPrevented()||p._default&&p._default.apply(i.ownerDocument,r)!==!1||"click"===g&&b.nodeName(i,"a")||!b.acceptData(i)||!u||!i[g]||b.isWindow(i))){f=i[u],f&&(i[u]=null),b.event.triggered=g;try{i[g]()}catch(v){}b.event.triggered=t,f&&(i[u]=f)}return n.result}},dispatch:function(e){e=b.event.fix(e);var n,r,i,o,a,s=[],u=h.call(arguments),l=(b._data(this,"events")||{})[e.type]||[],c=b.event.special[e.type]||{};if(u[0]=e,e.delegateTarget=this,!c.preDispatch||c.preDispatch.call(this,e)!==!1){s=b.event.handlers.call(this,e,l),n=0;while((o=s[n++])&&!e.isPropagationStopped()){e.currentTarget=o.elem,a=0;while((i=o.handlers[a++])&&!e.isImmediatePropagationStopped())(!e.namespace_re||e.namespace_re.test(i.namespace))&&(e.handleObj=i,e.data=i.data,r=((b.event.special[i.origType]||{}).handle||i.handler).apply(o.elem,u),r!==t&&(e.result=r)===!1&&(e.preventDefault(),e.stopPropagation()))}return c.postDispatch&&c.postDispatch.call(this,e),e.result}},handlers:function(e,n){var r,i,o,a,s=[],u=n.delegateCount,l=e.target;if(u&&l.nodeType&&(!e.button||"click"!==e.type))for(;l!=this;l=l.parentNode||this)if(1===l.nodeType&&(l.disabled!==!0||"click"!==e.type)){for(o=[],a=0;u>a;a++)i=n[a],r=i.selector+" ",o[r]===t&&(o[r]=i.needsContext?b(r,this).index(l)>=0:b.find(r,this,null,[l]).length),o[r]&&o.push(i);o.length&&s.push({elem:l,handlers:o})}return n.length>u&&s.push({elem:this,handlers:n.slice(u)}),s},fix:function(e){if(e[b.expando])return e;var t,n,r,i=e.type,a=e,s=this.fixHooks[i];s||(this.fixHooks[i]=s=tt.test(i)?this.mouseHooks:et.test(i)?this.keyHooks:{}),r=s.props?this.props.concat(s.props):this.props,e=new b.Event(a),t=r.length;while(t--)n=r[t],e[n]=a[n];return e.target||(e.target=a.srcElement||o),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,s.filter?s.filter(e,a):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,n){var r,i,a,s=n.button,u=n.fromElement;return null==e.pageX&&null!=n.clientX&&(i=e.target.ownerDocument||o,a=i.documentElement,r=i.body,e.pageX=n.clientX+(a&&a.scrollLeft||r&&r.scrollLeft||0)-(a&&a.clientLeft||r&&r.clientLeft||0),e.pageY=n.clientY+(a&&a.scrollTop||r&&r.scrollTop||0)-(a&&a.clientTop||r&&r.clientTop||0)),!e.relatedTarget&&u&&(e.relatedTarget=u===e.target?n.toElement:u),e.which||s===t||(e.which=1&s?1:2&s?3:4&s?2:0),e}},special:{load:{noBubble:!0},click:{trigger:function(){return b.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):t}},focus:{trigger:function(){if(this!==o.activeElement&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){return this===o.activeElement&&this.blur?(this.blur(),!1):t},delegateType:"focusout"},beforeunload:{postDispatch:function(e){e.result!==t&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,r){var i=b.extend(new b.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?b.event.trigger(i,null,t):b.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},b.removeEvent=o.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var r="on"+t;e.detachEvent&&(typeof e[r]===i&&(e[r]=null),e.detachEvent(r,n))},b.Event=function(e,n){return this instanceof b.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.returnValue===!1||e.getPreventDefault&&e.getPreventDefault()?it:ot):this.type=e,n&&b.extend(this,n),this.timeStamp=e&&e.timeStamp||b.now(),this[b.expando]=!0,t):new b.Event(e,n)},b.Event.prototype={isDefaultPrevented:ot,isPropagationStopped:ot,isImmediatePropagationStopped:ot,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=it,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=it,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=it,this.stopPropagation()}},b.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){b.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,o=e.handleObj;return(!i||i!==r&&!b.contains(r,i))&&(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),b.support.submitBubbles||(b.event.special.submit={setup:function(){return b.nodeName(this,"form")?!1:(b.event.add(this,"click._submit keypress._submit",function(e){var n=e.target,r=b.nodeName(n,"input")||b.nodeName(n,"button")?n.form:t;r&&!b._data(r,"submitBubbles")&&(b.event.add(r,"submit._submit",function(e){e._submit_bubble=!0}),b._data(r,"submitBubbles",!0))}),t)},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&b.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return b.nodeName(this,"form")?!1:(b.event.remove(this,"._submit"),t)}}),b.support.changeBubbles||(b.event.special.change={setup:function(){return Z.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(b.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),b.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),b.event.simulate("change",this,e,!0)})),!1):(b.event.add(this,"beforeactivate._change",function(e){var t=e.target;Z.test(t.nodeName)&&!b._data(t,"changeBubbles")&&(b.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||b.event.simulate("change",this.parentNode,e,!0)}),b._data(t,"changeBubbles",!0))}),t)},handle:function(e){var n=e.target;return this!==n||e.isSimulated||e.isTrigger||"radio"!==n.type&&"checkbox"!==n.type?e.handleObj.handler.apply(this,arguments):t},teardown:function(){return b.event.remove(this,"._change"),!Z.test(this.nodeName)}}),b.support.focusinBubbles||b.each({focus:"focusin",blur:"focusout"},function(e,t){var n=0,r=function(e){b.event.simulate(t,e.target,b.event.fix(e),!0)};b.event.special[t]={setup:function(){0===n++&&o.addEventListener(e,r,!0)},teardown:function(){0===--n&&o.removeEventListener(e,r,!0)}}}),b.fn.extend({on:function(e,n,r,i,o){var a,s;if("object"==typeof e){"string"!=typeof n&&(r=r||n,n=t);for(a in e)this.on(a,n,r,e[a],o);return this}if(null==r&&null==i?(i=n,r=n=t):null==i&&("string"==typeof n?(i=r,r=t):(i=r,r=n,n=t)),i===!1)i=ot;else if(!i)return this;return 1===o&&(s=i,i=function(e){return b().off(e),s.apply(this,arguments)},i.guid=s.guid||(s.guid=b.guid++)),this.each(function(){b.event.add(this,e,i,r,n)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,n,r){var i,o;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,b(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(o in e)this.off(o,n,e[o]);return this}return(n===!1||"function"==typeof n)&&(r=n,n=t),r===!1&&(r=ot),this.each(function(){b.event.remove(this,e,r,n)})},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},trigger:function(e,t){return this.each(function(){b.event.trigger(e,t,this)})},triggerHandler:function(e,n){var r=this[0];return r?b.event.trigger(e,n,r,!0):t}}),function(e,t){var n,r,i,o,a,s,u,l,c,p,f,d,h,g,m,y,v,x="sizzle"+-new Date,w=e.document,T={},N=0,C=0,k=it(),E=it(),S=it(),A=typeof t,j=1<<31,D=[],L=D.pop,H=D.push,q=D.slice,M=D.indexOf||function(e){var t=0,n=this.length;for(;n>t;t++)if(this[t]===e)return t;return-1},_="[\\x20\\t\\r\\n\\f]",F="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",O=F.replace("w","w#"),B="([*^$|!~]?=)",P="\\["+_+"*("+F+")"+_+"*(?:"+B+_+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+O+")|)|)"+_+"*\\]",R=":("+F+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+P.replace(3,8)+")*)|.*)\\)|)",W=RegExp("^"+_+"+|((?:^|[^\\\\])(?:\\\\.)*)"+_+"+$","g"),$=RegExp("^"+_+"*,"+_+"*"),I=RegExp("^"+_+"*([\\x20\\t\\r\\n\\f>+~])"+_+"*"),z=RegExp(R),X=RegExp("^"+O+"$"),U={ID:RegExp("^#("+F+")"),CLASS:RegExp("^\\.("+F+")"),NAME:RegExp("^\\[name=['\"]?("+F+")['\"]?\\]"),TAG:RegExp("^("+F.replace("w","w*")+")"),ATTR:RegExp("^"+P),PSEUDO:RegExp("^"+R),CHILD:RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+_+"*(even|odd|(([+-]|)(\\d*)n|)"+_+"*(?:([+-]|)"+_+"*(\\d+)|))"+_+"*\\)|)","i"),needsContext:RegExp("^"+_+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+_+"*((?:-\\d)?\\d*)"+_+"*\\)|)(?=[^-]|$)","i")},V=/[\x20\t\r\n\f]*[+~]/,Y=/^[^{]+\{\s*\[native code/,J=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,G=/^(?:input|select|textarea|button)$/i,Q=/^h\d$/i,K=/'|\\/g,Z=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,et=/\\([\da-fA-F]{1,6}[\x20\t\r\n\f]?|.)/g,tt=function(e,t){var n="0x"+t-65536;return n!==n?t:0>n?String.fromCharCode(n+65536):String.fromCharCode(55296|n>>10,56320|1023&n)};try{q.call(w.documentElement.childNodes,0)[0].nodeType}catch(nt){q=function(e){var t,n=[];while(t=this[e++])n.push(t);return n}}function rt(e){return Y.test(e+"")}function it(){var e,t=[];return e=function(n,r){return t.push(n+=" ")>i.cacheLength&&delete e[t.shift()],e[n]=r}}function ot(e){return e[x]=!0,e}function at(e){var t=p.createElement("div");try{return e(t)}catch(n){return!1}finally{t=null}}function st(e,t,n,r){var i,o,a,s,u,l,f,g,m,v;if((t?t.ownerDocument||t:w)!==p&&c(t),t=t||p,n=n||[],!e||"string"!=typeof e)return n;if(1!==(s=t.nodeType)&&9!==s)return[];if(!d&&!r){if(i=J.exec(e))if(a=i[1]){if(9===s){if(o=t.getElementById(a),!o||!o.parentNode)return n;if(o.id===a)return n.push(o),n}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(a))&&y(t,o)&&o.id===a)return n.push(o),n}else{if(i[2])return H.apply(n,q.call(t.getElementsByTagName(e),0)),n;if((a=i[3])&&T.getByClassName&&t.getElementsByClassName)return H.apply(n,q.call(t.getElementsByClassName(a),0)),n}if(T.qsa&&!h.test(e)){if(f=!0,g=x,m=t,v=9===s&&e,1===s&&"object"!==t.nodeName.toLowerCase()){l=ft(e),(f=t.getAttribute("id"))?g=f.replace(K,"\\$&"):t.setAttribute("id",g),g="[id='"+g+"'] ",u=l.length;while(u--)l[u]=g+dt(l[u]);m=V.test(e)&&t.parentNode||t,v=l.join(",")}if(v)try{return H.apply(n,q.call(m.querySelectorAll(v),0)),n}catch(b){}finally{f||t.removeAttribute("id")}}}return wt(e.replace(W,"$1"),t,n,r)}a=st.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},c=st.setDocument=function(e){var n=e?e.ownerDocument||e:w;return n!==p&&9===n.nodeType&&n.documentElement?(p=n,f=n.documentElement,d=a(n),T.tagNameNoComments=at(function(e){return e.appendChild(n.createComment("")),!e.getElementsByTagName("*").length}),T.attributes=at(function(e){e.innerHTML="<select></select>";var t=typeof e.lastChild.getAttribute("multiple");return"boolean"!==t&&"string"!==t}),T.getByClassName=at(function(e){return e.innerHTML="<div class='hidden e'></div><div class='hidden'></div>",e.getElementsByClassName&&e.getElementsByClassName("e").length?(e.lastChild.className="e",2===e.getElementsByClassName("e").length):!1}),T.getByName=at(function(e){e.id=x+0,e.innerHTML="<a name='"+x+"'></a><div name='"+x+"'></div>",f.insertBefore(e,f.firstChild);var t=n.getElementsByName&&n.getElementsByName(x).length===2+n.getElementsByName(x+0).length;return T.getIdNotName=!n.getElementById(x),f.removeChild(e),t}),i.attrHandle=at(function(e){return e.innerHTML="<a href='#'></a>",e.firstChild&&typeof e.firstChild.getAttribute!==A&&"#"===e.firstChild.getAttribute("href")})?{}:{href:function(e){return e.getAttribute("href",2)},type:function(e){return e.getAttribute("type")}},T.getIdNotName?(i.find.ID=function(e,t){if(typeof t.getElementById!==A&&!d){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},i.filter.ID=function(e){var t=e.replace(et,tt);return function(e){return e.getAttribute("id")===t}}):(i.find.ID=function(e,n){if(typeof n.getElementById!==A&&!d){var r=n.getElementById(e);return r?r.id===e||typeof r.getAttributeNode!==A&&r.getAttributeNode("id").value===e?[r]:t:[]}},i.filter.ID=function(e){var t=e.replace(et,tt);return function(e){var n=typeof e.getAttributeNode!==A&&e.getAttributeNode("id");return n&&n.value===t}}),i.find.TAG=T.tagNameNoComments?function(e,n){return typeof n.getElementsByTagName!==A?n.getElementsByTagName(e):t}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){while(n=o[i++])1===n.nodeType&&r.push(n);return r}return o},i.find.NAME=T.getByName&&function(e,n){return typeof n.getElementsByName!==A?n.getElementsByName(name):t},i.find.CLASS=T.getByClassName&&function(e,n){return typeof n.getElementsByClassName===A||d?t:n.getElementsByClassName(e)},g=[],h=[":focus"],(T.qsa=rt(n.querySelectorAll))&&(at(function(e){e.innerHTML="<select><option selected=''></option></select>",e.querySelectorAll("[selected]").length||h.push("\\["+_+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)"),e.querySelectorAll(":checked").length||h.push(":checked")}),at(function(e){e.innerHTML="<input type='hidden' i=''/>",e.querySelectorAll("[i^='']").length&&h.push("[*^$]="+_+"*(?:\"\"|'')"),e.querySelectorAll(":enabled").length||h.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),h.push(",.*:")})),(T.matchesSelector=rt(m=f.matchesSelector||f.mozMatchesSelector||f.webkitMatchesSelector||f.oMatchesSelector||f.msMatchesSelector))&&at(function(e){T.disconnectedMatch=m.call(e,"div"),m.call(e,"[s!='']:x"),g.push("!=",R)}),h=RegExp(h.join("|")),g=RegExp(g.join("|")),y=rt(f.contains)||f.compareDocumentPosition?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)while(t=t.parentNode)if(t===e)return!0;return!1},v=f.compareDocumentPosition?function(e,t){var r;return e===t?(u=!0,0):(r=t.compareDocumentPosition&&e.compareDocumentPosition&&e.compareDocumentPosition(t))?1&r||e.parentNode&&11===e.parentNode.nodeType?e===n||y(w,e)?-1:t===n||y(w,t)?1:0:4&r?-1:1:e.compareDocumentPosition?-1:1}:function(e,t){var r,i=0,o=e.parentNode,a=t.parentNode,s=[e],l=[t];if(e===t)return u=!0,0;if(!o||!a)return e===n?-1:t===n?1:o?-1:a?1:0;if(o===a)return ut(e,t);r=e;while(r=r.parentNode)s.unshift(r);r=t;while(r=r.parentNode)l.unshift(r);while(s[i]===l[i])i++;return i?ut(s[i],l[i]):s[i]===w?-1:l[i]===w?1:0},u=!1,[0,0].sort(v),T.detectDuplicates=u,p):p},st.matches=function(e,t){return st(e,null,null,t)},st.matchesSelector=function(e,t){if((e.ownerDocument||e)!==p&&c(e),t=t.replace(Z,"='$1']"),!(!T.matchesSelector||d||g&&g.test(t)||h.test(t)))try{var n=m.call(e,t);if(n||T.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(r){}return st(t,p,null,[e]).length>0},st.contains=function(e,t){return(e.ownerDocument||e)!==p&&c(e),y(e,t)},st.attr=function(e,t){var n;return(e.ownerDocument||e)!==p&&c(e),d||(t=t.toLowerCase()),(n=i.attrHandle[t])?n(e):d||T.attributes?e.getAttribute(t):((n=e.getAttributeNode(t))||e.getAttribute(t))&&e[t]===!0?t:n&&n.specified?n.value:null},st.error=function(e){throw Error("Syntax error,unrecognized expression:"+e)},st.uniqueSort=function(e){var t,n=[],r=1,i=0;if(u=!T.detectDuplicates,e.sort(v),u){for(;t=e[r];r++)t===e[r-1]&&(i=n.push(r));while(i--)e.splice(n[i],1)}return e};function ut(e,t){var n=t&&e,r=n&&(~t.sourceIndex||j)-(~e.sourceIndex||j);if(r)return r;if(n)while(n=n.nextSibling)if(n===t)return-1;return e?1:-1}function lt(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function ct(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function pt(e){return ot(function(t){return t=+t,ot(function(n,r){var i,o=e([],n.length,t),a=o.length;while(a--)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))})})}o=st.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=o(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r];r++)n+=o(t);return n},i=st.selectors={cacheLength:50,createPseudo:ot,match:U,find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(et,tt),e[3]=(e[4]||e[5]||"").replace(et,tt),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||st.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&st.error(e[0]),e},PSEUDO:function(e){var t,n=!e[5]&&e[2];return U.CHILD.test(e[0])?null:(e[4]?e[2]=e[4]:n&&z.test(n)&&(t=ft(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){return"*"===e?function(){return!0}:(e=e.replace(et,tt).toLowerCase(),function(t){return t.nodeName&&t.nodeName.toLowerCase()===e})},CLASS:function(e){var t=k[e+" "];return t||(t=RegExp("(^|"+_+")"+e+"("+_+"|$)"))&&k(e,function(e){return t.test(e.className||typeof e.getAttribute!==A&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(r){var i=st.attr(r,e);return null==i?"!="===t:t?(i+="","="===t?i===n:"!="===t?i!==n:"^="===t?n&&0===i.indexOf(n):"*="===t?n&&i.indexOf(n)>-1:"$="===t?n&&i.slice(-n.length)===n:"~="===t?(" "+i+" ").indexOf(n)>-1:"|="===t?i===n||i.slice(0,n.length+1)===n+"-":!1):!0}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,u){var l,c,p,f,d,h,g=o!==a?"nextSibling":"previousSibling",m=t.parentNode,y=s&&t.nodeName.toLowerCase(),v=!u&&!s;if(m){if(o){while(g){p=t;while(p=p[g])if(s?p.nodeName.toLowerCase()===y:1===p.nodeType)return!1;h=g="only"===e&&!h&&"nextSibling"}return!0}if(h=[a?m.firstChild:m.lastChild],a&&v){c=m[x]||(m[x]={}),l=c[e]||[],d=l[0]===N&&l[1],f=l[0]===N&&l[2],p=d&&m.childNodes[d];while(p=++d&&p&&p[g]||(f=d=0)||h.pop())if(1===p.nodeType&&++f&&p===t){c[e]=[N,d,f];break}}else if(v&&(l=(t[x]||(t[x]={}))[e])&&l[0]===N)f=l[1];else while(p=++d&&p&&p[g]||(f=d=0)||h.pop())if((s?p.nodeName.toLowerCase()===y:1===p.nodeType)&&++f&&(v&&((p[x]||(p[x]={}))[e]=[N,f]),p===t))break;return f-=i,f===r||0===f%r&&f/r>=0}}},PSEUDO:function(e,t){var n,r=i.pseudos[e]||i.setFilters[e.toLowerCase()]||st.error("unsupported pseudo:"+e);return r[x]?r(t):r.length>1?(n=[e,e,"",t],i.setFilters.hasOwnProperty(e.toLowerCase())?ot(function(e,n){var i,o=r(e,t),a=o.length;while(a--)i=M.call(e,o[a]),e[i]=!(n[i]=o[a])}):function(e){return r(e,0,n)}):r}},pseudos:{not:ot(function(e){var t=[],n=[],r=s(e.replace(W,"$1"));return r[x]?ot(function(e,t,n,i){var o,a=r(e,null,i,[]),s=e.length;while(s--)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,i,o){return t[0]=e,r(t,null,o,n),!n.pop()}}),has:ot(function(e){return function(t){return st(e,t).length>0}}),contains:ot(function(e){return function(t){return(t.textContent||t.innerText||o(t)).indexOf(e)>-1}}),lang:ot(function(e){return X.test(e||"")||st.error("unsupported lang:"+e),e=e.replace(et,tt).toLowerCase(),function(t){var n;do if(n=d?t.getAttribute("xml:lang")||t.getAttribute("lang"):t.lang)return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===f},focus:function(e){return e===p.activeElement&&(!p.hasFocus||p.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeName>"@"||3===e.nodeType||4===e.nodeType)return!1;return!0},parent:function(e){return!i.pseudos.empty(e)},header:function(e){return Q.test(e.nodeName)},input:function(e){return G.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||t.toLowerCase()===e.type)},first:pt(function(){return[0]}),last:pt(function(e,t){return[t-1]}),eq:pt(function(e,t,n){return[0>n?n+t:n]}),even:pt(function(e,t){var n=0;for(;t>n;n+=2)e.push(n);return e}),odd:pt(function(e,t){var n=1;for(;t>n;n+=2)e.push(n);return e}),lt:pt(function(e,t,n){var r=0>n?n+t:n;for(;--r>=0;)e.push(r);return e}),gt:pt(function(e,t,n){var r=0>n?n+t:n;for(;t>++r;)e.push(r);return e})}};for(n in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})i.pseudos[n]=lt(n);for(n in{submit:!0,reset:!0})i.pseudos[n]=ct(n);function ft(e,t){var n,r,o,a,s,u,l,c=E[e+" "];if(c)return t?0:c.slice(0);s=e,u=[],l=i.preFilter;while(s){(!n||(r=$.exec(s)))&&(r&&(s=s.slice(r[0].length)||s),u.push(o=[])),n=!1,(r=I.exec(s))&&(n=r.shift(),o.push({value:n,type:r[0].replace(W," ")}),s=s.slice(n.length));for(a in i.filter)!(r=U[a].exec(s))||l[a]&&!(r=l[a](r))||(n=r.shift(),o.push({value:n,type:a,matches:r}),s=s.slice(n.length));if(!n)break}return t?s.length:s?st.error(e):E(e,u).slice(0)}function dt(e){var t=0,n=e.length,r="";for(;n>t;t++)r+=e[t].value;return r}function ht(e,t,n){var i=t.dir,o=n&&"parentNode"===i,a=C++;return t.first?function(t,n,r){while(t=t[i])if(1===t.nodeType||o)return e(t,n,r)}:function(t,n,s){var u,l,c,p=N+" "+a;if(s){while(t=t[i])if((1===t.nodeType||o)&&e(t,n,s))return!0}else while(t=t[i])if(1===t.nodeType||o)if(c=t[x]||(t[x]={}),(l=c[i])&&l[0]===p){if((u=l[1])===!0||u===r)return u===!0}else if(l=c[i]=[p],l[1]=e(t,n,s)||r,l[1]===!0)return!0}}function gt(e){return e.length>1?function(t,n,r){var i=e.length;while(i--)if(!e[i](t,n,r))return!1;return!0}:e[0]}function mt(e,t,n,r,i){var o,a=[],s=0,u=e.length,l=null!=t;for(;u>s;s++)(o=e[s])&&(!n||n(o,r,i))&&(a.push(o),l&&t.push(s));return a}function yt(e,t,n,r,i,o){return r&&!r[x]&&(r=yt(r)),i&&!i[x]&&(i=yt(i,o)),ot(function(o,a,s,u){var l,c,p,f=[],d=[],h=a.length,g=o||xt(t||"*",s.nodeType?[s]:s,[]),m=!e||!o&&t?g:mt(g,f,e,s,u),y=n?i||(o?e:h||r)?[]:a:m;if(n&&n(m,y,s,u),r){l=mt(y,d),r(l,[],s,u),c=l.length;while(c--)(p=l[c])&&(y[d[c]]=!(m[d[c]]=p))}if(o){if(i||e){if(i){l=[],c=y.length;while(c--)(p=y[c])&&l.push(m[c]=p);i(null,y=[],l,u)}c=y.length;while(c--)(p=y[c])&&(l=i?M.call(o,p):f[c])>-1&&(o[l]=!(a[l]=p))}}else y=mt(y===a?y.splice(h,y.length):y),i?i(null,a,y,u):H.apply(a,y)})}function vt(e){var t,n,r,o=e.length,a=i.relative[e[0].type],s=a||i.relative[" "],u=a?1:0,c=ht(function(e){return e===t},s,!0),p=ht(function(e){return M.call(t,e)>-1},s,!0),f=[function(e,n,r){return!a&&(r||n!==l)||((t=n).nodeType?c(e,n,r):p(e,n,r))}];for(;o>u;u++)if(n=i.relative[e[u].type])f=[ht(gt(f),n)];else{if(n=i.filter[e[u].type].apply(null,e[u].matches),n[x]){for(r=++u;o>r;r++)if(i.relative[e[r].type])break;return yt(u>1&&gt(f),u>1&&dt(e.slice(0,u-1)).replace(W,"$1"),n,r>u&&vt(e.slice(u,r)),o>r&&vt(e=e.slice(r)),o>r&&dt(e))}f.push(n)}return gt(f)}function bt(e,t){var n=0,o=t.length>0,a=e.length>0,s=function(s,u,c,f,d){var h,g,m,y=[],v=0,b="0",x=s&&[],w=null!=d,T=l,C=s||a&&i.find.TAG("*",d&&u.parentNode||u),k=N+=null==T?1:Math.random()||.1;for(w&&(l=u!==p&&u,r=n);null!=(h=C[b]);b++){if(a&&h){g=0;while(m=e[g++])if(m(h,u,c)){f.push(h);break}w&&(N=k,r=++n)}o&&((h=!m&&h)&&v--,s&&x.push(h))}if(v+=b,o&&b!==v){g=0;while(m=t[g++])m(x,y,u,c);if(s){if(v>0)while(b--)x[b]||y[b]||(y[b]=L.call(f));y=mt(y)}H.apply(f,y),w&&!s&&y.length>0&&v+t.length>1&&st.uniqueSort(f)}return w&&(N=k,l=T),x};return o?ot(s):s}s=st.compile=function(e,t){var n,r=[],i=[],o=S[e+" "];if(!o){t||(t=ft(e)),n=t.length;while(n--)o=vt(t[n]),o[x]?r.push(o):i.push(o);o=S(e,bt(i,r))}return o};function xt(e,t,n){var r=0,i=t.length;for(;i>r;r++)st(e,t[r],n);return n}function wt(e,t,n,r){var o,a,u,l,c,p=ft(e);if(!r&&1===p.length){if(a=p[0]=p[0].slice(0),a.length>2&&"ID"===(u=a[0]).type&&9===t.nodeType&&!d&&i.relative[a[1].type]){if(t=i.find.ID(u.matches[0].replace(et,tt),t)[0],!t)return n;e=e.slice(a.shift().value.length)}o=U.needsContext.test(e)?0:a.length;while(o--){if(u=a[o],i.relative[l=u.type])break;if((c=i.find[l])&&(r=c(u.matches[0].replace(et,tt),V.test(a[0].type)&&t.parentNode||t))){if(a.splice(o,1),e=r.length&&dt(a),!e)return H.apply(n,q.call(r,0)),n;break}}}return s(e,p)(r,t,d,n,V.test(e)),n}i.pseudos.nth=i.pseudos.eq;function Tt(){}i.filters=Tt.prototype=i.pseudos,i.setFilters=new Tt,c(),st.attr=b.attr,b.find=st,b.expr=st.selectors,b.expr[":"]=b.expr.pseudos,b.unique=st.uniqueSort,b.text=st.getText,b.isXMLDoc=st.isXML,b.contains=st.contains}(e);var at=/Until$/,st=/^(?:parents|prev(?:Until|All))/,ut=/^.[^:#\[\.,]*$/,lt=b.expr.match.needsContext,ct={children:!0,contents:!0,next:!0,prev:!0};b.fn.extend({find:function(e){var t,n,r,i=this.length;if("string"!=typeof e)return r=this,this.pushStack(b(e).filter(function(){for(t=0;i>t;t++)if(b.contains(r[t],this))return!0}));for(n=[],t=0;i>t;t++)b.find(e,this[t],n);return n=this.pushStack(i>1?b.unique(n):n),n.selector=(this.selector?this.selector+" ":"")+e,n},has:function(e){var t,n=b(e,this),r=n.length;return this.filter(function(){for(t=0;r>t;t++)if(b.contains(this,n[t]))return!0})},not:function(e){return this.pushStack(ft(this,e,!1))},filter:function(e){return this.pushStack(ft(this,e,!0))},is:function(e){return!!e&&("string"==typeof e?lt.test(e)?b(e,this.context).index(this[0])>=0:b.filter(e,this).length>0:this.filter(e).length>0)},closest:function(e,t){var n,r=0,i=this.length,o=[],a=lt.test(e)||"string"!=typeof e?b(e,t||this.context):0;for(;i>r;r++){n=this[r];while(n&&n.ownerDocument&&n!==t&&11!==n.nodeType){if(a?a.index(n)>-1:b.find.matchesSelector(n,e)){o.push(n);break}n=n.parentNode}}return this.pushStack(o.length>1?b.unique(o):o)},index:function(e){return e?"string"==typeof e?b.inArray(this[0],b(e)):b.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){var n="string"==typeof e?b(e,t):b.makeArray(e&&e.nodeType?[e]:e),r=b.merge(this.get(),n);return this.pushStack(b.unique(r))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),b.fn.andSelf=b.fn.addBack;function pt(e,t){do e=e[t];while(e&&1!==e.nodeType);return e}b.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return b.dir(e,"parentNode")},parentsUntil:function(e,t,n){return b.dir(e,"parentNode",n)},next:function(e){return pt(e,"nextSibling")},prev:function(e){return pt(e,"previousSibling")},nextAll:function(e){return b.dir(e,"nextSibling")},prevAll:function(e){return b.dir(e,"previousSibling")},nextUntil:function(e,t,n){return b.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return b.dir(e,"previousSibling",n)},siblings:function(e){return b.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return b.sibling(e.firstChild)},contents:function(e){return b.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:b.merge([],e.childNodes)}},function(e,t){b.fn[e]=function(n,r){var i=b.map(this,t,n);return at.test(e)||(r=n),r&&"string"==typeof r&&(i=b.filter(r,i)),i=this.length>1&&!ct[e]?b.unique(i):i,this.length>1&&st.test(e)&&(i=i.reverse()),this.pushStack(i)}}),b.extend({filter:function(e,t,n){return n&&(e=":not("+e+")"),1===t.length?b.find.matchesSelector(t[0],e)?[t[0]]:[]:b.find.matches(e,t)},dir:function(e,n,r){var i=[],o=e[n];while(o&&9!==o.nodeType&&(r===t||1!==o.nodeType||!b(o).is(r)))1===o.nodeType&&i.push(o),o=o[n];return i},sibling:function(e,t){var n=[];for(;e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}});function ft(e,t,n){if(t=t||0,b.isFunction(t))return b.grep(e,function(e,r){var i=!!t.call(e,r,e);return i===n});if(t.nodeType)return b.grep(e,function(e){return e===t===n});if("string"==typeof t){var r=b.grep(e,function(e){return 1===e.nodeType});if(ut.test(t))return b.filter(t,r,!n);t=b.filter(t,r)}return b.grep(e,function(e){return b.inArray(e,t)>=0===n})}function dt(e){var t=ht.split("|"),n=e.createDocumentFragment();if(n.createElement)while(t.length)n.createElement(t.pop());return n}var ht="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",gt=/ jQuery\d+="(?:null|\d+)"/g,mt=RegExp("<(?:"+ht+")[\\s/>]","i"),yt=/^\s+/,vt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,bt=/<([\w:]+)/,xt=/<tbody/i,wt=/<|&#?\w+;/,Tt=/<(?:script|style|link)/i,Nt=/^(?:checkbox|radio)$/i,Ct=/checked\s*(?:[^=]|=\s*.checked.)/i,kt=/^$|\/(?:java|ecma)script/i,Et=/^true\/(.*)/,St=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,At={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:b.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},jt=dt(o),Dt=jt.appendChild(o.createElement("div"));At.optgroup=At.option,At.tbody=At.tfoot=At.colgroup=At.caption=At.thead,At.th=At.td,b.fn.extend({text:function(e){return b.access(this,function(e){return e===t?b.text(this):this.empty().append((this[0]&&this[0].ownerDocument||o).createTextNode(e))},null,e,arguments.length)},wrapAll:function(e){if(b.isFunction(e))return this.each(function(t){b(this).wrapAll(e.call(this,t))});if(this[0]){var t=b(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){var e=this;while(e.firstChild&&1===e.firstChild.nodeType)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return b.isFunction(e)?this.each(function(t){b(this).wrapInner(e.call(this,t))}):this.each(function(){var t=b(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=b.isFunction(e);return this.each(function(n){b(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){b.nodeName(this,"body")||b(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(e){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&this.appendChild(e)})},prepend:function(){return this.domManip(arguments,!0,function(e){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&this.insertBefore(e,this.firstChild)})},before:function(){return this.domManip(arguments,!1,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,!1,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){var n,r=0;for(;null!=(n=this[r]);r++)(!e||b.filter(e,[n]).length>0)&&(t||1!==n.nodeType||b.cleanData(Ot(n)),n.parentNode&&(t&&b.contains(n.ownerDocument,n)&&Mt(Ot(n,"script")),n.parentNode.removeChild(n)));return this},empty:function(){var e,t=0;for(;null!=(e=this[t]);t++){1===e.nodeType&&b.cleanData(Ot(e,!1));while(e.firstChild)e.removeChild(e.firstChild);e.options&&b.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return b.clone(this,e,t)})},html:function(e){return b.access(this,function(e){var n=this[0]||{},r=0,i=this.length;if(e===t)return 1===n.nodeType?n.innerHTML.replace(gt,""):t;if(!("string"!=typeof e||Tt.test(e)||!b.support.htmlSerialize&&mt.test(e)||!b.support.leadingWhitespace&&yt.test(e)||At[(bt.exec(e)||["",""])[1].toLowerCase()])){e=e.replace(vt,"<$1></$2>");try{for(;i>r;r++)n=this[r]||{},1===n.nodeType&&(b.cleanData(Ot(n,!1)),n.innerHTML=e);n=0}catch(o){}}n&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(e){var t=b.isFunction(e);return t||"string"==typeof e||(e=b(e).not(this).detach()),this.domManip([e],!0,function(e){var t=this.nextSibling,n=this.parentNode;n&&(b(this).remove(),n.insertBefore(e,t))})},detach:function(e){return this.remove(e,!0)},domManip:function(e,n,r){e=f.apply([],e);var i,o,a,s,u,l,c=0,p=this.length,d=this,h=p-1,g=e[0],m=b.isFunction(g);if(m||!(1>=p||"string"!=typeof g||b.support.checkClone)&&Ct.test(g))return this.each(function(i){var o=d.eq(i);m&&(e[0]=g.call(this,i,n?o.html():t)),o.domManip(e,n,r)});if(p&&(l=b.buildFragment(e,this[0].ownerDocument,!1,this),i=l.firstChild,1===l.childNodes.length&&(l=i),i)){for(n=n&&b.nodeName(i,"tr"),s=b.map(Ot(l,"script"),Ht),a=s.length;p>c;c++)o=l,c!==h&&(o=b.clone(o,!0,!0),a&&b.merge(s,Ot(o,"script"))),r.call(n&&b.nodeName(this[c],"table")?Lt(this[c],"tbody"):this[c],o,c);if(a)for(u=s[s.length-1].ownerDocument,b.map(s,qt),c=0;a>c;c++)o=s[c],kt.test(o.type||"")&&!b._data(o,"globalEval")&&b.contains(u,o)&&(o.src?b.ajax({url:o.src,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0}):b.globalEval((o.text||o.textContent||o.innerHTML||"").replace(St,"")));l=i=null}return this}});function Lt(e,t){return e.getElementsByTagName(t)[0]||e.appendChild(e.ownerDocument.createElement(t))}function Ht(e){var t=e.getAttributeNode("type");return e.type=(t&&t.specified)+"/"+e.type,e}function qt(e){var t=Et.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function Mt(e,t){var n,r=0;for(;null!=(n=e[r]);r++)b._data(n,"globalEval",!t||b._data(t[r],"globalEval"))}function _t(e,t){if(1===t.nodeType&&b.hasData(e)){var n,r,i,o=b._data(e),a=b._data(t,o),s=o.events;if(s){delete a.handle,a.events={};for(n in s)for(r=0,i=s[n].length;i>r;r++)b.event.add(t,n,s[n][r])}a.data&&(a.data=b.extend({},a.data))}}function Ft(e,t){var n,r,i;if(1===t.nodeType){if(n=t.nodeName.toLowerCase(),!b.support.noCloneEvent&&t[b.expando]){i=b._data(t);for(r in i.events)b.removeEvent(t,r,i.handle);t.removeAttribute(b.expando)}"script"===n&&t.text!==e.text?(Ht(t).text=e.text,qt(t)):"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),b.support.html5Clone&&e.innerHTML&&!b.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&Nt.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.defaultSelected=t.selected=e.defaultSelected:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}}b.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){b.fn[e]=function(e){var n,r=0,i=[],o=b(e),a=o.length-1;for(;a>=r;r++)n=r===a?this:this.clone(!0),b(o[r])[t](n),d.apply(i,n.get());return this.pushStack(i)}});function Ot(e,n){var r,o,a=0,s=typeof e.getElementsByTagName!==i?e.getElementsByTagName(n||"*"):typeof e.querySelectorAll!==i?e.querySelectorAll(n||"*"):t;if(!s)for(s=[],r=e.childNodes||e;null!=(o=r[a]);a++)!n||b.nodeName(o,n)?s.push(o):b.merge(s,Ot(o,n));return n===t||n&&b.nodeName(e,n)?b.merge([e],s):s}function Bt(e){Nt.test(e.type)&&(e.defaultChecked=e.checked)}b.extend({clone:function(e,t,n){var r,i,o,a,s,u=b.contains(e.ownerDocument,e);if(b.support.html5Clone||b.isXMLDoc(e)||!mt.test("<"+e.nodeName+">")?o=e.cloneNode(!0):(Dt.innerHTML=e.outerHTML,Dt.removeChild(o=Dt.firstChild)),!(b.support.noCloneEvent&&b.support.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||b.isXMLDoc(e)))for(r=Ot(o),s=Ot(e),a=0;null!=(i=s[a]);++a)r[a]&&Ft(i,r[a]);if(t)if(n)for(s=s||Ot(e),r=r||Ot(o),a=0;null!=(i=s[a]);a++)_t(i,r[a]);else _t(e,o);return r=Ot(o,"script"),r.length>0&&Mt(r,!u&&Ot(e,"script")),r=s=i=null,o},buildFragment:function(e,t,n,r){var i,o,a,s,u,l,c,p=e.length,f=dt(t),d=[],h=0;for(;p>h;h++)if(o=e[h],o||0===o)if("object"===b.type(o))b.merge(d,o.nodeType?[o]:o);else if(wt.test(o)){s=s||f.appendChild(t.createElement("div")),u=(bt.exec(o)||["",""])[1].toLowerCase(),c=At[u]||At._default,s.innerHTML=c[1]+o.replace(vt,"<$1></$2>")+c[2],i=c[0];while(i--)s=s.lastChild;if(!b.support.leadingWhitespace&&yt.test(o)&&d.push(t.createTextNode(yt.exec(o)[0])),!b.support.tbody){o="table"!==u||xt.test(o)?"<table>"!==c[1]||xt.test(o)?0:s:s.firstChild,i=o&&o.childNodes.length;while(i--)b.nodeName(l=o.childNodes[i],"tbody")&&!l.childNodes.length&&o.removeChild(l)}b.merge(d,s.childNodes),s.textContent="";while(s.firstChild)s.removeChild(s.firstChild);s=f.lastChild}else d.push(t.createTextNode(o));s&&f.removeChild(s),b.support.appendChecked||b.grep(Ot(d,"input"),Bt),h=0;while(o=d[h++])if((!r||-1===b.inArray(o,r))&&(a=b.contains(o.ownerDocument,o),s=Ot(f.appendChild(o),"script"),a&&Mt(s),n)){i=0;while(o=s[i++])kt.test(o.type||"")&&n.push(o)}return s=null,f},cleanData:function(e,t){var n,r,o,a,s=0,u=b.expando,l=b.cache,p=b.support.deleteExpando,f=b.event.special;for(;null!=(n=e[s]);s++)if((t||b.acceptData(n))&&(o=n[u],a=o&&l[o])){if(a.events)for(r in a.events)f[r]?b.event.remove(n,r):b.removeEvent(n,r,a.handle);l[o]&&(delete l[o],p?delete n[u]:typeof n.removeAttribute!==i?n.removeAttribute(u):n[u]=null,c.push(o))}}});var Pt,Rt,Wt,$t=/alpha\([^)]*\)/i,It=/opacity\s*=\s*([^)]*)/,zt=/^(top|right|bottom|left)$/,Xt=/^(none|table(?!-c[ea]).+)/,Ut=/^margin/,Vt=RegExp("^("+x+")(.*)$","i"),Yt=RegExp("^("+x+")(?!px)[a-z%]+$","i"),Jt=RegExp("^([+-])=("+x+")","i"),Gt={BODY:"block"},Qt={position:"absolute",visibility:"hidden",display:"block"},Kt={letterSpacing:0,fontWeight:400},Zt=["Top","Right","Bottom","Left"],en=["Webkit","O","Moz","ms"];function tn(e,t){if(t in e)return t;var n=t.charAt(0).toUpperCase()+t.slice(1),r=t,i=en.length;while(i--)if(t=en[i]+n,t in e)return t;return r}function nn(e,t){return e=t||e,"none"===b.css(e,"display")||!b.contains(e.ownerDocument,e)}function rn(e,t){var n,r,i,o=[],a=0,s=e.length;for(;s>a;a++)r=e[a],r.style&&(o[a]=b._data(r,"olddisplay"),n=r.style.display,t?(o[a]||"none"!==n||(r.style.display=""),""===r.style.display&&nn(r)&&(o[a]=b._data(r,"olddisplay",un(r.nodeName)))):o[a]||(i=nn(r),(n&&"none"!==n||!i)&&b._data(r,"olddisplay",i?n:b.css(r,"display"))));for(a=0;s>a;a++)r=e[a],r.style&&(t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?o[a]||"":"none"));return e}b.fn.extend({css:function(e,n){return b.access(this,function(e,n,r){var i,o,a={},s=0;if(b.isArray(n)){for(o=Rt(e),i=n.length;i>s;s++)a[n[s]]=b.css(e,n[s],!1,o);return a}return r!==t?b.style(e,n,r):b.css(e,n)},e,n,arguments.length>1)},show:function(){return rn(this,!0)},hide:function(){return rn(this)},toggle:function(e){var t="boolean"==typeof e;return this.each(function(){(t?e:nn(this))?b(this).show():b(this).hide()})}}),b.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Wt(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":b.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,n,r,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,a,s,u=b.camelCase(n),l=e.style;if(n=b.cssProps[u]||(b.cssProps[u]=tn(l,u)),s=b.cssHooks[n]||b.cssHooks[u],r===t)return s&&"get"in s&&(o=s.get(e,!1,i))!==t?o:l[n];if(a=typeof r,"string"===a&&(o=Jt.exec(r))&&(r=(o[1]+1)*o[2]+parseFloat(b.css(e,n)),a="number"),!(null==r||"number"===a&&isNaN(r)||("number"!==a||b.cssNumber[u]||(r+="px"),b.support.clearCloneStyle||""!==r||0!==n.indexOf("background")||(l[n]="inherit"),s&&"set"in s&&(r=s.set(e,r,i))===t)))try{l[n]=r}catch(c){}}},css:function(e,n,r,i){var o,a,s,u=b.camelCase(n);return n=b.cssProps[u]||(b.cssProps[u]=tn(e.style,u)),s=b.cssHooks[n]||b.cssHooks[u],s&&"get"in s&&(a=s.get(e,!0,r)),a===t&&(a=Wt(e,n,i)),"normal"===a&&n in Kt&&(a=Kt[n]),""===r||r?(o=parseFloat(a),r===!0||b.isNumeric(o)?o||0:a):a},swap:function(e,t,n,r){var i,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];i=n.apply(e,r||[]);for(o in t)e.style[o]=a[o];return i}}),e.getComputedStyle?(Rt=function(t){return e.getComputedStyle(t,null)},Wt=function(e,n,r){var i,o,a,s=r||Rt(e),u=s?s.getPropertyValue(n)||s[n]:t,l=e.style;return s&&(""!==u||b.contains(e.ownerDocument,e)||(u=b.style(e,n)),Yt.test(u)&&Ut.test(n)&&(i=l.width,o=l.minWidth,a=l.maxWidth,l.minWidth=l.maxWidth=l.width=u,u=s.width,l.width=i,l.minWidth=o,l.maxWidth=a)),u}):o.documentElement.currentStyle&&(Rt=function(e){return e.currentStyle},Wt=function(e,n,r){var i,o,a,s=r||Rt(e),u=s?s[n]:t,l=e.style;return null==u&&l&&l[n]&&(u=l[n]),Yt.test(u)&&!zt.test(n)&&(i=l.left,o=e.runtimeStyle,a=o&&o.left,a&&(o.left=e.currentStyle.left),l.left="fontSize"===n?"1em":u,u=l.pixelLeft+"px",l.left=i,a&&(o.left=a)),""===u?"auto":u});function on(e,t,n){var r=Vt.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function an(e,t,n,r,i){var o=n===(r?"border":"content")?4:"width"===t?1:0,a=0;for(;4>o;o+=2)"margin"===n&&(a+=b.css(e,n+Zt[o],!0,i)),r?("content"===n&&(a-=b.css(e,"padding"+Zt[o],!0,i)),"margin"!==n&&(a-=b.css(e,"border"+Zt[o]+"Width",!0,i))):(a+=b.css(e,"padding"+Zt[o],!0,i),"padding"!==n&&(a+=b.css(e,"border"+Zt[o]+"Width",!0,i)));return a}function sn(e,t,n){var r=!0,i="width"===t?e.offsetWidth:e.offsetHeight,o=Rt(e),a=b.support.boxSizing&&"border-box"===b.css(e,"boxSizing",!1,o);if(0>=i||null==i){if(i=Wt(e,t,o),(0>i||null==i)&&(i=e.style[t]),Yt.test(i))return i;r=a&&(b.support.boxSizingReliable||i===e.style[t]),i=parseFloat(i)||0}return i+an(e,t,n||(a?"border":"content"),r,o)+"px"}function un(e){var t=o,n=Gt[e];return n||(n=ln(e,t),"none"!==n&&n||(Pt=(Pt||b("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(t.documentElement),t=(Pt[0].contentWindow||Pt[0].contentDocument).document,t.write("<!doctype html><html><body>"),t.close(),n=ln(e,t),Pt.detach()),Gt[e]=n),n}function ln(e,t){var n=b(t.createElement(e)).appendTo(t.body),r=b.css(n[0],"display");return n.remove(),r}b.each(["height","width"],function(e,n){b.cssHooks[n]={get:function(e,r,i){return r?0===e.offsetWidth&&Xt.test(b.css(e,"display"))?b.swap(e,Qt,function(){return sn(e,n,i)}):sn(e,n,i):t},set:function(e,t,r){var i=r&&Rt(e);return on(e,t,r?an(e,n,r,b.support.boxSizing&&"border-box"===b.css(e,"boxSizing",!1,i),i):0)}}}),b.support.opacity||(b.cssHooks.opacity={get:function(e,t){return It.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,r=e.currentStyle,i=b.isNumeric(t)?"alpha(opacity="+100*t+")":"",o=r&&r.filter||n.filter||"";n.zoom=1,(t>=1||""===t)&&""===b.trim(o.replace($t,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===t||r&&!r.filter)||(n.filter=$t.test(o)?o.replace($t,i):o+" "+i)}}),b(function(){b.support.reliableMarginRight||(b.cssHooks.marginRight={get:function(e,n){return n?b.swap(e,{display:"inline-block"},Wt,[e,"marginRight"]):t}}),!b.support.pixelPosition&&b.fn.position&&b.each(["top","left"],function(e,n){b.cssHooks[n]={get:function(e,r){return r?(r=Wt(e,n),Yt.test(r)?b(e).position()[n]+"px":r):t}}})}),b.expr&&b.expr.filters&&(b.expr.filters.hidden=function(e){return 0>=e.offsetWidth&&0>=e.offsetHeight||!b.support.reliableHiddenOffsets&&"none"===(e.style&&e.style.display||b.css(e,"display"))},b.expr.filters.visible=function(e){return!b.expr.filters.hidden(e)}),b.each({margin:"",padding:"",border:"Width"},function(e,t){b.cssHooks[e+t]={expand:function(n){var r=0,i={},o="string"==typeof n?n.split(" "):[n];for(;4>r;r++)i[e+Zt[r]+t]=o[r]||o[r-2]||o[0];return i}},Ut.test(e)||(b.cssHooks[e+t].set=on)});var cn=/%20/g,pn=/\[\]$/,fn=/\r?\n/g,dn=/^(?:submit|button|image|reset|file)$/i,hn=/^(?:input|select|textarea|keygen)/i;b.fn.extend({serialize:function(){return b.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=b.prop(this,"elements");return e?b.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!b(this).is(":disabled")&&hn.test(this.nodeName)&&!dn.test(e)&&(this.checked||!Nt.test(e))}).map(function(e,t){var n=b(this).val();return null==n?null:b.isArray(n)?b.map(n,function(e){return{name:t.name,value:e.replace(fn,"\r\n")}}):{name:t.name,value:n.replace(fn,"\r\n")}}).get()}}),b.param=function(e,n){var r,i=[],o=function(e,t){t=b.isFunction(t)?t():null==t?"":t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(n===t&&(n=b.ajaxSettings&&b.ajaxSettings.traditional),b.isArray(e)||e.jquery&&!b.isPlainObject(e))b.each(e,function(){o(this.name,this.value)});else for(r in e)gn(r,e[r],n,o);return i.join("&").replace(cn,"+")};function gn(e,t,n,r){var i;if(b.isArray(t))b.each(t,function(t,i){n||pn.test(e)?r(e,i):gn(e+"["+("object"==typeof i?t:"")+"]",i,n,r)});else if(n||"object"!==b.type(t))r(e,t);else for(i in t)gn(e+"["+i+"]",t[i],n,r)}b.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){b.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),b.fn.hover=function(e,t){return this.mouseenter(e).mouseleave(t||e)};var mn,yn,vn=b.now(),bn=/\?/,xn=/#.*$/,wn=/([?&])_=[^&]*/,Tn=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Nn=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Cn=/^(?:GET|HEAD)$/,kn=/^\/\//,En=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,Sn=b.fn.load,An={},jn={},Dn="*/".concat("*");try{yn=a.href}catch(Ln){yn=o.createElement("a"),yn.href="",yn=yn.href}mn=En.exec(yn.toLowerCase())||[];function Hn(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(w)||[];if(b.isFunction(n))while(r=o[i++])"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function qn(e,n,r,i){var o={},a=e===jn;function s(u){var l;return o[u]=!0,b.each(e[u]||[],function(e,u){var c=u(n,r,i);return"string"!=typeof c||a||o[c]?a?!(l=c):t:(n.dataTypes.unshift(c),s(c),!1)}),l}return s(n.dataTypes[0])||!o["*"]&&s("*")}function Mn(e,n){var r,i,o=b.ajaxSettings.flatOptions||{};for(i in n)n[i]!==t&&((o[i]?e:r||(r={}))[i]=n[i]);return r&&b.extend(!0,e,r),e}b.fn.load=function(e,n,r){if("string"!=typeof e&&Sn)return Sn.apply(this,arguments);var i,o,a,s=this,u=e.indexOf(" ");return u>=0&&(i=e.slice(u,e.length),e=e.slice(0,u)),b.isFunction(n)?(r=n,n=t):n&&"object"==typeof n&&(a="POST"),s.length>0&&b.ajax({url:e,type:a,dataType:"html",data:n}).done(function(e){o=arguments,s.html(i?b("<div>").append(b.parseHTML(e)).find(i):e)}).complete(r&&function(e,t){s.each(r,o||[e.responseText,t,e])}),this},b.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){b.fn[t]=function(e){return this.on(t,e)}}),b.each(["get","post"],function(e,n){b[n]=function(e,r,i,o){return b.isFunction(r)&&(o=o||i,i=r,r=t),b.ajax({url:e,type:n,dataType:o,data:r,success:i})}}),b.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:yn,type:"GET",isLocal:Nn.test(mn[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Dn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":e.String,"text html":!0,"text json":b.parseJSON,"text xml":b.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Mn(Mn(e,b.ajaxSettings),t):Mn(b.ajaxSettings,e)},ajaxPrefilter:Hn(An),ajaxTransport:Hn(jn),ajax:function(e,n){"object"==typeof e&&(n=e,e=t),n=n||{};var r,i,o,a,s,u,l,c,p=b.ajaxSetup({},n),f=p.context||p,d=p.context&&(f.nodeType||f.jquery)?b(f):b.event,h=b.Deferred(),g=b.Callbacks("once memory"),m=p.statusCode||{},y={},v={},x=0,T="canceled",N={readyState:0,getResponseHeader:function(e){var t;if(2===x){if(!c){c={};while(t=Tn.exec(a))c[t[1].toLowerCase()]=t[2]}t=c[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===x?a:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return x||(e=v[n]=v[n]||e,y[e]=t),this},overrideMimeType:function(e){return x||(p.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>x)for(t in e)m[t]=[m[t],e[t]];else N.always(e[N.status]);return this},abort:function(e){var t=e||T;return l&&l.abort(t),k(0,t),this}};if(h.promise(N).complete=g.add,N.success=N.done,N.error=N.fail,p.url=((e||p.url||yn)+"").replace(xn,"").replace(kn,mn[1]+"//"),p.type=n.method||n.type||p.method||p.type,p.dataTypes=b.trim(p.dataType||"*").toLowerCase().match(w)||[""],null==p.crossDomain&&(r=En.exec(p.url.toLowerCase()),p.crossDomain=!(!r||r[1]===mn[1]&&r[2]===mn[2]&&(r[3]||("http:"===r[1]?80:443))==(mn[3]||("http:"===mn[1]?80:443)))),p.data&&p.processData&&"string"!=typeof p.data&&(p.data=b.param(p.data,p.traditional)),qn(An,p,n,N),2===x)return N;u=p.global,u&&0===b.active++&&b.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!Cn.test(p.type),o=p.url,p.hasContent||(p.data&&(o=p.url+=(bn.test(o)?"&":"?")+p.data,delete p.data),p.cache===!1&&(p.url=wn.test(o)?o.replace(wn,"$1_="+vn++):o+(bn.test(o)?"&":"?")+"_="+vn++)),p.ifModified&&(b.lastModified[o]&&N.setRequestHeader("If-Modified-Since",b.lastModified[o]),b.etag[o]&&N.setRequestHeader("If-None-Match",b.etag[o])),(p.data&&p.hasContent&&p.contentType!==!1||n.contentType)&&N.setRequestHeader("Content-Type",p.contentType),N.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?","+Dn+"; q=0.01":""):p.accepts["*"]);for(i in p.headers)N.setRequestHeader(i,p.headers[i]);if(p.beforeSend&&(p.beforeSend.call(f,N,p)===!1||2===x))return N.abort();T="abort";for(i in{success:1,error:1,complete:1})N[i](p[i]);if(l=qn(jn,p,n,N)){N.readyState=1,u&&d.trigger("ajaxSend",[N,p]),p.async&&p.timeout>0&&(s=setTimeout(function(){N.abort("timeout")},p.timeout));try{x=1,l.send(y,k)}catch(C){if(!(2>x))throw C;k(-1,C)}}else k(-1,"No Transport");function k(e,n,r,i){var c,y,v,w,T,C=n;2!==x&&(x=2,s&&clearTimeout(s),l=t,a=i||"",N.readyState=e>0?4:0,r&&(w=_n(p,N,r)),e>=200&&300>e||304===e?(p.ifModified&&(T=N.getResponseHeader("Last-Modified"),T&&(b.lastModified[o]=T),T=N.getResponseHeader("etag"),T&&(b.etag[o]=T)),204===e?(c=!0,C="nocontent"):304===e?(c=!0,C="notmodified"):(c=Fn(p,w),C=c.state,y=c.data,v=c.error,c=!v)):(v=C,(e||!C)&&(C="error",0>e&&(e=0))),N.status=e,N.statusText=(n||C)+"",c?h.resolveWith(f,[y,C,N]):h.rejectWith(f,[N,C,v]),N.statusCode(m),m=t,u&&d.trigger(c?"ajaxSuccess":"ajaxError",[N,p,c?y:v]),g.fireWith(f,[N,C]),u&&(d.trigger("ajaxComplete",[N,p]),--b.active||b.event.trigger("ajaxStop")))}return N},getScript:function(e,n){return b.get(e,t,n,"script")},getJSON:function(e,t,n){return b.get(e,t,n,"json")}});function _n(e,n,r){var i,o,a,s,u=e.contents,l=e.dataTypes,c=e.responseFields;for(s in c)s in r&&(n[c[s]]=r[s]);while("*"===l[0])l.shift(),o===t&&(o=e.mimeType||n.getResponseHeader("Content-Type"));if(o)for(s in u)if(u[s]&&u[s].test(o)){l.unshift(s);break}if(l[0]in r)a=l[0];else{for(s in r){if(!l[0]||e.converters[s+" "+l[0]]){a=s;break}i||(i=s)}a=a||i}return a?(a!==l[0]&&l.unshift(a),r[a]):t}function Fn(e,t){var n,r,i,o,a={},s=0,u=e.dataTypes.slice(),l=u[0];if(e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u[1])for(i in e.converters)a[i.toLowerCase()]=e.converters[i];for(;r=u[++s];)if("*"!==r){if("*"!==l&&l!==r){if(i=a[l+" "+r]||a["* "+r],!i)for(n in a)if(o=n.split(" "),o[1]===r&&(i=a[l+" "+o[0]]||a["* "+o[0]])){i===!0?i=a[n]:a[n]!==!0&&(r=o[0],u.splice(s--,0,r));break}if(i!==!0)if(i&&e["throws"])t=i(t);else try{t=i(t)}catch(c){return{state:"parsererror",error:i?c:"No conversion from "+l+" to "+r}}}l=r}return{state:"success",data:t}}b.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return b.globalEval(e),e}}}),b.ajaxPrefilter("script",function(e){e.cache===t&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),b.ajaxTransport("script",function(e){if(e.crossDomain){var n,r=o.head||b("head")[0]||o.documentElement;return{send:function(t,i){n=o.createElement("script"),n.async=!0,e.scriptCharset&&(n.charset=e.scriptCharset),n.src=e.url,n.onload=n.onreadystatechange=function(e,t){(t||!n.readyState||/loaded|complete/.test(n.readyState))&&(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),n=null,t||i(200,"success"))},r.insertBefore(n,r.firstChild)},abort:function(){n&&n.onload(t,!0)}}}});var On=[],Bn=/(=)\?(?=&|$)|\?\?/;b.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=On.pop()||b.expando+"_"+vn++;return this[e]=!0,e}}),b.ajaxPrefilter("json jsonp",function(n,r,i){var o,a,s,u=n.jsonp!==!1&&(Bn.test(n.url)?"url":"string"==typeof n.data&&!(n.contentType||"").indexOf("application/x-www-form-urlencoded")&&Bn.test(n.data)&&"data");return u||"jsonp"===n.dataTypes[0]?(o=n.jsonpCallback=b.isFunction(n.jsonpCallback)?n.jsonpCallback():n.jsonpCallback,u?n[u]=n[u].replace(Bn,"$1"+o):n.jsonp!==!1&&(n.url+=(bn.test(n.url)?"&":"?")+n.jsonp+"="+o),n.converters["script json"]=function(){return s||b.error(o+" was not called"),s[0]},n.dataTypes[0]="json",a=e[o],e[o]=function(){s=arguments},i.always(function(){e[o]=a,n[o]&&(n.jsonpCallback=r.jsonpCallback,On.push(o)),s&&b.isFunction(a)&&a(s[0]),s=a=t}),"script"):t});var Pn,Rn,Wn=0,$n=e.ActiveXObject&&function(){var e;for(e in Pn)Pn[e](t,!0)};function In(){try{return new e.XMLHttpRequest}catch(t){}}function zn(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}b.ajaxSettings.xhr=e.ActiveXObject?function(){return!this.isLocal&&In()||zn()}:In,Rn=b.ajaxSettings.xhr(),b.support.cors=!!Rn&&"withCredentials"in Rn,Rn=b.support.ajax=!!Rn,Rn&&b.ajaxTransport(function(n){if(!n.crossDomain||b.support.cors){var r;return{send:function(i,o){var a,s,u=n.xhr();if(n.username?u.open(n.type,n.url,n.async,n.username,n.password):u.open(n.type,n.url,n.async),n.xhrFields)for(s in n.xhrFields)u[s]=n.xhrFields[s];n.mimeType&&u.overrideMimeType&&u.overrideMimeType(n.mimeType),n.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");try{for(s in i)u.setRequestHeader(s,i[s])}catch(l){}u.send(n.hasContent&&n.data||null),r=function(e,i){var s,l,c,p;try{if(r&&(i||4===u.readyState))if(r=t,a&&(u.onreadystatechange=b.noop,$n&&delete Pn[a]),i)4!==u.readyState&&u.abort();else{p={},s=u.status,l=u.getAllResponseHeaders(),"string"==typeof u.responseText&&(p.text=u.responseText);try{c=u.statusText}catch(f){c=""}s||!n.isLocal||n.crossDomain?1223===s&&(s=204):s=p.text?200:404}}catch(d){i||o(-1,d)}p&&o(s,c,p,l)},n.async?4===u.readyState?setTimeout(r):(a=++Wn,$n&&(Pn||(Pn={},b(e).unload($n)),Pn[a]=r),u.onreadystatechange=r):r()},abort:function(){r&&r(t,!0)}}}});var Xn,Un,Vn=/^(?:toggle|show|hide)$/,Yn=RegExp("^(?:([+-])=|)("+x+")([a-z%]*)$","i"),Jn=/queueHooks$/,Gn=[nr],Qn={"*":[function(e,t){var n,r,i=this.createTween(e,t),o=Yn.exec(t),a=i.cur(),s=+a||0,u=1,l=20;if(o){if(n=+o[2],r=o[3]||(b.cssNumber[e]?"":"px"),"px"!==r&&s){s=b.css(i.elem,e,!0)||n||1;do u=u||".5",s/=u,b.style(i.elem,e,s+r);while(u!==(u=i.cur()/a)&&1!==u&&--l)}i.unit=r,i.start=s,i.end=o[1]?s+(o[1]+1)*n:n}return i}]};function Kn(){return setTimeout(function(){Xn=t}),Xn=b.now()}function Zn(e,t){b.each(t,function(t,n){var r=(Qn[t]||[]).concat(Qn["*"]),i=0,o=r.length;for(;o>i;i++)if(r[i].call(e,t,n))return})}function er(e,t,n){var r,i,o=0,a=Gn.length,s=b.Deferred().always(function(){delete u.elem}),u=function(){if(i)return!1;var t=Xn||Kn(),n=Math.max(0,l.startTime+l.duration-t),r=n/l.duration||0,o=1-r,a=0,u=l.tweens.length;for(;u>a;a++)l.tweens[a].run(o);return s.notifyWith(e,[l,o,n]),1>o&&u?n:(s.resolveWith(e,[l]),!1)},l=s.promise({elem:e,props:b.extend({},t),opts:b.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:Xn||Kn(),duration:n.duration,tweens:[],createTween:function(t,n){var r=b.Tween(e,l.opts,t,n,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(r),r},stop:function(t){var n=0,r=t?l.tweens.length:0;if(i)return this;for(i=!0;r>n;n++)l.tweens[n].run(1);return t?s.resolveWith(e,[l,t]):s.rejectWith(e,[l,t]),this}}),c=l.props;for(tr(c,l.opts.specialEasing);a>o;o++)if(r=Gn[o].call(l,e,c,l.opts))return r;return Zn(l,c),b.isFunction(l.opts.start)&&l.opts.start.call(e,l),b.fx.timer(b.extend(u,{elem:e,anim:l,queue:l.opts.queue})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function tr(e,t){var n,r,i,o,a;for(i in e)if(r=b.camelCase(i),o=t[r],n=e[i],b.isArray(n)&&(o=n[1],n=e[i]=n[0]),i!==r&&(e[r]=n,delete e[i]),a=b.cssHooks[r],a&&"expand"in a){n=a.expand(n),delete e[r];for(i in n)i in e||(e[i]=n[i],t[i]=o)}else t[r]=o}b.Animation=b.extend(er,{tweener:function(e,t){b.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");var n,r=0,i=e.length;for(;i>r;r++)n=e[r],Qn[n]=Qn[n]||[],Qn[n].unshift(t)},prefilter:function(e,t){t?Gn.unshift(e):Gn.push(e)}});function nr(e,t,n){var r,i,o,a,s,u,l,c,p,f=this,d=e.style,h={},g=[],m=e.nodeType&&nn(e);n.queue||(c=b._queueHooks(e,"fx"),null==c.unqueued&&(c.unqueued=0,p=c.empty.fire,c.empty.fire=function(){c.unqueued||p()}),c.unqueued++,f.always(function(){f.always(function(){c.unqueued--,b.queue(e,"fx").length||c.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[d.overflow,d.overflowX,d.overflowY],"inline"===b.css(e,"display")&&"none"===b.css(e,"float")&&(b.support.inlineBlockNeedsLayout&&"inline"!==un(e.nodeName)?d.zoom=1:d.display="inline-block")),n.overflow&&(d.overflow="hidden",b.support.shrinkWrapBlocks||f.always(function(){d.overflow=n.overflow[0],d.overflowX=n.overflow[1],d.overflowY=n.overflow[2]}));for(i in t)if(a=t[i],Vn.exec(a)){if(delete t[i],u=u||"toggle"===a,a===(m?"hide":"show"))continue;g.push(i)}if(o=g.length){s=b._data(e,"fxshow")||b._data(e,"fxshow",{}),"hidden"in s&&(m=s.hidden),u&&(s.hidden=!m),m?b(e).show():f.done(function(){b(e).hide()}),f.done(function(){var t;b._removeData(e,"fxshow");for(t in h)b.style(e,t,h[t])});for(i=0;o>i;i++)r=g[i],l=f.createTween(r,m?s[r]:0),h[r]=s[r]||b.style(e,r),r in s||(s[r]=l.start,m&&(l.end=l.start,l.start="width"===r||"height"===r?1:0))}}function rr(e,t,n,r,i){return new rr.prototype.init(e,t,n,r,i)}b.Tween=rr,rr.prototype={constructor:rr,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(b.cssNumber[n]?"":"px")},cur:function(){var e=rr.propHooks[this.prop];return e&&e.get?e.get(this):rr.propHooks._default.get(this)},run:function(e){var t,n=rr.propHooks[this.prop];return this.pos=t=this.options.duration?b.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):rr.propHooks._default.set(this),this}},rr.prototype.init.prototype=rr.prototype,rr.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=b.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){b.fx.step[e.prop]?b.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[b.cssProps[e.prop]]||b.cssHooks[e.prop])?b.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},rr.propHooks.scrollTop=rr.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},b.each(["toggle","show","hide"],function(e,t){var n=b.fn[t];b.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(ir(t,!0),e,r,i)}}),b.fn.extend({fadeTo:function(e,t,n,r){return this.filter(nn).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=b.isEmptyObject(e),o=b.speed(t,n,r),a=function(){var t=er(this,b.extend({},e),o);a.finish=function(){t.stop(!0)},(i||b._data(this,"finish"))&&t.stop(!0)};return a.finish=a,i||o.queue===!1?this.each(a):this.queue(o.queue,a)},stop:function(e,n,r){var i=function(e){var t=e.stop;delete e.stop,t(r)};return"string"!=typeof e&&(r=n,n=e,e=t),n&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,n=null!=e&&e+"queueHooks",o=b.timers,a=b._data(this);if(n)a[n]&&a[n].stop&&i(a[n]);else for(n in a)a[n]&&a[n].stop&&Jn.test(n)&&i(a[n]);for(n=o.length;n--;)o[n].elem!==this||null!=e&&o[n].queue!==e||(o[n].anim.stop(r),t=!1,o.splice(n,1));(t||!r)&&b.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=b._data(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=b.timers,a=r?r.length:0;for(n.finish=!0,b.queue(this,e,[]),i&&i.cur&&i.cur.finish&&i.cur.finish.call(this),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;a>t;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}});function ir(e,t){var n,r={height:e},i=0;for(t=t?1:0;4>i;i+=2-t)n=Zt[i],r["margin"+n]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}b.each({slideDown:ir("show"),slideUp:ir("hide"),slideToggle:ir("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){b.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),b.speed=function(e,t,n){var r=e&&"object"==typeof e?b.extend({},e):{complete:n||!n&&t||b.isFunction(e)&&e,duration:e,easing:n&&t||t&&!b.isFunction(t)&&t};return r.duration=b.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in b.fx.speeds?b.fx.speeds[r.duration]:b.fx.speeds._default,(null==r.queue||r.queue===!0)&&(r.queue="fx"),r.old=r.complete,r.complete=function(){b.isFunction(r.old)&&r.old.call(this),r.queue&&b.dequeue(this,r.queue)},r},b.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},b.timers=[],b.fx=rr.prototype.init,b.fx.tick=function(){var e,n=b.timers,r=0;for(Xn=b.now();n.length>r;r++)e=n[r],e()||n[r]!==e||n.splice(r--,1);n.length||b.fx.stop(),Xn=t},b.fx.timer=function(e){e()&&b.timers.push(e)&&b.fx.start()},b.fx.interval=13,b.fx.start=function(){Un||(Un=setInterval(b.fx.tick,b.fx.interval))},b.fx.stop=function(){clearInterval(Un),Un=null},b.fx.speeds={slow:600,fast:200,_default:400},b.fx.step={},b.expr&&b.expr.filters&&(b.expr.filters.animated=function(e){return b.grep(b.timers,function(t){return e===t.elem}).length}),b.fn.offset=function(e){if(arguments.length)return e===t?this:this.each(function(t){b.offset.setOffset(this,e,t)});var n,r,o={top:0,left:0},a=this[0],s=a&&a.ownerDocument;if(s)return n=s.documentElement,b.contains(n,a)?(typeof a.getBoundingClientRect!==i&&(o=a.getBoundingClientRect()),r=or(s),{top:o.top+(r.pageYOffset||n.scrollTop)-(n.clientTop||0),left:o.left+(r.pageXOffset||n.scrollLeft)-(n.clientLeft||0)}):o},b.offset={setOffset:function(e,t,n){var r=b.css(e,"position");"static"===r&&(e.style.position="relative");var i=b(e),o=i.offset(),a=b.css(e,"top"),s=b.css(e,"left"),u=("absolute"===r||"fixed"===r)&&b.inArray("auto",[a,s])>-1,l={},c={},p,f;u?(c=i.position(),p=c.top,f=c.left):(p=parseFloat(a)||0,f=parseFloat(s)||0),b.isFunction(t)&&(t=t.call(e,n,o)),null!=t.top&&(l.top=t.top-o.top+p),null!=t.left&&(l.left=t.left-o.left+f),"using"in t?t.using.call(e,l):i.css(l)}},b.fn.extend({position:function(){if(this[0]){var e,t,n={top:0,left:0},r=this[0];return"fixed"===b.css(r,"position")?t=r.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),b.nodeName(e[0],"html")||(n=e.offset()),n.top+=b.css(e[0],"borderTopWidth",!0),n.left+=b.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-b.css(r,"marginTop",!0),left:t.left-n.left-b.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var e=this.offsetParent||o.documentElement;while(e&&!b.nodeName(e,"html")&&"static"===b.css(e,"position"))e=e.offsetParent;return e||o.documentElement})}}),b.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,n){var r=/Y/.test(n);b.fn[e]=function(i){return b.access(this,function(e,i,o){var a=or(e);return o===t?a?n in a?a[n]:a.document.documentElement[i]:e[i]:(a?a.scrollTo(r?b(a).scrollLeft():o,r?o:b(a).scrollTop()):e[i]=o,t)},e,i,arguments.length,null)}});function or(e){return b.isWindow(e)?e:9===e.nodeType?e.defaultView||e.parentWindow:!1}b.each({Height:"height",Width:"width"},function(e,n){b.each({padding:"inner"+e,content:n,"":"outer"+e},function(r,i){b.fn[i]=function(i,o){var a=arguments.length&&(r||"boolean"!=typeof i),s=r||(i===!0||o===!0?"margin":"border");return b.access(this,function(n,r,i){var o;return b.isWindow(n)?n.document.documentElement["client"+e]:9===n.nodeType?(o=n.documentElement,Math.max(n.body["scroll"+e],o["scroll"+e],n.body["offset"+e],o["offset"+e],o["client"+e])):i===t?b.css(n,r,s):b.style(n,r,i,s)},n,a?i:t,a,null)}})}),e.jQuery=e.$=b,"function"==typeof define&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return b})})(window);(function(i){var q={vertical:false,rtl:false,start:1,offset:1,size:null,scroll:3,visible:null,animation:"normal",easing:"swing",auto:0,wrap:null,initCallback:null,reloadCallback:null,itemLoadCallback:null,itemFirstInCallback:null,itemFirstOutCallback:null,itemLastInCallback:null,itemLastOutCallback:null,itemVisibleInCallback:null,itemVisibleOutCallback:null,buttonNextHTML:"<div></div>",buttonPrevHTML:"<div></div>",buttonNextEvent:"click",buttonPrevEvent:"click",buttonNextCallback:null,buttonPrevCallback:null, itemFallbackDimension:null},r=false;i(window).bind("load.jcarousel",function(){r=true});i.jcarousel=function(a,c){this.options=i.extend({},q,c||{});this.autoStopped=this.locked=false;this.buttonPrevState=this.buttonNextState=this.buttonPrev=this.buttonNext=this.list=this.clip=this.container=null;if(!c||c.rtl===undefined)this.options.rtl=(i(a).attr("dir")||i("html").attr("dir")||"").toLowerCase()=="rtl";this.wh=!this.options.vertical?"width":"height";this.lt=!this.options.vertical?this.options.rtl? "right":"left":"top";for(var b="",d=a.className.split(" "),f=0;f<d.length;f++)if(d[f].indexOf("jcarousel-skin")!=-1){i(a).removeClass(d[f]);b=d[f];break}if(a.nodeName.toUpperCase()=="UL"||a.nodeName.toUpperCase()=="OL"){this.list=i(a);this.container=this.list.parent();if(this.container.hasClass("jcarousel-clip")){if(!this.container.parent().hasClass("jcarousel-container"))this.container=this.container.wrap("<div></div>");this.container=this.container.parent()}else if(!this.container.hasClass("jcarousel-container"))this.container= this.list.wrap("<div></div>").parent()}else{this.container=i(a);this.list=this.container.find("ul,ol").eq(0)}b!==""&&this.container.parent()[0].className.indexOf("jcarousel-skin")==-1&&this.container.wrap('<div class=" '+b+'"></div>');this.clip=this.list.parent();if(!this.clip.length||!this.clip.hasClass("jcarousel-clip"))this.clip=this.list.wrap("<div></div>").parent();this.buttonNext=i(".jcarousel-next",this.container);if(this.buttonNext.size()===0&&this.options.buttonNextHTML!==null)this.buttonNext= this.clip.after(this.options.buttonNextHTML).next();this.buttonNext.addClass(this.className("jcarousel-next"));this.buttonPrev=i(".jcarousel-prev",this.container);if(this.buttonPrev.size()===0&&this.options.buttonPrevHTML!==null)this.buttonPrev=this.clip.after(this.options.buttonPrevHTML).next();this.buttonPrev.addClass(this.className("jcarousel-prev"));this.clip.addClass(this.className("jcarousel-clip")).css({overflow:"hidden",position:"relative"});this.list.addClass(this.className("jcarousel-list")).css({overflow:"hidden",position:"relative",top:0,margin:0,padding:0}).css(this.options.rtl?"right":"left",0);this.container.addClass(this.className("jcarousel-container")).css({position:"relative"});!this.options.vertical&&this.options.rtl&&this.container.addClass("jcarousel-direction-rtl").attr("dir","rtl");var j=this.options.visible!==null?Math.ceil(this.clipping()/this.options.visible):null;b=this.list.children("li");var e=this;if(b.size()>0){var g=0,k=this.options.offset;b.each(function(){e.format(this,k++);g+=e.dimension(this,j)});this.list.css(this.wh,g+100+"px");if(!c||c.size===undefined)this.options.size=b.size()}this.container.css("display","block");this.buttonNext.css("display","block");this.buttonPrev.css("display","block");this.funcNext=function(){e.next()};this.funcPrev=function(){e.prev()};this.funcResize=function(){e.reload()};this.options.initCallback!==null&&this.options.initCallback(this,"init");if(!r&&i.browser.safari){this.buttons(false,false);i(window).bind("load.jcarousel",function(){e.setup()})}else this.setup()}; var h=i.jcarousel;h.fn=h.prototype={jcarousel:"0.2.7"};h.fn.extend=h.extend=i.extend;h.fn.extend({setup:function(){this.prevLast=this.prevFirst=this.last=this.first=null;this.animating=false;this.tail=this.timer=null;this.inTail=false;if(!this.locked){this.list.css(this.lt,this.pos(this.options.offset)+"px");var a=this.pos(this.options.start,true);this.prevFirst=this.prevLast=null;this.animate(a,false);i(window).unbind("resize.jcarousel",this.funcResize).bind("resize.jcarousel",this.funcResize)}},reset:function(){this.list.empty();this.list.css(this.lt,"0px");this.list.css(this.wh,"10px");this.options.initCallback!==null&&this.options.initCallback(this,"reset");this.setup()},reload:function(){this.tail!==null&&this.inTail&&this.list.css(this.lt,h.intval(this.list.css(this.lt))+this.tail);this.tail=null;this.inTail=false;this.options.reloadCallback!==null&&this.options.reloadCallback(this);if(this.options.visible!==null){var a=this,c=Math.ceil(this.clipping()/this.options.visible),b=0,d=0; this.list.children("li").each(function(f){b+=a.dimension(this,c);if(f+1<a.first)d=b});this.list.css(this.wh,b+"px");this.list.css(this.lt,-d+"px")}this.scroll(this.first,false)},lock:function(){this.locked=true;this.buttons()},unlock:function(){this.locked=false;this.buttons()},size:function(a){if(a!==undefined){this.options.size=a;this.locked||this.buttons()}return this.options.size},has:function(a,c){if(c===undefined||!c)c=a;if(this.options.size!==null&&c>this.options.size)c=this.options.size;for(var b= a;b<=c;b++){var d=this.get(b);if(!d.length||d.hasClass("jcarousel-item-placeholder"))return false}return true},get:function(a){return i(".jcarousel-item-"+a,this.list)},add:function(a,c){var b=this.get(a),d=0,f=i(c);if(b.length===0){var j,e=h.intval(a);for(b=this.create(a);;){j=this.get(--e);if(e<=0||j.length){e<=0?this.list.prepend(b):j.after(b);break}}}else d=this.dimension(b);if(f.get(0).nodeName.toUpperCase()=="LI"){b.replaceWith(f);b=f}else b.empty().append(c);this.format(b.removeClass(this.className("jcarousel-item-placeholder")),a);f=this.options.visible!==null?Math.ceil(this.clipping()/this.options.visible):null;d=this.dimension(b,f)-d;a>0&&a<this.first&&this.list.css(this.lt,h.intval(this.list.css(this.lt))-d+"px");this.list.css(this.wh,h.intval(this.list.css(this.wh))+d+"px");return b},remove:function(a){var c=this.get(a);if(!(!c.length||a>=this.first&&a<=this.last)){var b=this.dimension(c);a<this.first&&this.list.css(this.lt,h.intval(this.list.css(this.lt))+b+"px");c.remove();this.list.css(this.wh,h.intval(this.list.css(this.wh))- b+"px")}},next:function(){this.tail!==null&&!this.inTail?this.scrollTail(false):this.scroll((this.options.wrap=="both"||this.options.wrap=="last")&&this.options.size!==null&&this.last==this.options.size?1:this.first+this.options.scroll)},prev:function(){this.tail!==null&&this.inTail?this.scrollTail(true):this.scroll((this.options.wrap=="both"||this.options.wrap=="first")&&this.options.size!==null&&this.first==1?this.options.size:this.first-this.options.scroll)},scrollTail:function(a){if(!(this.locked|| this.animating||!this.tail)){this.pauseAuto();var c=h.intval(this.list.css(this.lt));c=!a?c-this.tail:c+this.tail;this.inTail=!a;this.prevFirst=this.first;this.prevLast=this.last;this.animate(c)}},scroll:function(a,c){if(!(this.locked||this.animating)){this.pauseAuto();this.animate(this.pos(a),c)}},pos:function(a,c){var b=h.intval(this.list.css(this.lt));if(this.locked||this.animating)return b;if(this.options.wrap!="circular")a=a<1?1:this.options.size&&a>this.options.size?this.options.size:a;for(var d= this.first>a,f=this.options.wrap!="circular"&&this.first<=1?1:this.first,j=d?this.get(f):this.get(this.last),e=d?f:f-1,g=null,k=0,l=false,m=0;d?--e>=a:++e<a;){g=this.get(e);l=!g.length;if(g.length===0){g=this.create(e).addClass(this.className("jcarousel-item-placeholder"));j[d?"before":"after"](g);if(this.first!==null&&this.options.wrap=="circular"&&this.options.size!==null&&(e<=0||e>this.options.size)){j=this.get(this.index(e));if(j.length)g=this.add(e,j.clone(true))}}j=g;m=this.dimension(g);if(l)k+= m;if(this.first!==null&&(this.options.wrap=="circular"||e>=1&&(this.options.size===null||e<=this.options.size)))b=d?b+m:b-m}f=this.clipping();var p=[],o=0,n=0;j=this.get(a-1);for(e=a;++o;){g=this.get(e);l=!g.length;if(g.length===0){g=this.create(e).addClass(this.className("jcarousel-item-placeholder"));j.length===0?this.list.prepend(g):j[d?"before":"after"](g);if(this.first!==null&&this.options.wrap=="circular"&&this.options.size!==null&&(e<=0||e>this.options.size)){j=this.get(this.index(e));if(j.length)g= this.add(e,j.clone(true))}}j=g;m=this.dimension(g);if(m===0)throw Error("jCarousel:No width/height set for items. This will cause an infinite loop. Aborting...");if(this.options.wrap!="circular"&&this.options.size!==null&&e>this.options.size)p.push(g);else if(l)k+=m;n+=m;if(n>=f)break;e++}for(g=0;g<p.length;g++)p[g].remove();if(k>0){this.list.css(this.wh,this.dimension(this.list)+k+"px");if(d){b-=k;this.list.css(this.lt,h.intval(this.list.css(this.lt))-k+"px")}}k=a+o-1;if(this.options.wrap!="circular"&& this.options.size&&k>this.options.size)k=this.options.size;if(e>k){o=0;e=k;for(n=0;++o;){g=this.get(e--);if(!g.length)break;n+=this.dimension(g);if(n>=f)break}}e=k-o+1;if(this.options.wrap!="circular"&&e<1)e=1;if(this.inTail&&d){b+=this.tail;this.inTail=false}this.tail=null;if(this.options.wrap!="circular"&&k==this.options.size&&k-o+1>=1){d=h.margin(this.get(k),!this.options.vertical?"marginRight":"marginBottom");if(n-d>f)this.tail=n-f-d}if(c&&a===this.options.size&&this.tail){b-=this.tail;this.inTail= true}for(;a-- >e;)b+=this.dimension(this.get(a));this.prevFirst=this.first;this.prevLast=this.last;this.first=e;this.last=k;return b},animate:function(a,c){if(!(this.locked||this.animating)){this.animating=true;var b=this,d=function(){b.animating=false;a===0&&b.list.css(b.lt,0);if(!b.autoStopped&&(b.options.wrap=="circular"||b.options.wrap=="both"||b.options.wrap=="last"||b.options.size===null||b.last<b.options.size||b.last==b.options.size&&b.tail!==null&&!b.inTail))b.startAuto();b.buttons();b.notify("onAfterAnimation"); if(b.options.wrap=="circular"&&b.options.size!==null)for(var f=b.prevFirst;f<=b.prevLast;f++)if(f!==null&&!(f>=b.first&&f<=b.last)&&(f<1||f>b.options.size))b.remove(f)};this.notify("onBeforeAnimation");if(!this.options.animation||c===false){this.list.css(this.lt,a+"px");d()}else this.list.animate(!this.options.vertical?this.options.rtl?{right:a}:{left:a}:{top:a},this.options.animation,this.options.easing,d)}},startAuto:function(a){if(a!==undefined)this.options.auto=a;if(this.options.auto===0)return this.stopAuto(); if(this.timer===null){this.autoStopped=false;var c=this;this.timer=window.setTimeout(function(){c.next()},this.options.auto*1E3)}},stopAuto:function(){this.pauseAuto();this.autoStopped=true},pauseAuto:function(){if(this.timer!==null){window.clearTimeout(this.timer);this.timer=null}},buttons:function(a,c){if(a==null){a=!this.locked&&this.options.size!==0&&(this.options.wrap&&this.options.wrap!="first"||this.options.size===null||this.last<this.options.size);if(!this.locked&&(!this.options.wrap||this.options.wrap== "first")&&this.options.size!==null&&this.last>=this.options.size)a=this.tail!==null&&!this.inTail}if(c==null){c=!this.locked&&this.options.size!==0&&(this.options.wrap&&this.options.wrap!="last"||this.first>1);if(!this.locked&&(!this.options.wrap||this.options.wrap=="last")&&this.options.size!==null&&this.first==1)c=this.tail!==null&&this.inTail}var b=this;if(this.buttonNext.size()>0){this.buttonNext.unbind(this.options.buttonNextEvent+".jcarousel",this.funcNext);a&&this.buttonNext.bind(this.options.buttonNextEvent+ ".jcarousel",this.funcNext);this.buttonNext[a?"removeClass":"addClass"](this.className("jcarousel-next-disabled")).attr("disabled",a?false:true);this.options.buttonNextCallback!==null&&this.buttonNext.data("jcarouselstate")!=a&&this.buttonNext.each(function(){b.options.buttonNextCallback(b,this,a)}).data("jcarouselstate",a)}else this.options.buttonNextCallback!==null&&this.buttonNextState!=a&&this.options.buttonNextCallback(b,null,a);if(this.buttonPrev.size()>0){this.buttonPrev.unbind(this.options.buttonPrevEvent+ ".jcarousel",this.funcPrev);c&&this.buttonPrev.bind(this.options.buttonPrevEvent+".jcarousel",this.funcPrev);this.buttonPrev[c?"removeClass":"addClass"](this.className("jcarousel-prev-disabled")).attr("disabled",c?false:true);this.options.buttonPrevCallback!==null&&this.buttonPrev.data("jcarouselstate")!=c&&this.buttonPrev.each(function(){b.options.buttonPrevCallback(b,this,c)}).data("jcarouselstate",c)}else this.options.buttonPrevCallback!==null&&this.buttonPrevState!=c&&this.options.buttonPrevCallback(b,null,c);this.buttonNextState=a;this.buttonPrevState=c},notify:function(a){var c=this.prevFirst===null?"init":this.prevFirst<this.first?"next":"prev";this.callback("itemLoadCallback",a,c);if(this.prevFirst!==this.first){this.callback("itemFirstInCallback",a,c,this.first);this.callback("itemFirstOutCallback",a,c,this.prevFirst)}if(this.prevLast!==this.last){this.callback("itemLastInCallback",a,c,this.last);this.callback("itemLastOutCallback",a,c,this.prevLast)}this.callback("itemVisibleInCallback",a,c,this.first,this.last,this.prevFirst,this.prevLast);this.callback("itemVisibleOutCallback",a,c,this.prevFirst,this.prevLast,this.first,this.last)},callback:function(a,c,b,d,f,j,e){if(!(this.options[a]==null||typeof this.options[a]!="object"&&c!="onAfterAnimation")){var g=typeof this.options[a]=="object"?this.options[a][c]:this.options[a];if(i.isFunction(g)){var k=this;if(d===undefined)g(k,b,c);else if(f===undefined)this.get(d).each(function(){g(k,this,d,b,c)});else{a=function(m){k.get(m).each(function(){g(k,this,m,b,c)})};for(var l=d;l<=f;l++)l!==null&&!(l>=j&&l<=e)&&a(l)}}}},create:function(a){return this.format("<li></li>",a)},format:function(a,c){a=i(a);for(var b=a.get(0).className.split(" "),d=0;d<b.length;d++)b[d].indexOf("jcarousel-")!=-1&&a.removeClass(b[d]);a.addClass(this.className("jcarousel-item")).addClass(this.className("jcarousel-item-"+c)).css({"float":this.options.rtl?"right":"left","list-style":"none"}).attr("jcarouselindex",c);return a},className:function(a){return a+" "+a+(!this.options.vertical? "-horizontal":"-vertical")},dimension:function(a,c){var b=a.jquery!==undefined?a[0]:a,d=!this.options.vertical?(b.offsetWidth||h.intval(this.options.itemFallbackDimension))+h.margin(b,"marginLeft")+h.margin(b,"marginRight"):(b.offsetHeight||h.intval(this.options.itemFallbackDimension))+h.margin(b,"marginTop")+h.margin(b,"marginBottom");if(c==null||d==c)return d;d=!this.options.vertical?c-h.margin(b,"marginLeft")-h.margin(b,"marginRight"):c-h.margin(b,"marginTop")-h.margin(b,"marginBottom");i(b).css(this.wh,d+"px");return this.dimension(b)},clipping:function(){return!this.options.vertical?this.clip[0].offsetWidth-h.intval(this.clip.css("borderLeftWidth"))-h.intval(this.clip.css("borderRightWidth")):this.clip[0].offsetHeight-h.intval(this.clip.css("borderTopWidth"))-h.intval(this.clip.css("borderBottomWidth"))},index:function(a,c){if(c==null)c=this.options.size;return Math.round(((a-1)/c-Math.floor((a-1)/c))*c)+1}});h.extend({defaults:function(a){return i.extend(q,a||{})},margin:function(a,c){if(!a)return 0; var b=a.jquery!==undefined?a[0]:a;if(c=="marginRight"&&i.browser.safari){var d={display:"block","float":"none",width:"auto"},f,j;i.swap(b,d,function(){f=b.offsetWidth});d.marginRight=0;i.swap(b,d,function(){j=b.offsetWidth});return j-f}return h.intval(i.css(b,c))},intval:function(a){a=parseInt(a,10);return isNaN(a)?0:a}});i.fn.jcarousel=function(a){if(typeof a=="string"){var c=i(this).data("jcarousel"),b=Array.prototype.slice.call(arguments,1);return c[a].apply(c,b)}else return this.each(function(){i(this).data("jcarousel",new h(this,a))})}})(jQuery);$.cookie=function(g,b,a){if(1<arguments.length&&(!/Object/.test(Object.prototype.toString.call(b))||null===b||void 0===b)){a=$.extend({},a);if(null===b||void 0===b)a.expires=-1;if("number"===typeof a.expires){var d=a.expires,c=a.expires=new Date;c.setDate(c.getDate()+d)}b=String(b);return document.cookie=[encodeURIComponent(g),"=",a.raw?b:encodeURIComponent(b),a.expires?"; expires="+a.expires.toUTCString():"",a.path?"; path="+a.path:"",a.domain?"; domain="+a.domain:"",a.secure?"; secure":""].join("")}a= b||{};for(var d=a.raw?function(a){return a}:decodeURIComponent,c=document.cookie.split("; "),e=0,f;f=c[e]&&c[e].split("=");e++)if(d(f[0])===g)return d(f[1]||"");return null};(function(b){b.extend({noticeAdd:function(a){var d,e,c;("string"==typeof a||"number"==typeof a)&&(a={text:a});a=b.extend({},{inEffect:{opacity:"show"},inEffectDuration:600,stayTime:3E3,text:"",stay:!1,type:"notice"},a);d=!b(".notice-wrap").length?b("<div></div>").addClass("notice-wrap").appendTo("body"):b(".notice-wrap");e=b("<div></div>").addClass("notice-item-wrapper");c=b("<div></div>").hide().addClass("notice-item "+a.type).appendTo(d).html("<p>"+a.text+"</p>").animate(a.inEffect,a.inEffectDuration).wrap(e);b("<div></div>").addClass("notice-item-close").prependTo(c).html("x").click(function(){b.noticeRemove(c)}); navigator.userAgent.match(/MSIE 6/i)&&d.css({top:document.documentElement.scrollTop});a.stay||setTimeout(function(){b.noticeRemove(c)},a.stayTime)},noticeRemove:function(a){a.animate({opacity:"0"},600,function(){a.parent().animate({height:"0px"},300,function(){a.parent().remove()})})}})})(jQuery);(function(b,f){function c(a,d){var e,k;e=a.nodeName.toLowerCase();if("area"===e){e=a.parentNode;k=e.name;if(!a.href||!k||"map"!==e.nodeName.toLowerCase())return!1;e=b("img[usemap=#"+k+"]")[0];return!!e&&g(e)}return(/input|select|textarea|button|object/.test(e)?!a.disabled:"a"===e?a.href||d:d)&&g(a)}function g(a){return b.expr.filters.visible(a)&&!b(a).parents().addBack().filter(function(){return"hidden"===b.css(this,"visibility")}).length}var m=0,j=/^ui-id-\d+$/;b.ui=b.ui||{};if(!b.ui.version){b.extend(b.ui,{version:"1.10.1",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}});b.fn.extend({_focus:b.fn.focus,focus:function(a,d){return"number"===typeof a?this.each(function(){var e=this;setTimeout(function(){b(e).focus();d&&d.call(e)},a)}):this._focus.apply(this,arguments)},scrollParent:function(){var a; a=b.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(b.css(this,"position"))&&/(auto|scroll)/.test(b.css(this,"overflow")+b.css(this,"overflow-y")+b.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(b.css(this,"overflow")+b.css(this,"overflow-y")+b.css(this,"overflow-x"))}).eq(0);return/fixed/.test(this.css("position"))||!a.length?b(document):a},zIndex:function(a){if(a!==f)return this.css("zIndex",a);if(this.length){a=b(this[0]);for(var d;a.length&&a[0]!==document;){d=a.css("position");if("absolute"===d||"relative"===d||"fixed"===d)if(d=parseInt(a.css("zIndex"),10),!isNaN(d)&&0!==d)return d;a=a.parent()}}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++m)})},removeUniqueId:function(){return this.each(function(){j.test(this.id)&&b(this).removeAttr("id")})}});b.extend(b.expr[":"],{data:b.expr.createPseudo? b.expr.createPseudo(function(a){return function(d){return!!b.data(d,a)}}):function(a,d,e){return!!b.data(a,e[3])},focusable:function(a){return c(a,!isNaN(b.attr(a,"tabindex")))},tabbable:function(a){var d=b.attr(a,"tabindex"),e=isNaN(d);return(e||0<=d)&&c(a,!e)}});b("<a>").outerWidth(1).jquery||b.each(["Width","Height"],function(a,d){function e(a,d,e,c){b.each(k,function(){d-=parseFloat(b.css(a,"padding"+this))||0;e&&(d-=parseFloat(b.css(a,"border"+this+"Width"))||0);c&&(d-=parseFloat(b.css(a,"margin"+ this))||0)});return d}var k="Width"===d?["Left","Right"]:["Top","Bottom"],c=d.toLowerCase(),j={innerWidth:b.fn.innerWidth,innerHeight:b.fn.innerHeight,outerWidth:b.fn.outerWidth,outerHeight:b.fn.outerHeight};b.fn["inner"+d]=function(a){return a===f?j["inner"+d].call(this):this.each(function(){b(this).css(c,e(this,a)+"px")})};b.fn["outer"+d]=function(a,k){return"number"!==typeof a?j["outer"+d].call(this,a):this.each(function(){b(this).css(c,e(this,a,!0,k)+"px")})}});b.fn.addBack||(b.fn.addBack=function(a){return this.add(null== a?this.prevObject:this.prevObject.filter(a))});if(b("<a>").data("a-b","a").removeData("a-b").data("a-b")){var n=b.fn.removeData;b.fn.removeData=function(a){return arguments.length?n.call(this,b.camelCase(a)):n.call(this)}}b.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());b.support.selectstart="onselectstart"in document.createElement("div");b.fn.extend({disableSelection:function(){return this.bind((b.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(a){a.preventDefault()})}, enableSelection:function(){return this.unbind(".ui-disableSelection")}});b.extend(b.ui,{plugin:{add:function(a,d,e){var k;a=b.ui[a].prototype;for(k in e)a.plugins[k]=a.plugins[k]||[],a.plugins[k].push([d,e[k]])},call:function(a,d,b){var k=a.plugins[d];if(k&&a.element[0].parentNode&&11!==a.element[0].parentNode.nodeType)for(d=0;d<k.length;d++)a.options[k[d][0]]&&k[d][1].apply(a.element,b)}},hasScroll:function(a,d){if("hidden"===b(a).css("overflow"))return!1;var e=d&&"left"===d?"scrollLeft":"scrollTop",k=!1;if(0<a[e])return!0;a[e]=1;k=0<a[e];a[e]=0;return k}})}})(jQuery); (function(b,f){var c=0,g=Array.prototype.slice,m=b.cleanData;b.cleanData=function(c){for(var f=0,a;null!=(a=c[f]);f++)try{b(a).triggerHandler("remove")}catch(d){}m(c)};b.widget=function(c,f,a){var d,e,k,r,g={},h=c.split(".")[0];c=c.split(".")[1];d=h+"-"+c;a||(a=f,f=b.Widget);b.expr[":"][d.toLowerCase()]=function(a){return!!b.data(a,d)};b[h]=b[h]||{};e=b[h][c];k=b[h][c]=function(a,d){if(!this._createWidget)return new k(a,d);arguments.length&&this._createWidget(a,d)};b.extend(k,e,{version:a.version,_proto:b.extend({},a),_childConstructors:[]});r=new f;r.options=b.widget.extend({},r.options);b.each(a,function(a,d){if(b.isFunction(d)){var e=function(){return f.prototype[a].apply(this,arguments)},k=function(d){return f.prototype[a].apply(this,d)};g[a]=function(){var a=this._super,b=this._superApply,c;this._super=e;this._superApply=k;c=d.apply(this,arguments);this._super=a;this._superApply=b;return c}}else g[a]=d});k.prototype=b.widget.extend(r,{widgetEventPrefix:e?r.widgetEventPrefix:c},g,{constructor:k,namespace:h,widgetName:c,widgetFullName:d});e?(b.each(e._childConstructors,function(a,d){var e=d.prototype;b.widget(e.namespace+"."+e.widgetName,k,d._proto)}),delete e._childConstructors):f._childConstructors.push(k);b.widget.bridge(c,k)};b.widget.extend=function(c){for(var n=g.call(arguments,1),a=0,d=n.length,e,k;a<d;a++)for(e in n[a])k=n[a][e],n[a].hasOwnProperty(e)&&k!==f&&(c[e]=b.isPlainObject(k)?b.isPlainObject(c[e])?b.widget.extend({},c[e],k):b.widget.extend({},k):k);return c};b.widget.bridge= function(c,n){var a=n.prototype.widgetFullName||c;b.fn[c]=function(d){var e="string"===typeof d,k=g.call(arguments,1),r=this;d=!e&&k.length?b.widget.extend.apply(null,[d].concat(k)):d;e?this.each(function(){var e,g=b.data(this,a);if(!g)return b.error("cannot call methods on "+c+" prior to initialization; attempted to call method '"+d+"'");if(!b.isFunction(g[d])||"_"===d.charAt(0))return b.error("no such method '"+d+"' for "+c+" widget instance");e=g[d].apply(g,k);if(e!==g&&e!==f)return r=e&&e.jquery? r.pushStack(e.get()):e,!1}):this.each(function(){var e=b.data(this,a);e?e.option(d||{})._init():b.data(this,a,new n(d,this))});return r}};b.Widget=function(){};b.Widget._childConstructors=[];b.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(f,g){g=b(g||this.defaultElement||this)[0];this.element=b(g);this.uuid=c++;this.eventNamespace="."+this.widgetName+this.uuid;this.options=b.widget.extend({},this.options, this._getCreateOptions(),f);this.bindings=b();this.hoverable=b();this.focusable=b();g!==this&&(b.data(g,this.widgetFullName,this),this._on(!0,this.element,{remove:function(a){a.target===g&&this.destroy()}}),this.document=b(g.style?g.ownerDocument:g.document||g),this.window=b(this.document[0].defaultView||this.document[0].parentWindow));this._create();this._trigger("create",null,this._getCreateEventData());this._init()},_getCreateOptions:b.noop,_getCreateEventData:b.noop,_create:b.noop,_init:b.noop, destroy:function(){this._destroy();this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(b.camelCase(this.widgetFullName));this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled");this.bindings.unbind(this.eventNamespace);this.hoverable.removeClass("ui-state-hover");this.focusable.removeClass("ui-state-focus")},_destroy:b.noop,widget:function(){return this.element},option:function(c,g){var a=c,d,e,k;if(0===arguments.length)return b.widget.extend({},this.options);if("string"===typeof c)if(a={},d=c.split("."),c=d.shift(),d.length){e=a[c]=b.widget.extend({},this.options[c]);for(k=0;k<d.length-1;k++)e[d[k]]=e[d[k]]||{},e=e[d[k]];c=d.pop();if(g===f)return e[c]===f?null:e[c];e[c]=g}else{if(g===f)return this.options[c]===f?null:this.options[c];a[c]=g}this._setOptions(a);return this},_setOptions:function(b){for(var c in b)this._setOption(c,b[c]);return this},_setOption:function(b,c){this.options[b]=c;"disabled"===b&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!c).attr("aria-disabled",c),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"));return this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(c,f,a){var d,e=this;"boolean"!==typeof c&&(a=f,f=c,c=!1);a?(f=d=b(f),this.bindings=this.bindings.add(f)):(a=f,f=this.element,d= this.widget());b.each(a,function(a,g){function y(){if(c||!(!0===e.options.disabled||b(this).hasClass("ui-state-disabled")))return("string"===typeof g?e[g]:g).apply(e,arguments)}"string"!==typeof g&&(y.guid=g.guid=g.guid||y.guid||b.guid++);var h=a.match(/^(\w+)\s*(.*)$/),l=h[1]+e.eventNamespace;(h=h[2])?d.delegate(h,l,y):f.bind(l,y)})},_off:function(b,c){c=(c||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace;b.unbind(c).undelegate(c)},_delay:function(b,c){var a=this;return setTimeout(function(){return("string"=== typeof b?a[b]:b).apply(a,arguments)},c||0)},_hoverable:function(c){this.hoverable=this.hoverable.add(c);this._on(c,{mouseenter:function(c){b(c.currentTarget).addClass("ui-state-hover")},mouseleave:function(c){b(c.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(c){this.focusable=this.focusable.add(c);this._on(c,{focusin:function(c){b(c.currentTarget).addClass("ui-state-focus")},focusout:function(c){b(c.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(c,f,a){var d,e=this.options[c];a=a||{};f=b.Event(f);f.type=(c===this.widgetEventPrefix?c:this.widgetEventPrefix+c).toLowerCase();f.target=this.element[0];if(c=f.originalEvent)for(d in c)d in f||(f[d]=c[d]);this.element.trigger(f,a);return!(b.isFunction(e)&&!1===e.apply(this.element[0],[f].concat(a))||f.isDefaultPrevented())}};b.each({show:"fadeIn",hide:"fadeOut"},function(c,f){b.Widget.prototype["_"+c]=function(a,d,e){"string"===typeof d&&(d={effect:d});var k,g=!d?c:!0===d||"number"===typeof d?f:d.effect||f;d= d||{};"number"===typeof d&&(d={duration:d});k=!b.isEmptyObject(d);d.complete=e;d.delay&&a.delay(d.delay);if(k&&b.effects&&b.effects.effect[g])a[c](d);else if(g!==c&&a[g])a[g](d.duration,d.easing,e);else a.queue(function(d){b(this)[c]();e&&e.call(a[0]);d()})}})})(jQuery); (function(b){var f=!1;b(document).mouseup(function(){f=!1});b.widget("ui.mouse",{version:"1.10.1",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var c=this;this.element.bind("mousedown."+this.widgetName,function(b){return c._mouseDown(b)}).bind("click."+this.widgetName,function(f){if(!0===b.data(f.target,c.widgetName+".preventClickEvent"))return b.removeData(f.target,c.widgetName+".preventClickEvent"),f.stopImmediatePropagation(),!1});this.started= !1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName);this._mouseMoveDelegate&&b(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(c){if(!f){this._mouseStarted&&this._mouseUp(c);this._mouseDownEvent=c;var g=this,m=1===c.which,j="string"===typeof this.options.cancel&&c.target.nodeName?b(c.target).closest(this.options.cancel).length:!1;if(!m||j||!this._mouseCapture(c))return!0;this.mouseDelayMet= !this.options.delay;this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){g.mouseDelayMet=!0},this.options.delay));if(this._mouseDistanceMet(c)&&this._mouseDelayMet(c)&&(this._mouseStarted=!1!==this._mouseStart(c),!this._mouseStarted))return c.preventDefault(),!0;!0===b.data(c.target,this.widgetName+".preventClickEvent")&&b.removeData(c.target,this.widgetName+".preventClickEvent");this._mouseMoveDelegate=function(b){return g._mouseMove(b)};this._mouseUpDelegate=function(b){return g._mouseUp(b)}; b(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate);c.preventDefault();return f=!0}},_mouseMove:function(c){if(b.ui.ie&&(!document.documentMode||9>document.documentMode)&&!c.button)return this._mouseUp(c);if(this._mouseStarted)return this._mouseDrag(c),c.preventDefault();this._mouseDistanceMet(c)&&this._mouseDelayMet(c)&&((this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,c))?this._mouseDrag(c):this._mouseUp(c)); return!this._mouseStarted},_mouseUp:function(c){b(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate);this._mouseStarted&&(this._mouseStarted=!1,c.target===this._mouseDownEvent.target&&b.data(c.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(c));return!1},_mouseDistanceMet:function(b){return Math.max(Math.abs(this._mouseDownEvent.pageX-b.pageX),Math.abs(this._mouseDownEvent.pageY-b.pageY))>=this.options.distance}, _mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})})(jQuery); (function(b,f){function c(a,d,b){return[parseFloat(a[0])*(r.test(a[0])?d/100:1),parseFloat(a[1])*(r.test(a[1])?b/100:1)]}b.ui=b.ui||{};var g,m=Math.max,j=Math.abs,n=Math.round,a=/left|center|right/,d=/top|center|bottom/,e=/[\+\-]\d+(\.[\d]+)?%?/,k=/^\w+/,r=/%$/,y=b.fn.position;b.position={scrollbarWidth:function(){if(g!==f)return g;var a,d,e=b("<div style='display:block;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>");d=e.children()[0];b("body").append(e); a=d.offsetWidth;e.css("overflow","scroll");d=d.offsetWidth;a===d&&(d=e[0].clientWidth);e.remove();return g=a-d},getScrollInfo:function(a){var d=a.isWindow?"":a.element.css("overflow-x"),e=a.isWindow?"":a.element.css("overflow-y"),e="scroll"===e||"auto"===e&&a.height<a.element[0].scrollHeight;return{width:"scroll"===d||"auto"===d&&a.width<a.element[0].scrollWidth?b.position.scrollbarWidth():0,height:e?b.position.scrollbarWidth():0}},getWithinInfo:function(a){a=b(a||window);var d=b.isWindow(a[0]);return{element:a,isWindow:d,offset:a.offset()||{left:0,top:0},scrollLeft:a.scrollLeft(),scrollTop:a.scrollTop(),width:d?a.width():a.outerWidth(),height:d?a.height():a.outerHeight()}}};b.fn.position=function(f){if(!f||!f.of)return y.apply(this,arguments);f=b.extend({},f);var g,r,p,l,h,v,K=b(f.of),N=b.position.getWithinInfo(f.within),x=b.position.getScrollInfo(N),z=(f.collision||"flip").split(" "),t={};v=K;var A=v[0];v=9===A.nodeType?{width:v.width(),height:v.height(),offset:{top:0,left:0}}:b.isWindow(A)?{width:v.width(),height:v.height(),offset:{top:v.scrollTop(),left:v.scrollLeft()}}:A.preventDefault?{width:0,height:0,offset:{top:A.pageY,left:A.pageX}}:{width:v.outerWidth(),height:v.outerHeight(),offset:v.offset()};K[0].preventDefault&&(f.at="left top");r=v.width;p=v.height;l=v.offset;h=b.extend({},l);b.each(["my","at"],function(){var b=(f[this]||"").split(" "),c,g;1===b.length&&(b=a.test(b[0])?b.concat(["center"]):d.test(b[0])?["center"].concat(b):["center","center"]);b[0]=a.test(b[0])?b[0]:"center";b[1]=d.test(b[1])? b[1]:"center";c=e.exec(b[0]);g=e.exec(b[1]);t[this]=[c?c[0]:0,g?g[0]:0];f[this]=[k.exec(b[0])[0],k.exec(b[1])[0]]});1===z.length&&(z[1]=z[0]);"right"===f.at[0]?h.left+=r:"center"===f.at[0]&&(h.left+=r/2);"bottom"===f.at[1]?h.top+=p:"center"===f.at[1]&&(h.top+=p/2);g=c(t.at,r,p);h.left+=g[0];h.top+=g[1];return this.each(function(){var a,d,e=b(this),k=e.outerWidth(),y=e.outerHeight(),v=parseInt(b.css(this,"marginLeft"),10)||0,A=parseInt(b.css(this,"marginTop"),10)||0,u=k+v+(parseInt(b.css(this,"marginRight"), 10)||0)+x.width,P=y+A+(parseInt(b.css(this,"marginBottom"),10)||0)+x.height,w=b.extend({},h),F=c(t.my,e.outerWidth(),e.outerHeight());"right"===f.my[0]?w.left-=k:"center"===f.my[0]&&(w.left-=k/2);"bottom"===f.my[1]?w.top-=y:"center"===f.my[1]&&(w.top-=y/2);w.left+=F[0];w.top+=F[1];b.support.offsetFractions||(w.left=n(w.left),w.top=n(w.top));a={marginLeft:v,marginTop:A};b.each(["left","top"],function(d,c){if(b.ui.position[z[d]])b.ui.position[z[d]][c](w,{targetWidth:r,targetHeight:p,elemWidth:k,elemHeight:y,collisionPosition:a,collisionWidth:u,collisionHeight:P,offset:[g[0]+F[0],g[1]+F[1]],my:f.my,at:f.at,within:N,elem:e})});f.using&&(d=function(a){var d=l.left-w.left,b=d+r-k,c=l.top-w.top,g=c+p-y,h={target:{element:K,left:l.left,top:l.top,width:r,height:p},element:{element:e,left:w.left,top:w.top,width:k,height:y},horizontal:0>b?"left":0<d?"right":"center",vertical:0>g?"top":0<c?"bottom":"middle"};r<k&&j(d+b)<r&&(h.horizontal="center");p<y&&j(c+g)<p&&(h.vertical="middle");h.important=m(j(d),j(b))>m(j(c),j(g))?"horizontal":"vertical";f.using.call(this,a,h)});e.offset(b.extend(w,{using:d}))})};b.ui.position={fit:{left:function(a,d){var b=d.within,e=b.isWindow?b.scrollLeft:b.offset.left,c=b.width,k=a.left-d.collisionPosition.marginLeft,b=e-k,f=k+d.collisionWidth-c-e;d.collisionWidth>c?0<b&&0>=f?(e=a.left+b+d.collisionWidth-c-e,a.left+=b-e):a.left=0<f&&0>=b?e:b>f?e+c-d.collisionWidth:e:a.left=0<b?a.left+b:0<f?a.left-f:m(a.left-k,a.left)},top:function(a,d){var b=d.within,e=b.isWindow?b.scrollTop:b.offset.top, c=d.within.height,k=a.top-d.collisionPosition.marginTop,b=e-k,f=k+d.collisionHeight-c-e;d.collisionHeight>c?0<b&&0>=f?(e=a.top+b+d.collisionHeight-c-e,a.top+=b-e):a.top=0<f&&0>=b?e:b>f?e+c-d.collisionHeight:e:a.top=0<b?a.top+b:0<f?a.top-f:m(a.top-k,a.top)}},flip:{left:function(a,d){var b=d.within,e=b.offset.left+b.scrollLeft,c=b.width,k=b.isWindow?b.scrollLeft:b.offset.left,f=a.left-d.collisionPosition.marginLeft,b=f-k,g=f+d.collisionWidth-c-k,f="left"===d.my[0]?-d.elemWidth:"right"===d.my[0]?d.elemWidth: 0,r="left"===d.at[0]?d.targetWidth:"right"===d.at[0]?-d.targetWidth:0,h=-2*d.offset[0];if(0>b){if(e=a.left+f+r+h+d.collisionWidth-c-e,0>e||e<j(b))a.left+=f+r+h}else if(0<g&&(e=a.left-d.collisionPosition.marginLeft+f+r+h-k,0<e||j(e)<g))a.left+=f+r+h},top:function(a,d){var b=d.within,e=b.offset.top+b.scrollTop,c=b.height,k=b.isWindow?b.scrollTop:b.offset.top,f=a.top-d.collisionPosition.marginTop,b=f-k,g=f+d.collisionHeight-c-k,f="top"===d.my[1]?-d.elemHeight:"bottom"===d.my[1]?d.elemHeight:0,r="top"=== d.at[1]?d.targetHeight:"bottom"===d.at[1]?-d.targetHeight:0,h=-2*d.offset[1];if(0>b){if(e=a.top+f+r+h+d.collisionHeight-c-e,a.top+f+r+h>b&&(0>e||e<j(b)))a.top+=f+r+h}else if(0<g&&(e=a.top-d.collisionPosition.marginTop+f+r+h-k,a.top+f+r+h>g&&(0<e||j(e)<g)))a.top+=f+r+h}},flipfit:{left:function(){b.ui.position.flip.left.apply(this,arguments);b.ui.position.fit.left.apply(this,arguments)},top:function(){b.ui.position.flip.top.apply(this,arguments);b.ui.position.fit.top.apply(this,arguments)}}};var h, l,A,K,z=document.getElementsByTagName("body")[0];A=document.createElement("div");h=document.createElement(z?"div":"body");l={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"};z&&b.extend(l,{position:"absolute",left:"-1000px",top:"-1000px"});for(K in l)h.style[K]=l[K];h.appendChild(A);l=z||document.documentElement;l.insertBefore(h,l.firstChild);A.style.cssText="position: absolute; left: 10.7432222px;";A=b(A).offset().left;b.support.offsetFractions=10<A&&11>A;h.innerHTML=""; l.removeChild(h)})(jQuery); (function(b){var f=0;b.widget("ui.autocomplete",{version:"1.10.1",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null,renderRow:null},pending:0,_create:function(){var c,f,m,j=this.element[0].nodeName.toLowerCase(),n="textarea"===j,j="input"===j;this.isMultiLine=n?!0:j?!1:this.element.prop("isContentEditable");this.valueMethod= this.element[n||j?"val":"text"];this.isNewMenu=!0;this.element.addClass("ui-autocomplete-input").attr("autocomplete","off");this._on(this.element,{keydown:function(a){if(this.element.prop("readOnly"))f=m=c=!0;else{f=m=c=!1;var d=b.ui.keyCode;switch(a.keyCode){case d.PAGE_UP:c=!0;this._move("previousPage",a);break;case d.PAGE_DOWN:c=!0;this._move("nextPage",a);break;case d.UP:c=!0;this._keyEvent("previous",a);break;case d.DOWN:c=!0;this._keyEvent("next",a);break;case d.ENTER:case d.NUMPAD_ENTER:this.menu.active&& (c=!0,a.preventDefault(),this.menu.select(a));break;case d.TAB:this.menu.active&&this.menu.select(a);break;case d.ESCAPE:this.menu.element.is(":visible")&&(this._value(this.term),this.close(a),a.preventDefault());break;default:f=!0,this._searchTimeout(a)}}},keypress:function(a){if(c)c=!1,a.preventDefault();else if(!f){var d=b.ui.keyCode;switch(a.keyCode){case d.PAGE_UP:this._move("previousPage",a);break;case d.PAGE_DOWN:this._move("nextPage",a);break;case d.UP:this._keyEvent("previous",a);break;case d.DOWN:this._keyEvent("next",a)}}},input:function(a){m?(m=!1,a.preventDefault()):this._searchTimeout(a)},focus:function(){this.selectedItem=null;this.previous=this._value()},blur:function(a){this.cancelBlur?delete this.cancelBlur:(clearTimeout(this.searching),this.close(a),this._change(a))}});this._initSource();this.menu=b("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({input:b(),role:null}).hide().data("ui-menu");this._on(this.menu.element,{mousedown:function(a){a.preventDefault();this.cancelBlur= !0;this._delay(function(){delete this.cancelBlur});var d=this.menu.element[0];b(a.target).closest(".ui-menu-item").length||this._delay(function(){var a=this;this.document.one("mousedown",function(c){c.target!==a.element[0]&&(c.target!==d&&!b.contains(d,c.target))&&a.close()})})},menufocus:function(a,d){if(this.isNewMenu&&(this.isNewMenu=!1,a.originalEvent&&/^mouse/.test(a.originalEvent.type))){this.menu.blur();this.document.one("mousemove",function(){b(a.target).trigger(a.originalEvent)});return}var e= d.item.data("ui-autocomplete-item");!1!==this._trigger("focus",a,{item:e})?a.originalEvent&&/^key/.test(a.originalEvent.type)&&this._value(e.value):this.liveRegion.text(e.value)},menuselect:function(a,d){var b=d.item.data("ui-autocomplete-item"),c=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=c,this._delay(function(){this.previous=c;this.selectedItem=b}));!1!==this._trigger("select",a,{item:b})&&this._value(b.value);this.term=this._value();this.close(a); this.selectedItem=b}});this.liveRegion=b("<span>",{role:"status","aria-live":"polite"}).addClass("ui-helper-hidden-accessible").insertAfter(this.element);this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching);this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete");this.menu.element.remove();this.liveRegion.remove()},_setOption:function(b,f){this._super(b,f);"source"===b&&this._initSource();"appendTo"=== b&&this.menu.element.appendTo(this._appendTo());"disabled"===b&&(f&&this.xhr)&&this.xhr.abort()},_appendTo:function(){var c=this.options.appendTo;c&&(c=c.jquery||c.nodeType?b(c):this.document.find(c).eq(0));c||(c=this.element.closest(".ui-front"));c.length||(c=this.document[0].body);return c},_initSource:function(){var c,f,m=this;b.isArray(this.options.source)?(c=this.options.source,this.source=function(f,g){g(b.ui.autocomplete.filter(c,f.term))}):"string"===typeof this.options.source?(f=this.options.source, this.source=function(c,n){m.xhr&&m.xhr.abort();m.xhr=b.ajax({url:f,data:c,dataType:"json",success:function(a){n(a)},error:function(){n([])}})}):this.source=this.options.source},_searchTimeout:function(b){clearTimeout(this.searching);this.searching=this._delay(function(){this.term!==this._value()&&(this.selectedItem=null,this.search(null,b))},this.options.delay)},search:function(b,f){b=null!=b?b:this._value();this.term=this._value();if(b.length<this.options.minLength)return this.close(f);if(!1!==this._trigger("search",f))return this._search(b)},_search:function(b){this.pending++;this.element.addClass("ui-autocomplete-loading");this.cancelSearch=!1;this.source({term:b},this._response())},_response:function(){var b=this,g=++f;return function(m){g===f&&b.__response(m);b.pending--;b.pending||b.element.removeClass("ui-autocomplete-loading")}},__response:function(b){b&&(b=this._normalize(b));this._trigger("response",null,{content:b});!this.options.disabled&&b&&b.length&&!this.cancelSearch?(this._suggest(b),this._trigger("open")):this._close()},close:function(b){this.cancelSearch=!0;this._close(b)},_close:function(b){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",b))},_change:function(b){this.previous!==this._value()&&this._trigger("change",b,{item:this.selectedItem})},_normalize:function(c){return c.length&&c[0].label&&c[0].value?c:b.map(c,function(c){return"string"===typeof c?{label:c,value:c}:b.extend({label:c.label||c.value,value:c.value||c.label},c)})},_suggest:function(c){var f=this.menu.element.empty();this._renderMenu(f,c);this.menu.refresh();f.show();this._resizeMenu();f.position(b.extend({of:this.element},this.options.position));this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var b=this.menu.element;b.outerWidth(Math.max(b.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(c,f){var m=this;b.each(f,function(b,f){m._renderItemData(c,f)})},_renderItemData:function(b,f){return this._renderItem(b,f).data("ui-autocomplete-item",f)},_renderItem:function(c,f){return"function"==typeof this.options.renderRow?this.options.renderRow.call(this,c,f).appendTo(c):b("<li>").append(b("<a>").text(f.label)).appendTo(c)},_move:function(b,f){if(this.menu.element.is(":visible"))if(this.menu.isFirstItem()&&/^previous/.test(b)||this.menu.isLastItem()&&/^next/.test(b))this._value(this.term),this.menu.blur();else this.menu[b](f);else this.search(null,f)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(b,f){if(!this.isMultiLine||this.menu.element.is(":visible"))this._move(b,f),f.preventDefault()}});b.extend(b.ui.autocomplete,{escapeRegex:function(b){return b.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(c,f){var m=RegExp(b.ui.autocomplete.escapeRegex(f),"i");return b.grep(c,function(b){return m.test(b.label||b.value||b)})}});b.widget("ui.autocomplete",b.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(b){return b+ (1<b?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(b){var f;this._superApply(arguments);!this.options.disabled&&!this.cancelSearch&&(f=b&&b.length?this.options.messages.results(b.length):this.options.messages.noResults,this.liveRegion.text(f))}})})(jQuery); (function(b,f){function c(){this._curInst=null;this._keyEvent=!1;this._disabledInputs=[];this._inDialog=this._datepickerShowing=!1;this._mainDivId="ui-datepicker-div";this._inlineClass="ui-datepicker-inline";this._appendClass="ui-datepicker-append";this._triggerClass="ui-datepicker-trigger";this._dialogClass="ui-datepicker-dialog";this._disableClass="ui-datepicker-disabled";this._unselectableClass="ui-datepicker-unselectable";this._currentClass="ui-datepicker-current-day";this._dayOverClass="ui-datepicker-days-cell-over"; this.regional=[];this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:"January February March April May June July August September October November December".split(" "),monthNamesShort:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),dayNames:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),dayNamesShort:"Sun Mon Tue Wed Thu Fri Sat".split(" "),dayNamesMin:"Su Mo Tu We Th Fr Sa".split(" "),weekHeader:"Wk",dateFormat:"mm/dd/yy", firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""};this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null, onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1};b.extend(this._defaults,this.regional[""]);this.dpDiv=g(b("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function g(a){return a.delegate("button,.ui-datepicker-prev,.ui-datepicker-next,.ui-datepicker-calendar td a","mouseout",function(){b(this).removeClass("ui-state-hover"); -1!==this.className.indexOf("ui-datepicker-prev")&&b(this).removeClass("ui-datepicker-prev-hover");-1!==this.className.indexOf("ui-datepicker-next")&&b(this).removeClass("ui-datepicker-next-hover")}).delegate("button,.ui-datepicker-prev,.ui-datepicker-next,.ui-datepicker-calendar td a","mouseover",function(){if(!b.datepicker._isDisabledDatepicker(n.inline?a.parent()[0]:n.input[0]))b(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),b(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&b(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&b(this).addClass("ui-datepicker-next-hover")})}function m(a,d){b.extend(a,d);for(var e in d)null==d[e]&&(a[e]=d[e]);return a}b.extend(b.ui,{datepicker:{version:"1.10.1"}});var j=(new Date).getTime(),n;b.extend(c.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(a){m(this._defaults,a||{});return this},_attachDatepicker:function(a,d){var e,c,f;e=a.nodeName.toLowerCase();c="div"===e||"span"===e;a.id||(this.uuid+=1,a.id="dp"+this.uuid);f=this._newInst(b(a),c);f.settings=b.extend({},d||{});"input"===e?this._connectDatepicker(a,f):c&&this._inlineDatepicker(a,f)},_newInst:function(a,d){return{id:a[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1"),input:a,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:d,dpDiv:!d?this.dpDiv:g(b("<div class='"+this._inlineClass+ " ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}},_connectDatepicker:function(a,d){var e=b(a);d.append=b([]);d.trigger=b([]);e.hasClass(this.markerClassName)||(this._attachments(e,d),e.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(d),b.data(a,"datepicker",d),d.settings.disabled&&this._disableDatepicker(a))},_attachments:function(a,d){var e,c;e=this._get(d,"appendText");var f=this._get(d,"isRTL");d.append&&d.append.remove();e&&(d.append=b("<span class='"+this._appendClass+"'>"+e+"</span>"),a[f?"before":"after"](d.append));a.unbind("focus",this._showDatepicker);d.trigger&&d.trigger.remove();e=this._get(d,"showOn");("focus"===e||"both"===e)&&a.focus(this._showDatepicker);if("button"===e||"both"===e)e=this._get(d,"buttonText"),c=this._get(d,"buttonImage"),d.trigger=b(this._get(d,"buttonImageOnly")?b("<img/>").addClass(this._triggerClass).attr({src:c,alt:e,title:e}):b("<button type='button'></button>").addClass(this._triggerClass).html(!c? e:b("<img/>").attr({src:c,alt:e,title:e}))),a[f?"before":"after"](d.trigger),d.trigger.click(function(){b.datepicker._datepickerShowing&&b.datepicker._lastInput===a[0]?b.datepicker._hideDatepicker():(b.datepicker._datepickerShowing&&b.datepicker._lastInput!==a[0]&&b.datepicker._hideDatepicker(),b.datepicker._showDatepicker(a[0]));return!1})},_autoSize:function(a){if(this._get(a,"autoSize")&&!a.inline){var b,e,c,f,g=new Date(2009,11,20),h=this._get(a,"dateFormat");h.match(/[DM]/)&&(b=function(a){for(f= c=e=0;f<a.length;f++)a[f].length>e&&(e=a[f].length,c=f);return c},g.setMonth(b(this._get(a,h.match(/MM/)?"monthNames":"monthNamesShort"))),g.setDate(b(this._get(a,h.match(/DD/)?"dayNames":"dayNamesShort"))+20-g.getDay()));a.input.attr("size",this._formatDate(a,g).length)}},_inlineDatepicker:function(a,d){var e=b(a);e.hasClass(this.markerClassName)||(e.addClass(this.markerClassName).append(d.dpDiv),b.data(a,"datepicker",d),this._setDate(d,this._getDefaultDate(d),!0),this._updateDatepicker(d),this._updateAlternate(d),d.settings.disabled&&this._disableDatepicker(a),d.dpDiv.css("display","block"))},_dialogDatepicker:function(a,d,e,c,f){var g;a=this._dialogInst;a||(this.uuid+=1,a="dp"+this.uuid,this._dialogInput=b("<input type='text' id='"+a+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),b("body").append(this._dialogInput),a=this._dialogInst=this._newInst(this._dialogInput,!1),a.settings={},b.data(this._dialogInput[0],"datepicker",a));m(a.settings,c||{});d= d&&d.constructor===Date?this._formatDate(a,d):d;this._dialogInput.val(d);this._pos=f?f.length?f:[f.pageX,f.pageY]:null;this._pos||(d=document.documentElement.clientWidth,c=document.documentElement.clientHeight,f=document.documentElement.scrollLeft||document.body.scrollLeft,g=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[d/2-100+f,c/2-150+g]);this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px");a.settings.onSelect=e;this._inDialog=!0;this.dpDiv.addClass(this._dialogClass); this._showDatepicker(this._dialogInput[0]);b.blockUI&&b.blockUI(this.dpDiv);b.data(this._dialogInput[0],"datepicker",a);return this},_destroyDatepicker:function(a){var d,e=b(a),c=b.data(a,"datepicker");e.hasClass(this.markerClassName)&&(d=a.nodeName.toLowerCase(),b.removeData(a,"datepicker"),"input"===d?(c.append.remove(),c.trigger.remove(),e.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):("div"===d||"span"===d)&&e.removeClass(this.markerClassName).empty())},_enableDatepicker:function(a){var d,e=b(a),c=b.data(a,"datepicker");if(e.hasClass(this.markerClassName)){d=a.nodeName.toLowerCase();if("input"===d)a.disabled=!1,c.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""});else if("div"===d||"span"===d)d=e.children("."+this._inlineClass),d.children().removeClass("ui-state-disabled"),d.find("select.ui-datepicker-month,select.ui-datepicker-year").prop("disabled",!1);this._disabledInputs=b.map(this._disabledInputs,function(b){return b===a?null:b})}},_disableDatepicker:function(a){var d,e=b(a),c=b.data(a,"datepicker");if(e.hasClass(this.markerClassName)){d=a.nodeName.toLowerCase();if("input"===d)a.disabled=!0,c.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"});else if("div"===d||"span"===d)d=e.children("."+this._inlineClass),d.children().addClass("ui-state-disabled"),d.find("select.ui-datepicker-month,select.ui-datepicker-year").prop("disabled",!0);this._disabledInputs=b.map(this._disabledInputs,function(b){return b===a?null:b});this._disabledInputs[this._disabledInputs.length]=a}},_isDisabledDatepicker:function(a){if(!a)return!1;for(var b=0;b<this._disabledInputs.length;b++)if(this._disabledInputs[b]===a)return!0;return!1},_getInst:function(a){try{return b.data(a,"datepicker")}catch(d){throw"Missing instance data for this datepicker";}},_optionDatepicker:function(a,d,e){var c,g,y,h,l=this._getInst(a);if(2===arguments.length&&"string"=== typeof d)return"defaults"===d?b.extend({},b.datepicker._defaults):l?"all"===d?b.extend({},l.settings):this._get(l,d):null;c=d||{};"string"===typeof d&&(c={},c[d]=e);l&&(this._curInst===l&&this._hideDatepicker(),g=this._getDateDatepicker(a,!0),y=this._getMinMaxDate(l,"min"),h=this._getMinMaxDate(l,"max"),m(l.settings,c),null!==y&&(c.dateFormat!==f&&c.minDate===f)&&(l.settings.minDate=this._formatDate(l,y)),null!==h&&(c.dateFormat!==f&&c.maxDate===f)&&(l.settings.maxDate=this._formatDate(l,h)),"disabled"in c&&(c.disabled?this._disableDatepicker(a):this._enableDatepicker(a)),this._attachments(b(a),l),this._autoSize(l),this._setDate(l,g),this._updateAlternate(l),this._updateDatepicker(l))},_changeDatepicker:function(a,b,e){this._optionDatepicker(a,b,e)},_refreshDatepicker:function(a){(a=this._getInst(a))&&this._updateDatepicker(a)},_setDateDatepicker:function(a,b){var e=this._getInst(a);e&&(this._setDate(e,b),this._updateDatepicker(e),this._updateAlternate(e))},_getDateDatepicker:function(a,b){var e= this._getInst(a);e&&!e.inline&&this._setDateFromField(e,b);return e?this._getDate(e):null},_doKeyDown:function(a){var d,e=b.datepicker._getInst(a.target);d=!0;var c=e.dpDiv.is(".ui-datepicker-rtl");e._keyEvent=!0;if(b.datepicker._datepickerShowing)switch(a.keyCode){case 9:b.datepicker._hideDatepicker();d=!1;break;case 13:return d=b("td."+b.datepicker._dayOverClass+":not(."+b.datepicker._currentClass+")",e.dpDiv),d[0]&&b.datepicker._selectDay(a.target,e.selectedMonth,e.selectedYear,d[0]),(a=b.datepicker._get(e,"onSelect"))?(d=b.datepicker._formatDate(e),a.apply(e.input?e.input[0]:null,[d,e])):b.datepicker._hideDatepicker(),!1;case 27:b.datepicker._hideDatepicker();break;case 33:b.datepicker._adjustDate(a.target,a.ctrlKey?-b.datepicker._get(e,"stepBigMonths"):-b.datepicker._get(e,"stepMonths"),"M");break;case 34:b.datepicker._adjustDate(a.target,a.ctrlKey?+b.datepicker._get(e,"stepBigMonths"):+b.datepicker._get(e,"stepMonths"),"M");break;case 35:(a.ctrlKey||a.metaKey)&&b.datepicker._clearDate(a.target); d=a.ctrlKey||a.metaKey;break;case 36:(a.ctrlKey||a.metaKey)&&b.datepicker._gotoToday(a.target);d=a.ctrlKey||a.metaKey;break;case 37:if(a.ctrlKey||a.metaKey)b.datepicker._adjustDate(a.target,c?1:-1,"D");d=a.ctrlKey||a.metaKey;a.originalEvent.altKey&&b.datepicker._adjustDate(a.target,a.ctrlKey?-b.datepicker._get(e,"stepBigMonths"):-b.datepicker._get(e,"stepMonths"),"M");break;case 38:(a.ctrlKey||a.metaKey)&&b.datepicker._adjustDate(a.target,-7,"D");d=a.ctrlKey||a.metaKey;break;case 39:if(a.ctrlKey|| a.metaKey)b.datepicker._adjustDate(a.target,c?-1:1,"D");d=a.ctrlKey||a.metaKey;a.originalEvent.altKey&&b.datepicker._adjustDate(a.target,a.ctrlKey?+b.datepicker._get(e,"stepBigMonths"):+b.datepicker._get(e,"stepMonths"),"M");break;case 40:(a.ctrlKey||a.metaKey)&&b.datepicker._adjustDate(a.target,7,"D");d=a.ctrlKey||a.metaKey;break;default:d=!1}else 36===a.keyCode&&a.ctrlKey?b.datepicker._showDatepicker(this):d=!1;d&&(a.preventDefault(),a.stopPropagation())},_doKeyPress:function(a){var d,e;d=b.datepicker._getInst(a.target); if(b.datepicker._get(d,"constrainInput"))return d=b.datepicker._possibleChars(b.datepicker._get(d,"dateFormat")),e=String.fromCharCode(null==a.charCode?a.keyCode:a.charCode),a.ctrlKey||a.metaKey||" ">e||!d||-1<d.indexOf(e)},_doKeyUp:function(a){var d;a=b.datepicker._getInst(a.target);if(a.input.val()!==a.lastVal)try{if(d=b.datepicker.parseDate(b.datepicker._get(a,"dateFormat"),a.input?a.input.val():null,b.datepicker._getFormatConfig(a)))b.datepicker._setDateFromField(a),b.datepicker._updateAlternate(a),b.datepicker._updateDatepicker(a)}catch(e){}return!0},_showDatepicker:function(a){a=a.target||a;"input"!==a.nodeName.toLowerCase()&&(a=b("input",a.parentNode)[0]);if(!(b.datepicker._isDisabledDatepicker(a)||b.datepicker._lastInput===a)){var d,e,c,f;d=b.datepicker._getInst(a);b.datepicker._curInst&&b.datepicker._curInst!==d&&(b.datepicker._curInst.dpDiv.stop(!0,!0),d&&b.datepicker._datepickerShowing&&b.datepicker._hideDatepicker(b.datepicker._curInst.input[0]));e=(e=b.datepicker._get(d,"beforeShow"))? e.apply(a,[a,d]):{};if(!1!==e&&(m(d.settings,e),d.lastVal=null,b.datepicker._lastInput=a,b.datepicker._setDateFromField(d),b.datepicker._inDialog&&(a.value=""),b.datepicker._pos||(b.datepicker._pos=b.datepicker._findPos(a),b.datepicker._pos[1]+=a.offsetHeight),c=!1,b(a).parents().each(function(){c|="fixed"===b(this).css("position");return!c}),e={left:b.datepicker._pos[0],top:b.datepicker._pos[1]},b.datepicker._pos=null,d.dpDiv.empty(),d.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),b.datepicker._updateDatepicker(d),e=b.datepicker._checkOffset(d,e,c),d.dpDiv.css({position:b.datepicker._inDialog&&b.blockUI?"static":c?"fixed":"absolute",display:"none",left:e.left+"px",top:e.top+"px"}),!d.inline)){e=b.datepicker._get(d,"showAnim");f=b.datepicker._get(d,"duration");d.dpDiv.zIndex(b(a).zIndex()+1);b.datepicker._datepickerShowing=!0;if(b.effects&&b.effects.effect[e])d.dpDiv.show(e,b.datepicker._get(d,"showOptions"),f);else d.dpDiv[e||"show"](e?f:null);d.input.is(":visible")&&!d.input.is(":disabled")&& d.input.focus();b.datepicker._curInst=d}}},_updateDatepicker:function(a){this.maxRows=4;n=a;a.dpDiv.empty().append(this._generateHTML(a));this._attachHandlers(a);a.dpDiv.find("."+this._dayOverClass+" a").mouseover();var d,e=this._getNumberOfMonths(a),c=e[1];a.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width("");1<c&&a.dpDiv.addClass("ui-datepicker-multi-"+c).css("width",17*c+"em");a.dpDiv[(1!==e[0]||1!==e[1]?"add":"remove")+"Class"]("ui-datepicker-multi"); a.dpDiv[(this._get(a,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl");a===b.datepicker._curInst&&(b.datepicker._datepickerShowing&&a.input&&a.input.is(":visible")&&!a.input.is(":disabled")&&a.input[0]!==document.activeElement)&&a.input.focus();a.yearshtml&&(d=a.yearshtml,setTimeout(function(){d===a.yearshtml&&a.yearshtml&&a.dpDiv.find("select.ui-datepicker-year:first").replaceWith(a.yearshtml);d=a.yearshtml=null},0))},_getBorders:function(a){var b=function(a){return{thin:1,medium:2,thick:3}[a]|| a};return[parseFloat(b(a.css("border-left-width"))),parseFloat(b(a.css("border-top-width")))]},_checkOffset:function(a,d,e){var c=a.dpDiv.outerWidth(),f=a.dpDiv.outerHeight(),g=a.input?a.input.outerWidth():0,h=a.input?a.input.outerHeight():0,l=document.documentElement.clientWidth+(e?0:b(document).scrollLeft()),m=document.documentElement.clientHeight+(e?0:b(document).scrollTop());d.left-=this._get(a,"isRTL")?c-g:0;d.left-=e&&d.left===a.input.offset().left?b(document).scrollLeft():0;d.top-=e&&d.top=== a.input.offset().top+h?b(document).scrollTop():0;d.left-=Math.min(d.left,d.left+c>l&&l>c?Math.abs(d.left+c-l):0);d.top-=Math.min(d.top,d.top+f>m&&m>f?Math.abs(f+h):0);return d},_findPos:function(a){for(var d=this._getInst(a),d=this._get(d,"isRTL");a&&("hidden"===a.type||1!==a.nodeType||b.expr.filters.hidden(a));)a=a[d?"previousSibling":"nextSibling"];a=b(a).offset();return[a.left,a.top]},_hideDatepicker:function(a){var d,e,c=this._curInst;if(c&&!(a&&c!==b.data(a,"datepicker"))&&this._datepickerShowing){a= this._get(c,"showAnim");d=this._get(c,"duration");e=function(){b.datepicker._tidyDialog(c)};if(b.effects&&(b.effects.effect[a]||b.effects[a]))c.dpDiv.hide(a,b.datepicker._get(c,"showOptions"),d,e);else c.dpDiv["slideDown"===a?"slideUp":"fadeIn"===a?"fadeOut":"hide"](a?d:null,e);a||e();this._datepickerShowing=!1;(a=this._get(c,"onClose"))&&a.apply(c.input?c.input[0]:null,[c.input?c.input.val():"",c]);this._lastInput=null;this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),b.blockUI&&(b.unblockUI(),b("body").append(this.dpDiv)));this._inDialog=!1}},_tidyDialog:function(a){a.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(a){if(b.datepicker._curInst){a=b(a.target);var d=b.datepicker._getInst(a[0]);(a[0].id!==b.datepicker._mainDivId&&0===a.parents("#"+b.datepicker._mainDivId).length&&!a.hasClass(b.datepicker.markerClassName)&&!a.closest("."+b.datepicker._triggerClass).length&&b.datepicker._datepickerShowing&&(!b.datepicker._inDialog|| !b.blockUI)||a.hasClass(b.datepicker.markerClassName)&&b.datepicker._curInst!==d)&&b.datepicker._hideDatepicker()}},_adjustDate:function(a,d,e){a=b(a);var c=this._getInst(a[0]);this._isDisabledDatepicker(a[0])||(this._adjustInstDate(c,d+("M"===e?this._get(c,"showCurrentAtPos"):0),e),this._updateDatepicker(c))},_gotoToday:function(a){var d=b(a),e=this._getInst(d[0]);this._get(e,"gotoCurrent")&&e.currentDay?(e.selectedDay=e.currentDay,e.drawMonth=e.selectedMonth=e.currentMonth,e.drawYear=e.selectedYear= e.currentYear):(a=new Date,e.selectedDay=a.getDate(),e.drawMonth=e.selectedMonth=a.getMonth(),e.drawYear=e.selectedYear=a.getFullYear());this._notifyChange(e);this._adjustDate(d)},_selectMonthYear:function(a,d,e){a=b(a);var c=this._getInst(a[0]);c["selected"+("M"===e?"Month":"Year")]=c["draw"+("M"===e?"Month":"Year")]=parseInt(d.options[d.selectedIndex].value,10);this._notifyChange(c);this._adjustDate(a)},_selectDay:function(a,d,e,c){var f;f=b(a);!b(c).hasClass(this._unselectableClass)&&!this._isDisabledDatepicker(f[0])&& (f=this._getInst(f[0]),f.selectedDay=f.currentDay=b("a",c).html(),f.selectedMonth=f.currentMonth=d,f.selectedYear=f.currentYear=e,this._selectDate(a,this._formatDate(f,f.currentDay,f.currentMonth,f.currentYear)))},_clearDate:function(a){a=b(a);this._selectDate(a,"")},_selectDate:function(a,d){var e;e=b(a);var c=this._getInst(e[0]);d=null!=d?d:this._formatDate(c);c.input&&c.input.val(d);this._updateAlternate(c);(e=this._get(c,"onSelect"))?e.apply(c.input?c.input[0]:null,[d,c]):c.input&&c.input.trigger("change"); c.inline?this._updateDatepicker(c):(this._hideDatepicker(),this._lastInput=c.input[0],"object"!==typeof c.input[0]&&c.input.focus(),this._lastInput=null)},_updateAlternate:function(a){var d,e,c,f=this._get(a,"altField");f&&(d=this._get(a,"altFormat")||this._get(a,"dateFormat"),e=this._getDate(a),c=this.formatDate(d,e,this._getFormatConfig(a)),b(f).each(function(){b(this).val(c)}))},noWeekends:function(a){a=a.getDay();return[0<a&&6>a,""]},iso8601Week:function(a){var b=new Date(a.getTime());b.setDate(b.getDate()+ 4-(b.getDay()||7));a=b.getTime();b.setMonth(0);b.setDate(1);return Math.floor(Math.round((a-b)/864E5)/7)+1},parseDate:function(a,d,e){if(null==a||null==d)throw"Invalid arguments";d="object"===typeof d?d.toString():d+"";if(""===d)return null;var c,f,g,h=0;f=(e?e.shortYearCutoff:null)||this._defaults.shortYearCutoff;f="string"!==typeof f?f:(new Date).getFullYear()%100+parseInt(f,10);g=(e?e.dayNamesShort:null)||this._defaults.dayNamesShort;var l=(e?e.dayNames:null)||this._defaults.dayNames,m=(e?e.monthNamesShort: null)||this._defaults.monthNamesShort,K=(e?e.monthNames:null)||this._defaults.monthNames,j=e=-1,s=-1,n=-1,C=!1,p,q=function(b){(b=c+1<a.length&&a.charAt(c+1)===b)&&c++;return b},D=function(a){var b=q(a);a=RegExp("^\\d{1,"+("@"===a?14:"!"===a?20:"y"===a&&b?4:"o"===a?3:2)+"}");a=d.substring(h).match(a);if(!a)throw"Missing number at position "+h;h+=a[0].length;return parseInt(a[0],10)},v=function(a,e,c){var f=-1;a=b.map(q(a)?c:e,function(a,b){return[[b,a]]}).sort(function(a,b){return-(a[1].length-b[1].length)}); b.each(a,function(a,b){var e=b[1];if(d.substr(h,e.length).toLowerCase()===e.toLowerCase())return f=b[0],h+=e.length,!1});if(-1!==f)return f+1;throw"Unknown name at position "+h;},H=function(){if(d.charAt(h)!==a.charAt(c))throw"Unexpected literal at position "+h;h++};for(c=0;c<a.length;c++)if(C)"'"===a.charAt(c)&&!q("'")?C=!1:H();else switch(a.charAt(c)){case "d":s=D("d");break;case "D":v("D",g,l);break;case "o":n=D("o");break;case "m":j=D("m");break;case "M":j=v("M",m,K);break;case "y":e=D("y");break; case "@":p=new Date(D("@"));e=p.getFullYear();j=p.getMonth()+1;s=p.getDate();break;case "!":p=new Date((D("!")-this._ticksTo1970)/1E4);e=p.getFullYear();j=p.getMonth()+1;s=p.getDate();break;case "'":q("'")?H():C=!0;break;default:H()}if(h<d.length&&(g=d.substr(h),!/^\s+/.test(g)))throw"Extra/unparsed characters found in date: "+g;-1===e?e=(new Date).getFullYear():100>e&&(e+=(new Date).getFullYear()-(new Date).getFullYear()%100+(e<=f?0:-100));if(-1<n){j=1;s=n;do{f=this._getDaysInMonth(e,j-1);if(s<= f)break;j++;s-=f}while(1)}p=this._daylightSavingAdjust(new Date(e,j-1,s));if(p.getFullYear()!==e||p.getMonth()+1!==j||p.getDate()!==s)throw"Invalid date";return p},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:864E9*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:function(a,b,e){if(!b)return"";var c, f=(e?e.dayNamesShort:null)||this._defaults.dayNamesShort,g=(e?e.dayNames:null)||this._defaults.dayNames,h=(e?e.monthNamesShort:null)||this._defaults.monthNamesShort;e=(e?e.monthNames:null)||this._defaults.monthNames;var l=function(b){(b=c+1<a.length&&a.charAt(c+1)===b)&&c++;return b},m=function(a,b,d){b=""+b;if(l(a))for(;b.length<d;)b="0"+b;return b},j="",n=!1;if(b)for(c=0;c<a.length;c++)if(n)"'"===a.charAt(c)&&!l("'")?n=!1:j+=a.charAt(c);else switch(a.charAt(c)){case "d":j+=m("d",b.getDate(),2); break;case "D":var s;s=b.getDay();var G=f,C=g;s=l("D")?C[s]:G[s];j+=s;break;case "o":j+=m("o",Math.round(((new Date(b.getFullYear(),b.getMonth(),b.getDate())).getTime()-(new Date(b.getFullYear(),0,0)).getTime())/864E5),3);break;case "m":j+=m("m",b.getMonth()+1,2);break;case "M":s=b.getMonth();G=h;C=e;s=l("M")?C[s]:G[s];j+=s;break;case "y":j+=l("y")?b.getFullYear():(10>b.getYear()%100?"0":"")+b.getYear()%100;break;case "@":j+=b.getTime();break;case "!":j+=1E4*b.getTime()+this._ticksTo1970;break;case "'":l("'")? j+="'":n=!0;break;default:j+=a.charAt(c)}return j},_possibleChars:function(a){var b,e="",c=!1,f=function(e){(e=b+1<a.length&&a.charAt(b+1)===e)&&b++;return e};for(b=0;b<a.length;b++)if(c)"'"===a.charAt(b)&&!f("'")?c=!1:e+=a.charAt(b);else switch(a.charAt(b)){case "d":case "m":case "y":case "@":e+="0123456789";break;case "D":case "M":return null;case "'":f("'")?e+="'":c=!0;break;default:e+=a.charAt(b)}return e},_get:function(a,b){return a.settings[b]!==f?a.settings[b]:this._defaults[b]},_setDateFromField:function(a,b){if(a.input.val()!==a.lastVal){var e=this._get(a,"dateFormat"),c=a.lastVal=a.input?a.input.val():null,f=this._getDefaultDate(a),g=f,h=this._getFormatConfig(a);try{g=this.parseDate(e,c,h)||f}catch(l){c=b?"":c}a.selectedDay=g.getDate();a.drawMonth=a.selectedMonth=g.getMonth();a.drawYear=a.selectedYear=g.getFullYear();a.currentDay=c?g.getDate():0;a.currentMonth=c?g.getMonth():0;a.currentYear=c?g.getFullYear():0;this._adjustInstDate(a)}},_getDefaultDate:function(a){return this._restrictMinMax(a,this._determineDate(a,this._get(a,"defaultDate"),new Date))},_determineDate:function(a,d,e){if(null==d||""===d)d=e;else{var c;if("string"===typeof d)a:{try{c=b.datepicker.parseDate(b.datepicker._get(a,"dateFormat"),d,b.datepicker._getFormatConfig(a));break a}catch(f){}var g=(d.toLowerCase().match(/^c/)?b.datepicker._getDate(a):null)||new Date;a=g.getFullYear();c=g.getMonth();for(var g=g.getDate(),h=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,l=h.exec(d);l;){switch(l[2]||"d"){case "d":case "D":g+=parseInt(l[1],10);break;case "w":case "W":g+= 7*parseInt(l[1],10);break;case "m":case "M":c+=parseInt(l[1],10);g=Math.min(g,b.datepicker._getDaysInMonth(a,c));break;case "y":case "Y":a+=parseInt(l[1],10),g=Math.min(g,b.datepicker._getDaysInMonth(a,c))}l=h.exec(d)}c=new Date(a,c,g)}else"number"===typeof d?isNaN(d)?d=e:(a=new Date,a.setDate(a.getDate()+d),d=a):d=new Date(d.getTime()),c=d;d=c}if(d=d&&"Invalid Date"===d.toString()?e:d)d.setHours(0),d.setMinutes(0),d.setSeconds(0),d.setMilliseconds(0);return this._daylightSavingAdjust(d)},_daylightSavingAdjust:function(a){if(!a)return null; a.setHours(12<a.getHours()?a.getHours()+2:0);return a},_setDate:function(a,b,c){var f=!b,g=a.selectedMonth,j=a.selectedYear;b=this._restrictMinMax(a,this._determineDate(a,b,new Date));a.selectedDay=a.currentDay=b.getDate();a.drawMonth=a.selectedMonth=a.currentMonth=b.getMonth();a.drawYear=a.selectedYear=a.currentYear=b.getFullYear();(g!==a.selectedMonth||j!==a.selectedYear)&&!c&&this._notifyChange(a);this._adjustInstDate(a);a.input&&a.input.val(f?"":this._formatDate(a))},_getDate:function(a){return!a.currentYear|| a.input&&""===a.input.val()?null:this._daylightSavingAdjust(new Date(a.currentYear,a.currentMonth,a.currentDay))},_attachHandlers:function(a){var d=this._get(a,"stepMonths"),c="#"+a.id.replace(/\\\\/g,"\\");a.dpDiv.find("[data-handler]").map(function(){b(this).bind(this.getAttribute("data-event"),{prev:function(){window["DP_jQuery_"+j].datepicker._adjustDate(c,-d,"M")},next:function(){window["DP_jQuery_"+j].datepicker._adjustDate(c,+d,"M")},hide:function(){window["DP_jQuery_"+j].datepicker._hideDatepicker()},today:function(){window["DP_jQuery_"+j].datepicker._gotoToday(c)},selectDay:function(){window["DP_jQuery_"+j].datepicker._selectDay(c,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this);return!1},selectMonth:function(){window["DP_jQuery_"+j].datepicker._selectMonthYear(c,this,"M");return!1},selectYear:function(){window["DP_jQuery_"+j].datepicker._selectMonthYear(c,this,"Y");return!1}}[this.getAttribute("data-handler")])})},_generateHTML:function(a){var b,c,f,g,j,h,l,m,n,z,s,G,C,p,q,D,v,H,N,x,E,t,P,R,Q,O,S,L=new Date,L=this._daylightSavingAdjust(new Date(L.getFullYear(),L.getMonth(),L.getDate())),I=this._get(a,"isRTL");h=this._get(a,"showButtonPanel");f=this._get(a,"hideIfNoPrevNext");j=this._get(a,"navigationAsDateFormat");var J=this._getNumberOfMonths(a),u=this._get(a,"showCurrentAtPos");g=this._get(a,"stepMonths");var T=1!==J[0]||1!==J[1],w=this._daylightSavingAdjust(!a.currentDay?new Date(9999,9,9):new Date(a.currentYear,a.currentMonth,a.currentDay)),F=this._getMinMaxDate(a,"min"),M=this._getMinMaxDate(a,"max"),u=a.drawMonth-u,B=a.drawYear;0>u&&(u+=12,B--);if(M){b=this._daylightSavingAdjust(new Date(M.getFullYear(),M.getMonth()-J[0]*J[1]+1,M.getDate()));for(b=F&&b<F?F:b;this._daylightSavingAdjust(new Date(B,u,1))>b;)u--,0>u&&(u=11,B--)}a.drawMonth=u;a.drawYear=B;b=this._get(a,"prevText");b=!j?b:this.formatDate(b,this._daylightSavingAdjust(new Date(B,u-g,1)),this._getFormatConfig(a));b=this._canAdjustMonth(a,-1,B,u)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+ b+"'><span class='ui-icon ui-icon-circle-triangle-"+(I?"e":"w")+"'>"+b+"</span></a>":f?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+b+"'><span class='ui-icon ui-icon-circle-triangle-"+(I?"e":"w")+"'>"+b+"</span></a>";c=this._get(a,"nextText");c=!j?c:this.formatDate(c,this._daylightSavingAdjust(new Date(B,u+g,1)),this._getFormatConfig(a));f=this._canAdjustMonth(a,1,B,u)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+c+"'><span class='ui-icon ui-icon-circle-triangle-"+ (I?"w":"e")+"'>"+c+"</span></a>":f?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+c+"'><span class='ui-icon ui-icon-circle-triangle-"+(I?"w":"e")+"'>"+c+"</span></a>";g=this._get(a,"currentText");c=this._get(a,"gotoCurrent")&&a.currentDay?w:L;g=!j?g:this.formatDate(g,c,this._getFormatConfig(a));j=!a.inline?"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(a,"closeText")+ "</button>":"";h=h?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(I?j:"")+(this._isInRange(a,c)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+g+"</button>":"")+(I?"":j)+"</div>":"";j=parseInt(this._get(a,"firstDay"),10);j=isNaN(j)?0:j;g=this._get(a,"showWeek");c=this._get(a,"dayNames");l=this._get(a,"dayNamesMin");m=this._get(a,"monthNames");n=this._get(a,"monthNamesShort");z=this._get(a,"beforeShowDay");s=this._get(a,"showOtherMonths");G=this._get(a,"selectOtherMonths");C=this._getDefaultDate(a);p="";q;for(D=0;D<J[0];D++){v="";this.maxRows=4;for(H=0;H<J[1];H++){N=this._daylightSavingAdjust(new Date(B,u,a.selectedDay));q=" ui-corner-all";x="";if(T){x+="<div class='ui-datepicker-group";if(1<J[1])switch(H){case 0:x+=" ui-datepicker-group-first";q=" ui-corner-"+(I?"right":"left");break;case J[1]-1:x+=" ui-datepicker-group-last";q=" ui-corner-"+(I?"left":"right");break;default:x+=" ui-datepicker-group-middle",q=""}x+="'>"}x+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+q+"'>"+(/all|left/.test(q)&&0===D?I?f:b:"")+(/all|right/.test(q)&&0===D?I?b:f:"")+this._generateMonthYearHeader(a,u,B,F,M,0<D||0<H,m,n)+"</div><table class='ui-datepicker-calendar'><thead><tr>";E=g?"<th class='ui-datepicker-week-col'>"+this._get(a,"weekHeader")+"</th>":"";for(q=0;7>q;q++)t=(q+j)%7,E+="<th"+(5<=(q+j+6)%7?" class='ui-datepicker-week-end'":"")+"><span title='"+c[t]+"'>"+l[t]+"</span></th>";x+=E+"</tr></thead><tbody>"; E=this._getDaysInMonth(B,u);B===a.selectedYear&&u===a.selectedMonth&&(a.selectedDay=Math.min(a.selectedDay,E));q=(this._getFirstDayOfMonth(B,u)-j+7)%7;E=Math.ceil((q+E)/7);this.maxRows=E=T?this.maxRows>E?this.maxRows:E:E;t=this._daylightSavingAdjust(new Date(B,u,1-q));for(P=0;P<E;P++){x+="<tr>";R=!g?"":"<td class='ui-datepicker-week-col'>"+this._get(a,"calculateWeek")(t)+"</td>";for(q=0;7>q;q++)Q=z?z.apply(a.input?a.input[0]:null,[t]):[!0,""],S=(O=t.getMonth()!==u)&&!G||!Q[0]||F&&t<F||M&&t>M,R+="<td class='"+ (5<=(q+j+6)%7?" ui-datepicker-week-end":"")+(O?" ui-datepicker-other-month":"")+(t.getTime()===N.getTime()&&u===a.selectedMonth&&a._keyEvent||C.getTime()===t.getTime()&&C.getTime()===N.getTime()?" "+this._dayOverClass:"")+(S?" "+this._unselectableClass+" ui-state-disabled":"")+(O&&!s?"":" "+Q[1]+(t.getTime()===w.getTime()?" "+this._currentClass:"")+(t.getTime()===L.getTime()?" ui-datepicker-today":""))+"'"+((!O||s)&&Q[2]?" title='"+Q[2].replace(/'/g,"&#39;")+"'":"")+(S?"":" data-handler='selectDay' data-event='click' data-month='"+ t.getMonth()+"' data-year='"+t.getFullYear()+"'")+">"+(O&&!s?"&#xa0;":S?"<span class='ui-state-default'>"+t.getDate()+"</span>":"<a class='ui-state-default"+(t.getTime()===L.getTime()?" ui-state-highlight":"")+(t.getTime()===w.getTime()?" ui-state-active":"")+(O?" ui-priority-secondary":"")+"' href='#'>"+t.getDate()+"</a>")+"</td>",t.setDate(t.getDate()+1),t=this._daylightSavingAdjust(t);x+=R+"</tr>"}u++;11<u&&(u=0,B++);x+="</tbody></table>"+(T?"</div>"+(0<J[0]&&H===J[1]-1?"<div class='ui-datepicker-row-break'></div>":""):"");v+=x}p+=v}a._keyEvent=!1;return p+h},_generateMonthYearHeader:function(a,b,c,f,g,j,h,l){var m,n,z,s=this._get(a,"changeMonth"),G=this._get(a,"changeYear"),C=this._get(a,"showMonthAfterYear"),p="<div class='ui-datepicker-title'>",q="";if(j||!s)q+="<span class='ui-datepicker-month'>"+h[b]+"</span>";else{h=f&&f.getFullYear()===c;m=g&&g.getFullYear()===c;q+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>";for(n=0;12>n;n++)if((!h||n>=f.getMonth())&&(!m||n<= g.getMonth()))q+="<option value='"+n+"'"+(n===b?" selected='selected'":"")+">"+l[n]+"</option>";q+="</select>"}C||(p+=q+(j||!s||!G?"&#xa0;":""));if(!a.yearshtml)if(a.yearshtml="",j||!G)p+="<span class='ui-datepicker-year'>"+c+"</span>";else{l=this._get(a,"yearRange").split(":");z=(new Date).getFullYear();h=function(a){a=a.match(/c[+\-].*/)?c+parseInt(a.substring(1),10):a.match(/[+\-].*/)?z+parseInt(a,10):parseInt(a,10);return isNaN(a)?z:a};b=h(l[0]);l=Math.max(b,h(l[1]||""));b=f?Math.max(b,f.getFullYear()):b;l=g?Math.min(l,g.getFullYear()):l;for(a.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";b<=l;b++)a.yearshtml+="<option value='"+b+"'"+(b===c?" selected='selected'":"")+">"+b+"</option>";a.yearshtml+="</select>";p+=a.yearshtml;a.yearshtml=null}p+=this._get(a,"yearSuffix");C&&(p+=(j||!s||!G?"&#xa0;":"")+q);return p+"</div>"},_adjustInstDate:function(a,b,c){var f=a.drawYear+("Y"===c?b:0),g=a.drawMonth+("M"===c?b:0);b=Math.min(a.selectedDay,this._getDaysInMonth(f,g))+("D"===c?b:0);f=this._restrictMinMax(a,this._daylightSavingAdjust(new Date(f,g,b)));a.selectedDay=f.getDate();a.drawMonth=a.selectedMonth=f.getMonth();a.drawYear=a.selectedYear=f.getFullYear();("M"===c||"Y"===c)&&this._notifyChange(a)},_restrictMinMax:function(a,b){var c=this._getMinMaxDate(a,"min"),f=this._getMinMaxDate(a,"max"),c=c&&b<c?c:b;return f&&c>f?f:c},_notifyChange:function(a){var b=this._get(a,"onChangeMonthYear");b&&b.apply(a.input?a.input[0]:null,[a.selectedYear,a.selectedMonth+1,a])},_getNumberOfMonths:function(a){a=this._get(a,"numberOfMonths");return null==a?[1,1]:"number"===typeof a?[1,a]:a},_getMinMaxDate:function(a,b){return this._determineDate(a,this._get(a,b+"Date"),null)},_getDaysInMonth:function(a,b){return 32-this._daylightSavingAdjust(new Date(a,b,32)).getDate()},_getFirstDayOfMonth:function(a,b){return(new Date(a,b,1)).getDay()},_canAdjustMonth:function(a,b,c,f){var g=this._getNumberOfMonths(a);c=this._daylightSavingAdjust(new Date(c,f+(0>b?b:g[0]*g[1]),1));0> b&&c.setDate(this._getDaysInMonth(c.getFullYear(),c.getMonth()));return this._isInRange(a,c)},_isInRange:function(a,b){var c,f,g=this._getMinMaxDate(a,"min"),j=this._getMinMaxDate(a,"max"),h=null,l=null;if(c=this._get(a,"yearRange"))c=c.split(":"),f=(new Date).getFullYear(),h=parseInt(c[0],10),l=parseInt(c[1],10),c[0].match(/[+\-].*/)&&(h+=f),c[1].match(/[+\-].*/)&&(l+=f);return(!g||b.getTime()>=g.getTime())&&(!j||b.getTime()<=j.getTime())&&(!h||b.getFullYear()>=h)&&(!l||b.getFullYear()<=l)},_getFormatConfig:function(a){var b= this._get(a,"shortYearCutoff"),b="string"!==typeof b?b:(new Date).getFullYear()%100+parseInt(b,10);return{shortYearCutoff:b,dayNamesShort:this._get(a,"dayNamesShort"),dayNames:this._get(a,"dayNames"),monthNamesShort:this._get(a,"monthNamesShort"),monthNames:this._get(a,"monthNames")}},_formatDate:function(a,b,c,f){b||(a.currentDay=a.selectedDay,a.currentMonth=a.selectedMonth,a.currentYear=a.selectedYear);b=b?"object"===typeof b?b:this._daylightSavingAdjust(new Date(f,c,b)):this._daylightSavingAdjust(new Date(a.currentYear,a.currentMonth,a.currentDay));return this.formatDate(this._get(a,"dateFormat"),b,this._getFormatConfig(a))}});b.fn.datepicker=function(a){if(!this.length)return this;b.datepicker.initialized||(b(document).mousedown(b.datepicker._checkExternalClick),b.datepicker.initialized=!0);0===b("#"+b.datepicker._mainDivId).length&&b("body").append(b.datepicker.dpDiv);var c=Array.prototype.slice.call(arguments,1);return"string"===typeof a&&("isDisabled"===a||"getDate"===a||"widget"===a)||"option"===a&&2===arguments.length&& "string"===typeof arguments[1]?b.datepicker["_"+a+"Datepicker"].apply(b.datepicker,[this[0]].concat(c)):this.each(function(){"string"===typeof a?b.datepicker["_"+a+"Datepicker"].apply(b.datepicker,[this].concat(c)):b.datepicker._attachDatepicker(this,a)})};b.datepicker=new c;b.datepicker.initialized=!1;b.datepicker.uuid=(new Date).getTime();b.datepicker.version="1.10.1";window["DP_jQuery_"+j]=b})(jQuery); (function(b){b.widget("ui.menu",{version:"1.10.1",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element;this.mouseHandled=!1;this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content ui-corner-all").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}).bind("click"+ this.eventNamespace,b.proxy(function(b){this.options.disabled&&b.preventDefault()},this));this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true");this._on({"mousedown .ui-menu-item>a":function(b){b.preventDefault()},"click .ui-state-disabled>a":function(b){b.preventDefault()},"click .ui-menu-item:has(a)":function(f){var c=b(f.target).closest(".ui-menu-item");!this.mouseHandled&&c.not(".ui-state-disabled").length&&(this.mouseHandled=!0,this.select(f),c.has(".ui-menu").length? this.expand(f):this.element.is(":focus")||(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(f){var c=b(f.currentTarget);c.siblings().children(".ui-state-active").removeClass("ui-state-active");this.focus(f,c)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(b,c){var g=this.active||this.element.children(".ui-menu-item").eq(0);c||this.focus(b,g)},blur:function(f){this._delay(function(){b.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(f)})},keydown:"_keydown"});this.refresh();this._on(this.document,{click:function(f){b(f.target).closest(".ui-menu").length||this.collapseAll(f);this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-corner-all ui-menu-icons").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(); this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").children("a").removeUniqueId().removeClass("ui-corner-all ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var f=b(this);f.data("ui-menu-submenu-carat")&&f.remove()});this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(f){function c(a){return a.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g, "\\$&")}var g,m,j,n,a=!0;switch(f.keyCode){case b.ui.keyCode.PAGE_UP:this.previousPage(f);break;case b.ui.keyCode.PAGE_DOWN:this.nextPage(f);break;case b.ui.keyCode.HOME:this._move("first","first",f);break;case b.ui.keyCode.END:this._move("last","last",f);break;case b.ui.keyCode.UP:this.previous(f);break;case b.ui.keyCode.DOWN:this.next(f);break;case b.ui.keyCode.LEFT:this.collapse(f);break;case b.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(f);break;case b.ui.keyCode.ENTER:case b.ui.keyCode.SPACE:this._activate(f); break;case b.ui.keyCode.ESCAPE:this.collapse(f);break;default:a=!1,g=this.previousFilter||"",m=String.fromCharCode(f.keyCode),j=!1,clearTimeout(this.filterTimer),m===g?j=!0:m=g+m,n=RegExp("^"+c(m),"i"),g=this.activeMenu.children(".ui-menu-item").filter(function(){return n.test(b(this).children("a").text())}),g=j&&-1!==g.index(this.active.next())?this.active.nextAll(".ui-menu-item"):g,g.length||(m=String.fromCharCode(f.keyCode),n=RegExp("^"+c(m),"i"),g=this.activeMenu.children(".ui-menu-item").filter(function(){return n.test(b(this).children("a").text())})),g.length?(this.focus(f,g),1<g.length?(this.previousFilter=m,this.filterTimer=this._delay(function(){delete this.previousFilter},1E3)):delete this.previousFilter):delete this.previousFilter}a&&f.preventDefault()},_activate:function(b){this.active.is(".ui-state-disabled")||(this.active.children("a[aria-haspopup='true']").length?this.expand(b):this.select(b))},refresh:function(){var f,c=this.options.icons.submenu;f=this.element.find(this.options.menus);f.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-corner-all").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var f=b(this),m=f.prev("a"),j=b("<span>").addClass("ui-menu-icon ui-icon "+c).data("ui-menu-submenu-carat",!0);m.attr("aria-haspopup","true").prepend(j);f.attr("aria-labelledby",m.attr("id"))});f=f.add(this.element);f.children(":not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","presentation").children("a").uniqueId().addClass("ui-corner-all").attr({tabIndex:-1,role:this._itemRole()});f.children(":not(.ui-menu-item)").each(function(){var c= b(this);/[^\-\u2014\u2013\s]/.test(c.text())||c.addClass("ui-widget-content ui-menu-divider")});f.children(".ui-state-disabled").attr("aria-disabled","true");this.active&&!b.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(b,c){"icons"===b&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(c.submenu);this._super(b,c)},focus:function(b,c){var g;this.blur(b,b&& "focus"===b.type);this._scrollIntoView(c);this.active=c.first();g=this.active.children("a").addClass("ui-state-focus");this.options.role&&this.element.attr("aria-activedescendant",g.attr("id"));this.active.parent().closest(".ui-menu-item").children("a:first").addClass("ui-state-active");b&&"keydown"===b.type?this._close():this.timer=this._delay(function(){this._close()},this.delay);g=c.children(".ui-menu");g.length&&/^mouse/.test(b.type)&&this._startOpening(g);this.activeMenu=c.parent();this._trigger("focus",b,{item:c})},_scrollIntoView:function(f){var c,g,m;this._hasScroll()&&(c=parseFloat(b.css(this.activeMenu[0],"borderTopWidth"))||0,g=parseFloat(b.css(this.activeMenu[0],"paddingTop"))||0,c=f.offset().top-this.activeMenu.offset().top-c-g,g=this.activeMenu.scrollTop(),m=this.activeMenu.height(),f=f.height(),0>c?this.activeMenu.scrollTop(g+c):c+f>m&&this.activeMenu.scrollTop(g+c-m+f))},blur:function(b,c){c||clearTimeout(this.timer);this.active&&(this.active.children("a").removeClass("ui-state-focus"),this.active=null,this._trigger("blur",b,{item:this.active}))},_startOpening:function(b){clearTimeout(this.timer);"true"===b.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close();this._open(b)},this.delay))},_open:function(f){var c=b.extend({of:this.active},this.options.position);clearTimeout(this.timer);this.element.find(".ui-menu").not(f.parents(".ui-menu")).hide().attr("aria-hidden","true");f.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(c)},collapseAll:function(f,c){clearTimeout(this.timer);this.timer=this._delay(function(){var g=c?this.element:b(f&&f.target).closest(this.element.find(".ui-menu"));g.length||(g=this.element);this._close(g);this.blur(f);this.activeMenu=g},this.delay)},_close:function(b){b||(b=this.active?this.active.parent():this.element);b.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find("a.ui-state-active").removeClass("ui-state-active")},collapse:function(b){var c=this.active&&this.active.parent().closest(".ui-menu-item",this.element);c&&c.length&&(this._close(),this.focus(b,c))},expand:function(b){var c=this.active&&this.active.children(".ui-menu ").children(".ui-menu-item").first();c&&c.length&&(this._open(c.parent()),this._delay(function(){this.focus(b,c)}))},next:function(b){this._move("next","first",b)},previous:function(b){this._move("prev","last",b)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(b,c,g){var m;this.active&&(m="first"===b||"last"===b?this.active["first"===b?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[b+"All"](".ui-menu-item").eq(0));if(!m||!m.length||!this.active)m=this.activeMenu.children(".ui-menu-item")[c]();this.focus(g,m)},nextPage:function(f){var c,g,m;this.active?this.isLastItem()||(this._hasScroll()?(g=this.active.offset().top,m=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){c=b(this);return 0>c.offset().top-g- m}),this.focus(f,c)):this.focus(f,this.activeMenu.children(".ui-menu-item")[!this.active?"first":"last"]())):this.next(f)},previousPage:function(f){var c,g,m;this.active?this.isFirstItem()||(this._hasScroll()?(g=this.active.offset().top,m=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){c=b(this);return 0<c.offset().top-g+m}),this.focus(f,c)):this.focus(f,this.activeMenu.children(".ui-menu-item").first())):this.next(f)},_hasScroll:function(){return this.element.outerHeight()< this.element.prop("scrollHeight")},select:function(f){this.active=this.active||b(f.target).closest(".ui-menu-item");var c={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(f,!0);this._trigger("select",f,c)}})})(jQuery);var io="undefined"==typeof module?{}:module.exports;(function(){(function(a,b){var c=a;c.version="0.9.11",c.protocol=1,c.transports=[],c.j=[],c.sockets={},c.connect=function(a,d){var e=c.util.parseUri(a),f,g;b&&b.location&&(e.protocol=e.protocol||b.location.protocol.slice(0,-1),e.host=e.host||(b.document?b.document.domain:b.location.hostname),e.port=e.port||b.location.port),f=c.util.uniqueUri(e);var h={host:e.host,secure:"https"==e.protocol,port:e.port||("https"==e.protocol?443:80),query:e.query||""};c.util.merge(h,d);if(h["force new connection"]||!c.sockets[f])g=new c.Socket(h);return!h["force new connection"]&&g&&(c.sockets[f]=g),g=g||c.sockets[f],g.of(e.path.length>1?e.path:"")}})("object"==typeof module?module.exports:this.io={},this),function(a,b){var c=a.util={},d=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,e=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];c.parseUri=function(a){var b=d.exec(a||""),c={},f=14;while(f--)c[e[f]]=b[f]||"";return c},c.uniqueUri=function(a){var c=a.protocol,d=a.host,e=a.port;return"document"in b?(d=d||document.domain,e=e||(c=="https"&&document.location.protocol!=="https:"?443:document.location.port)):(d=d||"localhost",!e&&c=="https"&&(e=443)),(c||"http")+"://"+d+":"+(e||80)},c.query=function(a,b){var d=c.chunkQuery(a||""),e=[];c.merge(d,c.chunkQuery(b||""));for(var f in d)d.hasOwnProperty(f)&&e.push(f+"="+d[f]);return e.length?"?"+e.join("&"):""},c.chunkQuery=function(a){var b={},c=a.split("&"),d=0,e=c.length,f;for(;d<e;++d)f=c[d].split("="),f[0]&&(b[f[0]]=f[1]);return b};var f=!1;c.load=function(a){if("document"in b&&document.readyState==="complete"||f)return a();c.on(b,"load",a,!1)},c.on=function(a,b,c,d){a.attachEvent?a.attachEvent("on"+b,c):a.addEventListener&&a.addEventListener(b,c,d)},c.request=function(a){if(a&&"undefined"!=typeof XDomainRequest&&!c.ua.hasCORS)return new XDomainRequest;if("undefined"!=typeof XMLHttpRequest&&(!a||c.ua.hasCORS))return new XMLHttpRequest;if(!a)try{return new(window[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(b){}return null},"undefined"!=typeof window&&c.load(function(){f=!0}),c.defer=function(a){if(!c.ua.webkit||"undefined"!=typeof importScripts)return a();c.load(function(){setTimeout(a,100)})},c.merge=function(b,d,e,f){var g=f||[],h=typeof e=="undefined"?2:e,i;for(i in d)d.hasOwnProperty(i)&&c.indexOf(g,i)<0&&(typeof b[i]!="object"||!h?(b[i]=d[i],g.push(d[i])):c.merge(b[i],d[i],h-1,g));return b},c.mixin=function(a,b){c.merge(a.prototype,b.prototype)},c.inherit=function(a,b){function c(){}c.prototype=b.prototype,a.prototype=new c},c.isArray=Array.isArray||function(a){return Object.prototype.toString.call(a)==="[object Array]"},c.intersect=function(a,b){var d=[],e=a.length>b.length?a:b,f=a.length>b.length?b:a;for(var g=0,h=f.length;g<h;g++)~c.indexOf(e,f[g])&&d.push(f[g]);return d},c.indexOf=function(a,b,c){for(var d=a.length,c=c<0?c+d<0?0:c+d:c||0;c<d&&a[c]!==b;c++);return d<=c?-1:c},c.toArray=function(a){var b=[];for(var c=0,d=a.length;c<d;c++)b.push(a[c]);return b},c.ua={},c.ua.hasCORS="undefined"!=typeof XMLHttpRequest&&function(){try{var a=new XMLHttpRequest}catch(b){return!1}return a.withCredentials!=undefined}(),c.ua.webkit="undefined"!=typeof navigator&&/webkit/i.test(navigator.userAgent),c.ua.iDevice="undefined"!=typeof navigator&&/iPad|iPhone|iPod/i.test(navigator.userAgent)}("undefined"!=typeof io?io:module.exports,this),function(a,b){function c(){}a.EventEmitter=c,c.prototype.on=function(a,c){return this.$events||(this.$events={}),this.$events[a]?b.util.isArray(this.$events[a])?this.$events[a].push(c):this.$events[a]=[this.$events[a],c]:this.$events[a]=c,this},c.prototype.addListener=c.prototype.on,c.prototype.once=function(a,b){function d(){c.removeListener(a,d),b.apply(this,arguments)}var c=this;return d.listener=b,this.on(a,d),this},c.prototype.removeListener=function(a,c){if(this.$events&&this.$events[a]){var d=this.$events[a];if(b.util.isArray(d)){var e=-1;for(var f=0,g=d.length;f<g;f++)if(d[f]===c||d[f].listener&&d[f].listener===c){e=f;break}if(e<0)return this;d.splice(e,1),d.length||delete this.$events[a]}else(d===c||d.listener&&d.listener===c)&&delete this.$events[a]}return this},c.prototype.removeAllListeners=function(a){return a===undefined?(this.$events={},this):(this.$events&&this.$events[a]&&(this.$events[a]=null),this)},c.prototype.listeners=function(a){return this.$events||(this.$events={}),this.$events[a]||(this.$events[a]=[]),b.util.isArray(this.$events[a])||(this.$events[a]=[this.$events[a]]),this.$events[a]},c.prototype.emit=function(a){if(!this.$events)return!1;var c=this.$events[a];if(!c)return!1;var d=Array.prototype.slice.call(arguments,1);if("function"==typeof c)c.apply(this,d);else{if(!b.util.isArray(c))return!1;var e=c.slice();for(var f=0,g=e.length;f<g;f++)e[f].apply(this,d)}return!0}}("undefined"!=typeof io?io:module.exports,"undefined"!=typeof io?io:module.parent.exports),function(exports,nativeJSON){function f(a){return a<10?"0"+a:a}function date(a,b){return isFinite(a.valueOf())?a.getUTCFullYear()+"-"+f(a.getUTCMonth()+1)+"-"+f(a.getUTCDate())+"T"+f(a.getUTCHours())+":"+f(a.getUTCMinutes())+":"+f(a.getUTCSeconds())+"Z":null}function quote(a){return escapable.lastIndex=0,escapable.test(a)?'"'+a.replace(escapable,function(a){var b=meta[a];return typeof b=="string"?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function str(a,b){var c,d,e,f,g=gap,h,i=b[a];i instanceof Date&&(i=date(a)),typeof rep=="function"&&(i=rep.call(b,a,i));switch(typeof i){case"string":return quote(i);case"number":return isFinite(i)?String(i):"null";case"boolean":case"null":return String(i);case"object":if(!i)return"null";gap+=indent,h=[];if(Object.prototype.toString.apply(i)==="[object Array]"){f=i.length;for(c=0;c<f;c+=1)h[c]=str(c,i)||"null";return e=h.length===0?"[]":gap?"[\n"+gap+h.join(",\n"+gap)+"\n"+g+"]":"["+h.join(",")+"]",gap=g,e}if(rep&&typeof rep=="object"){f=rep.length;for(c=0;c<f;c+=1)typeof rep[c]=="string"&&(d=rep[c],e=str(d,i),e&&h.push(quote(d)+(gap?":":":")+e))}else for(d in i)Object.prototype.hasOwnProperty.call(i,d)&&(e=str(d,i),e&&h.push(quote(d)+(gap?":":":")+e));return e=h.length===0?"{}":gap?"{\n"+gap+h.join(",\n"+gap)+"\n"+g+"}":"{"+h.join(",")+"}",gap=g,e}}"use strict";if(nativeJSON&&nativeJSON.parse)return exports.JSON={parse:nativeJSON.parse,stringify:nativeJSON.stringify};var JSON=exports.JSON={},cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;JSON.stringify=function(a,b,c){var d;gap="",indent="";if(typeof c=="number")for(d=0;d<c;d+=1)indent+=" ";else typeof c=="string"&&(indent=c);rep=b;if(!b||typeof b=="function"||typeof b=="object"&&typeof b.length=="number")return str("",{"":a});throw new Error("JSON.stringify")},JSON.parse=function(text,reviver){function walk(a,b){var c,d,e=a[b];if(e&&typeof e=="object")for(c in e)Object.prototype.hasOwnProperty.call(e,c)&&(d=walk(e,c),d!==undefined?e[c]=d:delete e[c]);return reviver.call(a,b,e)}var j;text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),typeof reviver=="function"?walk({"":j},""):j;throw new SyntaxError("JSON.parse")}}("undefined"!=typeof io?io:module.exports,typeof JSON!="undefined"?JSON:undefined),function(a,b){var c=a.parser={},d=c.packets=["disconnect","connect","heartbeat","message","json","event","ack","error","noop"],e=c.reasons=["transport not supported","client not handshaken","unauthorized"],f=c.advice=["reconnect"],g=b.JSON,h=b.util.indexOf;c.encodePacket=function(a){var b=h(d,a.type),c=a.id||"",i=a.endpoint||"",j=a.ack,k=null;switch(a.type){case"error":var l=a.reason?h(e,a.reason):"",m=a.advice?h(f,a.advice):"";if(l!==""||m!=="")k=l+(m!==""?"+"+m:"");break;case"message":a.data!==""&&(k=a.data);break;case"event":var n={name:a.name};a.args&&a.args.length&&(n.args=a.args),k=g.stringify(n);break;case"json":k=g.stringify(a.data);break;case"connect":a.qs&&(k=a.qs);break;case"ack":k=a.ackId+(a.args&&a.args.length?"+"+g.stringify(a.args):"")}var o=[b,c+(j=="data"?"+":""),i];return k!==null&&k!==undefined&&o.push(k),o.join(":")},c.encodePayload=function(a){var b="";if(a.length==1)return a[0];for(var c=0,d=a.length;c<d;c++){var e=a[c];b+="\ufffd"+e.length+"\ufffd"+a[c]}return b};var i=/([^:]+):([0-9]+)?(\+)?:([^:]+)?:?([\s\S]*)?/;c.decodePacket=function(a){var b=a.match(i);if(!b)return{};var c=b[2]||"",a=b[5]||"",h={type:d[b[1]],endpoint:b[4]||""};c&&(h.id=c,b[3]?h.ack="data":h.ack=!0);switch(h.type){case"error":var b=a.split("+");h.reason=e[b[0]]||"",h.advice=f[b[1]]||"";break;case"message":h.data=a||"";break;case"event":try{var j=g.parse(a);h.name=j.name,h.args=j.args}catch(k){}h.args=h.args||[];break;case"json":try{h.data=g.parse(a)}catch(k){}break;case"connect":h.qs=a||"";break;case"ack":var b=a.match(/^([0-9]+)(\+)?(.*)/);if(b){h.ackId=b[1],h.args=[];if(b[3])try{h.args=b[3]?g.parse(b[3]):[]}catch(k){}}break;case"disconnect":case"heartbeat":}return h},c.decodePayload=function(a){if(a.charAt(0)=="\ufffd"){var b=[];for(var d=1,e="";d<a.length;d++)a.charAt(d)=="\ufffd"?(b.push(c.decodePacket(a.substr(d+1).substr(0,e))),d+=Number(e)+1,e=""):e+=a.charAt(d);return b}return[c.decodePacket(a)]}}("undefined"!=typeof io?io:module.exports,"undefined"!=typeof io?io:module.parent.exports),function(a,b){function c(a,b){this.socket=a,this.sessid=b}a.Transport=c,b.util.mixin(c,b.EventEmitter),c.prototype.heartbeats=function(){return!0},c.prototype.onData=function(a){this.clearCloseTimeout(),(this.socket.connected||this.socket.connecting||this.socket.reconnecting)&&this.setCloseTimeout();if(a!==""){var c=b.parser.decodePayload(a);if(c&&c.length)for(var d=0,e=c.length;d<e;d++)this.onPacket(c[d])}return this},c.prototype.onPacket=function(a){return this.socket.setHeartbeatTimeout(),a.type=="heartbeat"?this.onHeartbeat():(a.type=="connect"&&a.endpoint==""&&this.onConnect(),a.type=="error"&&a.advice=="reconnect"&&(this.isOpen=!1),this.socket.onPacket(a),this)},c.prototype.setCloseTimeout=function(){if(!this.closeTimeout){var a=this;this.closeTimeout=setTimeout(function(){a.onDisconnect()},this.socket.closeTimeout)}},c.prototype.onDisconnect=function(){return this.isOpen&&this.close(),this.clearTimeouts(),this.socket.onDisconnect(),this},c.prototype.onConnect=function(){return this.socket.onConnect(),this},c.prototype.clearCloseTimeout=function(){this.closeTimeout&&(clearTimeout(this.closeTimeout),this.closeTimeout=null)},c.prototype.clearTimeouts=function(){this.clearCloseTimeout(),this.reopenTimeout&&clearTimeout(this.reopenTimeout)},c.prototype.packet=function(a){this.send(b.parser.encodePacket(a))},c.prototype.onHeartbeat=function(a){this.packet({type:"heartbeat"})},c.prototype.onOpen=function(){this.isOpen=!0,this.clearCloseTimeout(),this.socket.onOpen()},c.prototype.onClose=function(){var a=this;this.isOpen=!1,this.socket.onClose(),this.onDisconnect()},c.prototype.prepareUrl=function(){var a=this.socket.options;return this.scheme()+"://"+a.host+":"+a.port+"/"+a.resource+"/"+b.protocol+"/"+this.name+"/"+this.sessid},c.prototype.ready=function(a,b){b.call(this)}}("undefined"!=typeof io?io:module.exports,"undefined"!=typeof io?io:module.parent.exports),function(a,b,c){function d(a){this.options={port:80,secure:!1,document:"document"in c?document:!1,resource:"socket.io",transports:b.transports,"connect timeout":1e4,"try multiple transports":!0,reconnect:!0,"reconnection delay":500,"reconnection limit":Infinity,"reopen delay":3e3,"max reconnection attempts":10,"sync disconnect on unload":!1,"auto connect":!0,"flash policy port":10843,manualFlush:!1},b.util.merge(this.options,a),this.connected=!1,this.open=!1,this.connecting=!1,this.reconnecting=!1,this.namespaces={},this.buffer=[],this.doBuffer=!1;if(this.options["sync disconnect on unload"]&&(!this.isXDomain()||b.util.ua.hasCORS)){var d=this;b.util.on(c,"beforeunload",function(){d.disconnectSync()},!1)}this.options["auto connect"]&&this.connect()}function e(){}a.Socket=d,b.util.mixin(d,b.EventEmitter),d.prototype.of=function(a){return this.namespaces[a]||(this.namespaces[a]=new b.SocketNamespace(this,a),a!==""&&this.namespaces[a].packet({type:"connect"})),this.namespaces[a]},d.prototype.publish=function(){this.emit.apply(this,arguments);var a;for(var b in this.namespaces)this.namespaces.hasOwnProperty(b)&&(a=this.of(b),a.$emit.apply(a,arguments))},d.prototype.handshake=function(a){function f(b){b instanceof Error?(c.connecting=!1,c.onError(b.message)):a.apply(null,b.split(":"))}var c=this,d=this.options,g=["http"+(d.secure?"s":"")+":/",d.host+":"+d.port,d.resource,b.protocol,b.util.query(this.options.query,"t="+ +(new Date))].join("/");if(this.isXDomain()&&!b.util.ua.hasCORS){var h=document.getElementsByTagName("script")[0],i=document.createElement("script");i.src=g+"&jsonp="+b.j.length,h.parentNode.insertBefore(i,h),b.j.push(function(a){f(a),i.parentNode.removeChild(i)})}else{var j=b.util.request();j.open("GET",g,!0),this.isXDomain()&&(j.withCredentials=!0),j.onreadystatechange=function(){j.readyState==4&&(j.onreadystatechange=e,j.status==200?f(j.responseText):j.status==403?c.onError(j.responseText):(c.connecting=!1,!c.reconnecting&&c.onError(j.responseText)))},j.send(null)}},d.prototype.getTransport=function(a){var c=a||this.transports,d;for(var e=0,f;f=c[e];e++)if(b.Transport[f]&&b.Transport[f].check(this)&&(!this.isXDomain()||b.Transport[f].xdomainCheck(this)))return new b.Transport[f](this,this.sessionid);return null},d.prototype.connect=function(a){if(this.connecting)return this;var c=this;return c.connecting=!0,this.handshake(function(d,e,f,g){function h(a){c.transport&&c.transport.clearTimeouts(),c.transport=c.getTransport(a);if(!c.transport)return c.publish("connect_failed");c.transport.ready(c,function(){c.connecting=!0,c.publish("connecting",c.transport.name),c.transport.open(),c.options["connect timeout"]&&(c.connectTimeoutTimer=setTimeout(function(){if(!c.connected){c.connecting=!1;if(c.options["try multiple transports"]){var a=c.transports;while(a.length>0&&a.splice(0,1)[0]!=c.transport.name);a.length?h(a):c.publish("connect_failed")}}},c.options["connect timeout"]))})}c.sessionid=d,c.closeTimeout=f*1e3,c.heartbeatTimeout=e*1e3,c.transports||(c.transports=c.origTransports=g?b.util.intersect(g.split(","),c.options.transports):c.options.transports),c.setHeartbeatTimeout(),h(c.transports),c.once("connect",function(){clearTimeout(c.connectTimeoutTimer),a&&typeof a=="function"&&a()})}),this},d.prototype.setHeartbeatTimeout=function(){clearTimeout(this.heartbeatTimeoutTimer);if(this.transport&&!this.transport.heartbeats())return;var a=this;this.heartbeatTimeoutTimer=setTimeout(function(){a.transport.onClose()},this.heartbeatTimeout)},d.prototype.packet=function(a){return this.connected&&!this.doBuffer?this.transport.packet(a):this.buffer.push(a),this},d.prototype.setBuffer=function(a){this.doBuffer=a,!a&&this.connected&&this.buffer.length&&(this.options.manualFlush||this.flushBuffer())},d.prototype.flushBuffer=function(){this.transport.payload(this.buffer),this.buffer=[]},d.prototype.disconnect=function(){if(this.connected||this.connecting)this.open&&this.of("").packet({type:"disconnect"}),this.onDisconnect("booted");return this},d.prototype.disconnectSync=function(){var a=b.util.request(),c=["http"+(this.options.secure?"s":"")+":/",this.options.host+":"+this.options.port,this.options.resource,b.protocol,"",this.sessionid].join("/")+"/?disconnect=1";a.open("GET",c,!1),a.send(null),this.onDisconnect("booted")},d.prototype.isXDomain=function(){var a=c.location.port||("https:"==c.location.protocol?443:80);return this.options.host!==c.location.hostname||this.options.port!=a},d.prototype.onConnect=function(){this.connected||(this.connected=!0,this.connecting=!1,this.doBuffer||this.setBuffer(!1),this.emit("connect"))},d.prototype.onOpen=function(){this.open=!0},d.prototype.onClose=function(){this.open=!1,clearTimeout(this.heartbeatTimeoutTimer)},d.prototype.onPacket=function(a){this.of(a.endpoint).onPacket(a)},d.prototype.onError=function(a){a&&a.advice&&a.advice==="reconnect"&&(this.connected||this.connecting)&&(this.disconnect(),this.options.reconnect&&this.reconnect()),this.publish("error",a&&a.reason?a.reason:a)},d.prototype.onDisconnect=function(a){var b=this.connected,c=this.connecting;this.connected=!1,this.connecting=!1,this.open=!1;if(b||c)this.transport.close(),this.transport.clearTimeouts(),b&&(this.publish("disconnect",a),"booted"!=a&&this.options.reconnect&&!this.reconnecting&&this.reconnect())},d.prototype.reconnect=function(){function e(){if(a.connected){for(var b in a.namespaces)a.namespaces.hasOwnProperty(b)&&""!==b&&a.namespaces[b].packet({type:"connect"});a.publish("reconnect",a.transport.name,a.reconnectionAttempts)}clearTimeout(a.reconnectionTimer),a.removeListener("connect_failed",f),a.removeListener("connect",f),a.reconnecting=!1,delete a.reconnectionAttempts,delete a.reconnectionDelay,delete a.reconnectionTimer,delete a.redoTransports,a.options["try multiple transports"]=c}function f(){if(!a.reconnecting)return;if(a.connected)return e();if(a.connecting&&a.reconnecting)return a.reconnectionTimer=setTimeout(f,1e3);a.reconnectionAttempts++>=b?a.redoTransports?(a.publish("reconnect_failed"),e()):(a.on("connect_failed",f),a.options["try multiple transports"]=!0,a.transports=a.origTransports,a.transport=a.getTransport(),a.redoTransports=!0,a.connect()):(a.reconnectionDelay<d&&(a.reconnectionDelay*=2),a.connect(),a.publish("reconnecting",a.reconnectionDelay,a.reconnectionAttempts),a.reconnectionTimer=setTimeout(f,a.reconnectionDelay))}this.reconnecting=!0,this.reconnectionAttempts=0,this.reconnectionDelay=this.options["reconnection delay"];var a=this,b=this.options["max reconnection attempts"],c=this.options["try multiple transports"],d=this.options["reconnection limit"];this.options["try multiple transports"]=!1,this.reconnectionTimer=setTimeout(f,this.reconnectionDelay),this.on("connect",f)}}("undefined"!=typeof io?io:module.exports,"undefined"!=typeof io?io:module.parent.exports,this),function(a,b){function c(a,b){this.socket=a,this.name=b||"",this.flags={},this.json=new d(this,"json"),this.ackPackets=0,this.acks={}}function d(a,b){this.namespace=a,this.name=b}a.SocketNamespace=c,b.util.mixin(c,b.EventEmitter),c.prototype.$emit=b.EventEmitter.prototype.emit,c.prototype.of=function(){return this.socket.of.apply(this.socket,arguments)},c.prototype.packet=function(a){return a.endpoint=this.name,this.socket.packet(a),this.flags={},this},c.prototype.send=function(a,b){var c={type:this.flags.json?"json":"message",data:a};return"function"==typeof b&&(c.id=++this.ackPackets,c.ack=!0,this.acks[c.id]=b),this.packet(c)},c.prototype.emit=function(a){var b=Array.prototype.slice.call(arguments,1),c=b[b.length-1],d={type:"event",name:a};return"function"==typeof c&&(d.id=++this.ackPackets,d.ack="data",this.acks[d.id]=c,b=b.slice(0,b.length-1)),d.args=b,this.packet(d)},c.prototype.disconnect=function(){return this.name===""?this.socket.disconnect():(this.packet({type:"disconnect"}),this.$emit("disconnect")),this},c.prototype.onPacket=function(a){function d(){c.packet({type:"ack",args:b.util.toArray(arguments),ackId:a.id})}var c=this;switch(a.type){case"connect":this.$emit("connect");break;case"disconnect":this.name===""?this.socket.onDisconnect(a.reason||"booted"):this.$emit("disconnect",a.reason);break;case"message":case"json":var e=["message",a.data];a.ack=="data"?e.push(d):a.ack&&this.packet({type:"ack",ackId:a.id}),this.$emit.apply(this,e);break;case"event":var e=[a.name].concat(a.args);a.ack=="data"&&e.push(d),this.$emit.apply(this,e);break;case"ack":this.acks[a.ackId]&&(this.acks[a.ackId].apply(this,a.args),delete this.acks[a.ackId]);break;case"error":a.advice?this.socket.onError(a):a.reason=="unauthorized"?this.$emit("connect_failed",a.reason):this.$emit("error",a.reason)}},d.prototype.send=function(){this.namespace.flags[this.name]=!0,this.namespace.send.apply(this.namespace,arguments)},d.prototype.emit=function(){this.namespace.flags[this.name]=!0,this.namespace.emit.apply(this.namespace,arguments)}}("undefined"!=typeof io?io:module.exports,"undefined"!=typeof io?io:module.parent.exports),function(a,b,c){function d(a){b.Transport.apply(this,arguments)}a.websocket=d,b.util.inherit(d,b.Transport),d.prototype.name="websocket",d.prototype.open=function(){var a=b.util.query(this.socket.options.query),d=this,e;return e||(e=c.MozWebSocket||c.WebSocket),this.websocket=new e(this.prepareUrl()+a),this.websocket.onopen=function(){d.onOpen(),d.socket.setBuffer(!1)},this.websocket.onmessage=function(a){d.onData(a.data)},this.websocket.onclose=function(){d.onClose(),d.socket.setBuffer(!0)},this.websocket.onerror=function(a){d.onError(a)},this},b.util.ua.iDevice?d.prototype.send=function(a){var b=this;return setTimeout(function(){b.websocket.send(a)},0),this}:d.prototype.send=function(a){return this.websocket.send(a),this},d.prototype.payload=function(a){for(var b=0,c=a.length;b<c;b++)this.packet(a[b]);return this},d.prototype.close=function(){return this.websocket.close(),this},d.prototype.onError=function(a){this.socket.onError(a)},d.prototype.scheme=function(){return this.socket.options.secure?"wss":"ws"},d.check=function(){return"WebSocket"in c&&!("__addTask"in WebSocket)||"MozWebSocket"in c},d.xdomainCheck=function(){return!0},b.transports.push("websocket")}("undefined"!=typeof io?io.Transport:module.exports,"undefined"!=typeof io?io:module.parent.exports,this),function(a,b){function c(){b.Transport.websocket.apply(this,arguments)}a.flashsocket=c,b.util.inherit(c,b.Transport.websocket),c.prototype.name="flashsocket",c.prototype.open=function(){var a=this,c=arguments;return WebSocket.__addTask(function(){b.Transport.websocket.prototype.open.apply(a,c)}),this},c.prototype.send=function(){var a=this,c=arguments;return WebSocket.__addTask(function(){b.Transport.websocket.prototype.send.apply(a,c)}),this},c.prototype.close=function(){return WebSocket.__tasks.length=0,b.Transport.websocket.prototype.close.call(this),this},c.prototype.ready=function(a,d){function e(){var b=a.options,e=b["flash policy port"],g=["http"+(b.secure?"s":"")+":/",b.host+":"+b.port,b.resource,"static/flashsocket","WebSocketMain"+(a.isXDomain()?"Insecure":"")+".swf"];c.loaded||(typeof WEB_SOCKET_SWF_LOCATION=="undefined"&&(WEB_SOCKET_SWF_LOCATION=g.join("/")),e!==843&&WebSocket.loadFlashPolicyFile("xmlsocket://"+b.host+":"+e),WebSocket.__initialize(),c.loaded=!0),d.call(f)}var f=this;if(document.body)return e();b.util.load(e)},c.check=function(){return typeof WebSocket!="undefined"&&"__initialize"in WebSocket&&!!swfobject?swfobject.getFlashPlayerVersion().major>=10:!1},c.xdomainCheck=function(){return!0},typeof window!="undefined"&&(WEB_SOCKET_DISABLE_AUTO_INITIALIZATION=!0),b.transports.push("flashsocket")}("undefined"!=typeof io?io.Transport:module.exports,"undefined"!=typeof io?io:module.parent.exports);if("undefined"!=typeof window)var swfobject=function(){function A(){if(t)return;try{var a=i.getElementsByTagName("body")[0].appendChild(Q("span"));a.parentNode.removeChild(a)}catch(b){return}t=!0;var c=l.length;for(var d=0;d<c;d++)l[d]()}function B(a){t?a():l[l.length]=a}function C(b){if(typeof h.addEventListener!=a)h.addEventListener("load",b,!1);else if(typeof i.addEventListener!=a)i.addEventListener("load",b,!1);else if(typeof h.attachEvent!=a)R(h,"onload",b);else if(typeof h.onload=="function"){var c=h.onload;h.onload=function(){c(),b()}}else h.onload=b}function D(){k?E():F()}function E(){var c=i.getElementsByTagName("body")[0],d=Q(b);d.setAttribute("type",e);var f=c.appendChild(d);if(f){var g=0;(function(){if(typeof f.GetVariable!=a){var b=f.GetVariable("$version");b&&(b=b.split(" ")[1].split(","),y.pv=[parseInt(b[0],10),parseInt(b[1],10),parseInt(b[2],10)])}else if(g<10){g++,setTimeout(arguments.callee,10);return}c.removeChild(d),f=null,F()})()}else F()}function F(){var b=m.length;if(b>0)for(var c=0;c<b;c++){var d=m[c].id,e=m[c].callbackFn,f={success:!1,id:d};if(y.pv[0]>0){var g=P(d);if(g)if(S(m[c].swfVersion)&&!(y.wk&&y.wk<312))U(d,!0),e&&(f.success=!0,f.ref=G(d),e(f));else if(m[c].expressInstall&&H()){var h={};h.data=m[c].expressInstall,h.width=g.getAttribute("width")||"0",h.height=g.getAttribute("height")||"0",g.getAttribute("class")&&(h.styleclass=g.getAttribute("class")),g.getAttribute("align")&&(h.align=g.getAttribute("align"));var i={},j=g.getElementsByTagName("param"),k=j.length;for(var l=0;l<k;l++)j[l].getAttribute("name").toLowerCase()!="movie"&&(i[j[l].getAttribute("name")]=j[l].getAttribute("value"));I(h,i,d,e)}else J(g),e&&e(f)}else{U(d,!0);if(e){var n=G(d);n&&typeof n.SetVariable!=a&&(f.success=!0,f.ref=n),e(f)}}}}function G(c){var d=null,e=P(c);if(e&&e.nodeName=="OBJECT")if(typeof e.SetVariable!=a)d=e;else{var f=e.getElementsByTagName(b)[0];f&&(d=f)}return d}function H(){return!u&&S("6.0.65")&&(y.win||y.mac)&&!(y.wk&&y.wk<312)}function I(b,c,d,e){u=!0,r=e||null,s={success:!1,id:d};var g=P(d);if(g){g.nodeName=="OBJECT"?(p=K(g),q=null):(p=g,q=d),b.id=f;if(typeof b.width==a||!/%$/.test(b.width)&&parseInt(b.width,10)<310)b.width="310";if(typeof b.height==a||!/%$/.test(b.height)&&parseInt(b.height,10)<137)b.height="137";i.title=i.title.slice(0,47)+" - Flash Player Installation";var j=y.ie&&y.win?["Active"].concat("").join("X"):"PlugIn",k="MMredirectURL="+h.location.toString().replace(/&/g,"%26")+"&MMplayerType="+j+"&MMdoctitle="+i.title;typeof c.flashvars!=a?c.flashvars+="&"+k:c.flashvars=k;if(y.ie&&y.win&&g.readyState!=4){var l=Q("div");d+="SWFObjectNew",l.setAttribute("id",d),g.parentNode.insertBefore(l,g),g.style.display="none",function(){g.readyState==4?g.parentNode.removeChild(g):setTimeout(arguments.callee,10)}()}L(b,c,d)}}function J(a){if(y.ie&&y.win&&a.readyState!=4){var b=Q("div");a.parentNode.insertBefore(b,a),b.parentNode.replaceChild(K(a),b),a.style.display="none",function(){a.readyState==4?a.parentNode.removeChild(a):setTimeout(arguments.callee,10)}()}else a.parentNode.replaceChild(K(a),a)}function K(a){var c=Q("div");if(y.win&&y.ie)c.innerHTML=a.innerHTML;else{var d=a.getElementsByTagName(b)[0];if(d){var e=d.childNodes;if(e){var f=e.length;for(var g=0;g<f;g++)(e[g].nodeType!=1||e[g].nodeName!="PARAM")&&e[g].nodeType!=8&&c.appendChild(e[g].cloneNode(!0))}}}return c}function L(c,d,f){var g,h=P(f);if(y.wk&&y.wk<312)return g;if(h){typeof c.id==a&&(c.id=f);if(y.ie&&y.win){var i="";for(var j in c)c[j]!=Object.prototype[j]&&(j.toLowerCase()=="data"?d.movie=c[j]:j.toLowerCase()=="styleclass"?i+=' class="'+c[j]+'"':j.toLowerCase()!="classid"&&(i+=" "+j+'="'+c[j]+'"'));var k="";for(var l in d)d[l]!=Object.prototype[l]&&(k+='<param name="'+l+'" value="'+d[l]+'" />');h.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+i+">"+k+"</object>",n[n.length]=c.id,g=P(c.id)}else{var m=Q(b);m.setAttribute("type",e);for(var o in c)c[o]!=Object.prototype[o]&&(o.toLowerCase()=="styleclass"?m.setAttribute("class",c[o]):o.toLowerCase()!="classid"&&m.setAttribute(o,c[o]));for(var p in d)d[p]!=Object.prototype[p]&&p.toLowerCase()!="movie"&&M(m,p,d[p]);h.parentNode.replaceChild(m,h),g=m}}return g}function M(a,b,c){var d=Q("param");d.setAttribute("name",b),d.setAttribute("value",c),a.appendChild(d)}function N(a){var b=P(a);b&&b.nodeName=="OBJECT"&&(y.ie&&y.win?(b.style.display="none",function(){b.readyState==4?O(a):setTimeout(arguments.callee,10)}()):b.parentNode.removeChild(b))}function O(a){var b=P(a);if(b){for(var c in b)typeof b[c]=="function"&&(b[c]=null);b.parentNode.removeChild(b)}}function P(a){var b=null;try{b=i.getElementById(a)}catch(c){}return b}function Q(a){return i.createElement(a)}function R(a,b,c){a.attachEvent(b,c),o[o.length]=[a,b,c]}function S(a){var b=y.pv,c=a.split(".");return c[0]=parseInt(c[0],10),c[1]=parseInt(c[1],10)||0,c[2]=parseInt(c[2],10)||0,b[0]>c[0]||b[0]==c[0]&&b[1]>c[1]||b[0]==c[0]&&b[1]==c[1]&&b[2]>=c[2]?!0:!1}function T(c,d,e,f){if(y.ie&&y.mac)return;var g=i.getElementsByTagName("head")[0];if(!g)return;var h=e&&typeof e=="string"?e:"screen";f&&(v=null,w=null);if(!v||w!=h){var j=Q("style");j.setAttribute("type","text/css"),j.setAttribute("media",h),v=g.appendChild(j),y.ie&&y.win&&typeof i.styleSheets!=a&&i.styleSheets.length>0&&(v=i.styleSheets[i.styleSheets.length-1]),w=h}y.ie&&y.win?v&&typeof v.addRule==b&&v.addRule(c,d):v&&typeof i.createTextNode!=a&&v.appendChild(i.createTextNode(c+" {"+d+"}"))}function U(a,b){if(!x)return;var c=b?"visible":"hidden";t&&P(a)?P(a).style.visibility=c:T("#"+a,"visibility:"+c)}function V(b){var c=/[\\\"<>\.;]/,d=c.exec(b)!=null;return d&&typeof encodeURIComponent!=a?encodeURIComponent(b):b}var a="undefined",b="object",c="Shockwave Flash",d="ShockwaveFlash.ShockwaveFlash",e="application/x-shockwave-flash",f="SWFObjectExprInst",g="onreadystatechange",h=window,i=document,j=navigator,k=!1,l=[D],m=[],n=[],o=[],p,q,r,s,t=!1,u=!1,v,w,x=!0,y=function(){var f=typeof i.getElementById!=a&&typeof i.getElementsByTagName!=a&&typeof i.createElement!=a,g=j.userAgent.toLowerCase(),l=j.platform.toLowerCase(),m=l?/win/.test(l):/win/.test(g),n=l?/mac/.test(l):/mac/.test(g),o=/webkit/.test(g)?parseFloat(g.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")):!1,p=!1,q=[0,0,0],r=null;if(typeof j.plugins!=a&&typeof j.plugins[c]==b)r=j.plugins[c].description,r&&(typeof j.mimeTypes==a||!j.mimeTypes[e]||!!j.mimeTypes[e].enabledPlugin)&&(k=!0,p=!1,r=r.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),q[0]=parseInt(r.replace(/^(.*)\..*$/,"$1"),10),q[1]=parseInt(r.replace(/^.*\.(.*)\s.*$/,"$1"),10),q[2]=/[a-zA-Z]/.test(r)?parseInt(r.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0);else if(typeof h[["Active"].concat("Object").join("X")]!=a)try{var s=new(window[["Active"].concat("Object").join("X")])(d);s&&(r=s.GetVariable("$version"),r&&(p=!0,r=r.split(" ")[1].split(","),q=[parseInt(r[0],10),parseInt(r[1],10),parseInt(r[2],10)]))}catch(t){}return{w3:f,pv:q,wk:o,ie:p,win:m,mac:n}}(),z=function(){if(!y.w3)return;(typeof i.readyState!=a&&i.readyState=="complete"||typeof i.readyState==a&&(i.getElementsByTagName("body")[0]||i.body))&&A(),t||(typeof i.addEventListener!=a&&i.addEventListener("DOMContentLoaded",A,!1),y.ie&&y.win&&(i.attachEvent(g,function(){i.readyState=="complete"&&(i.detachEvent(g,arguments.callee),A())}),h==top&&function(){if(t)return;try{i.documentElement.doScroll("left")}catch(a){setTimeout(arguments.callee,0);return}A()}()),y.wk&&function(){if(t)return;if(!/loaded|complete/.test(i.readyState)){setTimeout(arguments.callee,0);return}A()}(),C(A))}(),W=function(){y.ie&&y.win&&window.attachEvent("onunload",function(){var a=o.length;for(var b=0;b<a;b++)o[b][0].detachEvent(o[b][1],o[b][2]);var c=n.length;for(var d=0;d<c;d++)N(n[d]);for(var e in y)y[e]=null;y=null;for(var f in swfobject)swfobject[f]=null;swfobject=null})}();return{registerObject:function(a,b,c,d){if(y.w3&&a&&b){var e={};e.id=a,e.swfVersion=b,e.expressInstall=c,e.callbackFn=d,m[m.length]=e,U(a,!1)}else d&&d({success:!1,id:a})},getObjectById:function(a){if(y.w3)return G(a)},embedSWF:function(c,d,e,f,g,h,i,j,k,l){var m={success:!1,id:d};y.w3&&!(y.wk&&y.wk<312)&&c&&d&&e&&f&&g?(U(d,!1),B(function(){e+="",f+="";var n={};if(k&&typeof k===b)for(var o in k)n[o]=k[o];n.data=c,n.width=e,n.height=f;var p={};if(j&&typeof j===b)for(var q in j)p[q]=j[q];if(i&&typeof i===b)for(var r in i)typeof p.flashvars!=a?p.flashvars+="&"+r+"="+i[r]:p.flashvars=r+"="+i[r];if(S(g)){var s=L(n,p,d);n.id==d&&U(d,!0),m.success=!0,m.ref=s}else{if(h&&H()){n.data=h,I(n,p,d,l);return}U(d,!0)}l&&l(m)})):l&&l(m)},switchOffAutoHideShow:function(){x=!1},ua:y,getFlashPlayerVersion:function(){return{major:y.pv[0],minor:y.pv[1],release:y.pv[2]}},hasFlashPlayerVersion:S,createSWF:function(a,b,c){return y.w3?L(a,b,c):undefined},showExpressInstall:function(a,b,c,d){y.w3&&H()&&I(a,b,c,d)},removeSWF:function(a){y.w3&&N(a)},createCSS:function(a,b,c,d){y.w3&&T(a,b,c,d)},addDomLoadEvent:B,addLoadEvent:C,getQueryParamValue:function(a){var b=i.location.search||i.location.hash;if(b){/\?/.test(b)&&(b=b.split("?")[1]);if(a==null)return V(b);var c=b.split("&");for(var d=0;d<c.length;d++)if(c[d].substring(0,c[d].indexOf("="))==a)return V(c[d].substring(c[d].indexOf("=")+1))}return""},expressInstallCallback:function(){if(u){var a=P(f);a&&p&&(a.parentNode.replaceChild(p,a),q&&(U(q,!0),y.ie&&y.win&&(p.style.display="block")),r&&r(s)),u=!1}}}}();(function(){if("undefined"==typeof window||window.WebSocket)return;var a=window.console;if(!a||!a.log||!a.error)a={log:function(){},error:function(){}};if(!swfobject.hasFlashPlayerVersion("10.0.0")){a.error("Flash Player>=10.0.0 is required.");return}location.protocol=="file:"&&a.error("WARNING: web-socket-js doesn't work in file:///... URL unless you set Flash Security Settings properly. Open the page via Web server i.e. http://..."),WebSocket=function(a,b,c,d,e){var f=this;f.__id=WebSocket.__nextId++,WebSocket.__instances[f.__id]=f,f.readyState=WebSocket.CONNECTING,f.bufferedAmount=0,f.__events={},b?typeof b=="string"&&(b=[b]):b=[],setTimeout(function(){WebSocket.__addTask(function(){WebSocket.__flash.create(f.__id,a,b,c||null,d||0,e||null)})},0)},WebSocket.prototype.send=function(a){if(this.readyState==WebSocket.CONNECTING)throw"INVALID_STATE_ERR: Web Socket connection has not been established";var b=WebSocket.__flash.send(this.__id,encodeURIComponent(a));return b<0?!0:(this.bufferedAmount+=b,!1)},WebSocket.prototype.close=function(){if(this.readyState==WebSocket.CLOSED||this.readyState==WebSocket.CLOSING)return;this.readyState=WebSocket.CLOSING,WebSocket.__flash.close(this.__id)},WebSocket.prototype.addEventListener=function(a,b,c){a in this.__events||(this.__events[a]=[]),this.__events[a].push(b)},WebSocket.prototype.removeEventListener=function(a,b,c){if(!(a in this.__events))return;var d=this.__events[a];for(var e=d.length-1;e>=0;--e)if(d[e]===b){d.splice(e,1);break}},WebSocket.prototype.dispatchEvent=function(a){var b=this.__events[a.type]||[];for(var c=0;c<b.length;++c)b[c](a);var d=this["on"+a.type];d&&d(a)},WebSocket.prototype.__handleEvent=function(a){"readyState"in a&&(this.readyState=a.readyState),"protocol"in a&&(this.protocol=a.protocol);var b;if(a.type=="open"||a.type=="error")b=this.__createSimpleEvent(a.type);else if(a.type=="close")b=this.__createSimpleEvent("close");else{if(a.type!="message")throw"unknown event type: "+a.type;var c=decodeURIComponent(a.message);b=this.__createMessageEvent("message",c)}this.dispatchEvent(b)},WebSocket.prototype.__createSimpleEvent=function(a){if(document.createEvent&&window.Event){var b=document.createEvent("Event");return b.initEvent(a,!1,!1),b}return{type:a,bubbles:!1,cancelable:!1}},WebSocket.prototype.__createMessageEvent=function(a,b){if(document.createEvent&&window.MessageEvent&&!window.opera){var c=document.createEvent("MessageEvent");return c.initMessageEvent("message",!1,!1,b,null,null,window,null),c}return{type:a,data:b,bubbles:!1,cancelable:!1}},WebSocket.CONNECTING=0,WebSocket.OPEN=1,WebSocket.CLOSING=2,WebSocket.CLOSED=3,WebSocket.__flash=null,WebSocket.__instances={},WebSocket.__tasks=[],WebSocket.__nextId=0,WebSocket.loadFlashPolicyFile=function(a){WebSocket.__addTask(function(){WebSocket.__flash.loadManualPolicyFile(a)})},WebSocket.__initialize=function(){if(WebSocket.__flash)return;WebSocket.__swfLocation&&(window.WEB_SOCKET_SWF_LOCATION=WebSocket.__swfLocation);if(!window.WEB_SOCKET_SWF_LOCATION){a.error("[WebSocket] set WEB_SOCKET_SWF_LOCATION to location of WebSocketMain.swf");return}var b=document.createElement("div");b.id="webSocketContainer",b.style.position="absolute",WebSocket.__isFlashLite()?(b.style.left="0px",b.style.top="0px"):(b.style.left="-100px",b.style.top="-100px");var c=document.createElement("div");c.id="webSocketFlash",b.appendChild(c),document.body.appendChild(b),swfobject.embedSWF(WEB_SOCKET_SWF_LOCATION,"webSocketFlash","1","1","10.0.0",null,null,{hasPriority:!0,swliveconnect:!0,allowScriptAccess:"always"},null,function(b){b.success||a.error("[WebSocket] swfobject.embedSWF failed")})},WebSocket.__onFlashInitialized=function(){setTimeout(function(){WebSocket.__flash=document.getElementById("webSocketFlash"),WebSocket.__flash.setCallerUrl(location.href),WebSocket.__flash.setDebug(!!window.WEB_SOCKET_DEBUG);for(var a=0;a<WebSocket.__tasks.length;++a)WebSocket.__tasks[a]();WebSocket.__tasks=[]},0)},WebSocket.__onFlashEvent=function(){return setTimeout(function(){try{var b=WebSocket.__flash.receiveEvents();for(var c=0;c<b.length;++c)WebSocket.__instances[b[c].webSocketId].__handleEvent(b[c])}catch(d){a.error(d)}},0),!0},WebSocket.__log=function(b){a.log(decodeURIComponent(b))},WebSocket.__error=function(b){a.error(decodeURIComponent(b))},WebSocket.__addTask=function(a){WebSocket.__flash?a():WebSocket.__tasks.push(a)},WebSocket.__isFlashLite=function(){if(!window.navigator||!window.navigator.mimeTypes)return!1;var a=window.navigator.mimeTypes["application/x-shockwave-flash"];return!a||!a.enabledPlugin||!a.enabledPlugin.filename?!1:a.enabledPlugin.filename.match(/flashlite/i)?!0:!1},window.WEB_SOCKET_DISABLE_AUTO_INITIALIZATION||(window.addEventListener?window.addEventListener("load",function(){WebSocket.__initialize()},!1):window.attachEvent("onload",function(){WebSocket.__initialize()}))})(),function(a,b,c){function d(a){if(!a)return;b.Transport.apply(this,arguments),this.sendBuffer=[]}function e(){}a.XHR=d,b.util.inherit(d,b.Transport),d.prototype.open=function(){return this.socket.setBuffer(!1),this.onOpen(),this.get(),this.setCloseTimeout(),this},d.prototype.payload=function(a){var c=[];for(var d=0,e=a.length;d<e;d++)c.push(b.parser.encodePacket(a[d]));this.send(b.parser.encodePayload(c))},d.prototype.send=function(a){return this.post(a),this},d.prototype.post=function(a){function d(){this.readyState==4&&(this.onreadystatechange=e,b.posting=!1,this.status==200?b.socket.setBuffer(!1):b.onClose())}function f(){this.onload=e,b.socket.setBuffer(!1)}var b=this;this.socket.setBuffer(!0),this.sendXHR=this.request("POST"),c.XDomainRequest&&this.sendXHR instanceof XDomainRequest?this.sendXHR.onload=this.sendXHR.onerror=f:this.sendXHR.onreadystatechange=d,this.sendXHR.send(a)},d.prototype.close=function(){return this.onClose(),this},d.prototype.request=function(a){var c=b.util.request(this.socket.isXDomain()),d=b.util.query(this.socket.options.query,"t="+ +(new Date));c.open(a||"GET",this.prepareUrl()+d,!0);if(a=="POST")try{c.setRequestHeader?c.setRequestHeader("Content-type","text/plain;charset=UTF-8"):c.contentType="text/plain"}catch(e){}return c},d.prototype.scheme=function(){return this.socket.options.secure?"https":"http"},d.check=function(a,d){try{var e=b.util.request(d),f=c.XDomainRequest&&e instanceof XDomainRequest,g=a&&a.options&&a.options.secure?"https:":"http:",h=c.location&&g!=c.location.protocol;if(e&&(!f||!h))return!0}catch(i){}return!1},d.xdomainCheck=function(a){return d.check(a,!0)}}("undefined"!=typeof io?io.Transport:module.exports,"undefined"!=typeof io?io:module.parent.exports,this),function(a,b){function c(a){b.Transport.XHR.apply(this,arguments)}a.htmlfile=c,b.util.inherit(c,b.Transport.XHR),c.prototype.name="htmlfile",c.prototype.get=function(){this.doc=new(window[["Active"].concat("Object").join("X")])("htmlfile"),this.doc.open(),this.doc.write("<html></html>"),this.doc.close(),this.doc.parentWindow.s=this;var a=this.doc.createElement("div");a.className="socketio",this.doc.body.appendChild(a),this.iframe=this.doc.createElement("iframe"),a.appendChild(this.iframe);var c=this,d=b.util.query(this.socket.options.query,"t="+ +(new Date));this.iframe.src=this.prepareUrl()+d,b.util.on(window,"unload",function(){c.destroy()})},c.prototype._=function(a,b){this.onData(a);try{var c=b.getElementsByTagName("script")[0];c.parentNode.removeChild(c)}catch(d){}},c.prototype.destroy=function(){if(this.iframe){try{this.iframe.src="about:blank"}catch(a){}this.doc=null,this.iframe.parentNode.removeChild(this.iframe),this.iframe=null,CollectGarbage()}},c.prototype.close=function(){return this.destroy(),b.Transport.XHR.prototype.close.call(this)},c.check=function(a){if(typeof window!="undefined"&&["Active"].concat("Object").join("X")in window)try{var c=new(window[["Active"].concat("Object").join("X")])("htmlfile");return c&&b.Transport.XHR.check(a)}catch(d){}return!1},c.xdomainCheck=function(){return!1},b.transports.push("htmlfile")}("undefined"!=typeof io?io.Transport:module.exports,"undefined"!=typeof io?io:module.parent.exports),function(a,b,c){function d(){b.Transport.XHR.apply(this,arguments)}function e(){}a["xhr-polling"]=d,b.util.inherit(d,b.Transport.XHR),b.util.merge(d,b.Transport.XHR),d.prototype.name="xhr-polling",d.prototype.heartbeats=function(){return!1},d.prototype.open=function(){var a=this;return b.Transport.XHR.prototype.open.call(a),!1},d.prototype.get=function(){function b(){this.readyState==4&&(this.onreadystatechange=e,this.status==200?(a.onData(this.responseText),a.get()):a.onClose())}function d(){this.onload=e,this.onerror=e,a.retryCounter=1,a.onData(this.responseText),a.get()}function f(){a.retryCounter++,!a.retryCounter||a.retryCounter>3?a.onClose():a.get()}if(!this.isOpen)return;var a=this;this.xhr=this.request(),c.XDomainRequest&&this.xhr instanceof XDomainRequest?(this.xhr.onload=d,this.xhr.onerror=f):this.xhr.onreadystatechange=b,this.xhr.send(null)},d.prototype.onClose=function(){b.Transport.XHR.prototype.onClose.call(this);if(this.xhr){this.xhr.onreadystatechange=this.xhr.onload=this.xhr.onerror=e;try{this.xhr.abort()}catch(a){}this.xhr=null}},d.prototype.ready=function(a,c){var d=this;b.util.defer(function(){c.call(d)})},b.transports.push("xhr-polling")}("undefined"!=typeof io?io.Transport:module.exports,"undefined"!=typeof io?io:module.parent.exports,this),function(a,b,c){function e(a){b.Transport["xhr-polling"].apply(this,arguments),this.index=b.j.length;var c=this;b.j.push(function(a){c._(a)})}var d=c.document&&"MozAppearance"in c.document.documentElement.style;a["jsonp-polling"]=e,b.util.inherit(e,b.Transport["xhr-polling"]),e.prototype.name="jsonp-polling",e.prototype.post=function(a){function i(){j(),c.socket.setBuffer(!1)}function j(){c.iframe&&c.form.removeChild(c.iframe);try{h=document.createElement('<iframe name="'+c.iframeId+'">')}catch(a){h=document.createElement("iframe"),h.name=c.iframeId}h.id=c.iframeId,c.form.appendChild(h),c.iframe=h}var c=this,d=b.util.query(this.socket.options.query,"t="+ +(new Date)+"&i="+this.index);if(!this.form){var e=document.createElement("form"),f=document.createElement("textarea"),g=this.iframeId="socketio_iframe_"+this.index,h;e.className="socketio",e.style.position="absolute",e.style.top="0px",e.style.left="0px",e.style.display="none",e.target=g,e.method="POST",e.setAttribute("accept-charset","utf-8"),f.name="d",e.appendChild(f),document.body.appendChild(e),this.form=e,this.area=f}this.form.action=this.prepareUrl()+d,j(),this.area.value=b.JSON.stringify(a);try{this.form.submit()}catch(k){}this.iframe.attachEvent?h.onreadystatechange=function(){c.iframe.readyState=="complete"&&i()}:this.iframe.onload=i,this.socket.setBuffer(!0)},e.prototype.get=function(){var a=this,c=document.createElement("script"),e=b.util.query(this.socket.options.query,"t="+ +(new Date)+"&i="+this.index);this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),c.async=!0,c.src=this.prepareUrl()+e,c.onerror=function(){a.onClose()};var f=document.getElementsByTagName("script")[0];f.parentNode.insertBefore(c,f),this.script=c,d&&setTimeout(function(){var a=document.createElement("iframe");document.body.appendChild(a),document.body.removeChild(a)},100)},e.prototype._=function(a){return this.onData(a),this.isOpen&&this.get(),this},e.prototype.ready=function(a,c){var e=this;if(!d)return c.call(this);b.util.load(function(){c.call(e)})},e.check=function(){return"document"in c},e.xdomainCheck=function(){return!0},b.transports.push("jsonp-polling")}("undefined"!=typeof io?io.Transport:module.exports,"undefined"!=typeof io?io:module.parent.exports,this),typeof define=="function"&&define.amd&&define([],function(){return io})})();(function(){var e,t,n;(function(r){function d(e,t){return h.call(e,t)}function v(e,t){var n,r,i,s,o,u,a,f,c,h,p=t&&t.split("/"),d=l.map,v=d&&d["*"]||{};if(e&&e.charAt(0)===".")if(t){p=p.slice(0,p.length-1),e=p.concat(e.split("/"));for(f=0;f<e.length;f+=1){h=e[f];if(h===".")e.splice(f,1),f-=1;else if(h===".."){if(f===1&&(e[2]===".."||e[0]===".."))break;f>0&&(e.splice(f-1,2),f-=2)}}e=e.join("/")}else e.indexOf("./")===0&&(e=e.substring(2));if((p||v)&&d){n=e.split("/");for(f=n.length;f>0;f-=1){r=n.slice(0,f).join("/");if(p)for(c=p.length;c>0;c-=1){i=d[p.slice(0,c).join("/")];if(i){i=i[r];if(i){s=i,o=f;break}}}if(s)break;!u&&v&&v[r]&&(u=v[r],a=f)}!s&&u&&(s=u,o=a),s&&(n.splice(0,o,s),e=n.join("/"))}return e}function m(e,t){return function(){return s.apply(r,p.call(arguments,0).concat([e,t]))}}function g(e){return function(t){return v(t,e)}}function y(e){return function(t){a[e]=t}}function b(e){if(d(f,e)){var t=f[e];delete f[e],c[e]=!0,i.apply(r,t)}if(!d(a,e)&&!d(c,e))throw new Error("No "+e);return a[e]}function w(e){var t,n=e?e.indexOf("!"):-1;return n>-1&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function E(e){return function(){return l&&l.config&&l.config[e]||{}}}var i,s,o,u,a={},f={},l={},c={},h=Object.prototype.hasOwnProperty,p=[].slice;o=function(e,t){var n,r=w(e),i=r[0];return e=r[1],i&&(i=v(i,t),n=b(i)),i?n&&n.normalize?e=n.normalize(e,g(t)):e=v(e,t):(e=v(e,t),r=w(e),i=r[0],e=r[1],i&&(n=b(i))),{f:i?i+"!"+e:e,n:e,pr:i,p:n}},u={require:function(e){return m(e)},exports:function(e){var t=a[e];return typeof t!="undefined"?t:a[e]={}},module:function(e){return{id:e,uri:"",exports:a[e],config:E(e)}}},i=function(e,t,n,i){var s,l,h,p,v,g=[],w;i=i||e;if(typeof n=="function"){t=!t.length&&n.length?["require","exports","module"]:t;for(v=0;v<t.length;v+=1){p=o(t[v],i),l=p.f;if(l==="require")g[v]=u.require(e);else if(l==="exports")g[v]=u.exports(e),w=!0;else if(l==="module")s=g[v]=u.module(e);else if(d(a,l)||d(f,l)||d(c,l))g[v]=b(l);else{if(!p.p)throw new Error(e+" missing "+l);p.p.load(p.n,m(i,!0),y(l),{}),g[v]=a[l]}}h=n.apply(a[e],g);if(e)if(s&&s.exports!==r&&s.exports!==a[e])a[e]=s.exports;else if(h!==r||!w)a[e]=h}else e&&(a[e]=n)},e=t=s=function(e,t,n,a,f){return typeof e=="string"?u[e]?u[e](t):b(o(e,t).f):(e.splice||(l=e,t.splice?(e=t,t=n,n=null):e=r),t=t||function(){},typeof n=="function"&&(n=a,a=f),a?i(r,e,t,n):setTimeout(function(){i(r,e,t,n)},4),s)},s.config=function(e){return l=e,s},n=function(e,t,n){t.splice||(n=t,t=[]),!d(a,e)&&!d(f,e)&&(f[e]=[e,t,n])},n.amd={jQuery:!0}})(),n("almond",function(){}),n("util/Multiplexer",[],function(){return{combine:function(){var e={};for(var t=0;t<arguments.length;t++)for(x in arguments[t])e[x]=arguments[t][x];return e}}}),n("util/Notifications",[],function(){var e={};return{listen:function(t,n){typeof e[t]=="undefined"&&(e[t]=[]),e[t].push({cb:n})},notify:function(t,n){if(typeof e[t]!="undefined")for(var r=0;r<e[t].length;r++)e[t][r].cb(n)}}}),n("app/Chat",[],function(){return{addChatSocketItems:function(e){var t=this;e.on("ch-init",function(e){for(var n=0;n<e.history.length;n++)t.notify("cm_"+e.channel,e.history[n])}),e.on("ch-nc",function(e){t.notify("nc_"+e.channel,e)}),e.on("ch-msg",function(e){t.notify("cm_"+e.channel,e)}),e.on("ch-usr",function(e){t.notify("ul_"+e.channel,e)})},sendChatMessage:function(e,t){this.emitToServer("chat-msg",{u:this.actorName(),c:e,m:t})},initiateJoinChatChannel:function(e){this.postToLibrary({type:"ch-join",channel:e,actor:this.actorName()})},requestChatUsers:function(e){this.postToLibrary({type:"ch-usr",channel:e,actor:this.actorName()})}}}),n("app/Activities",[],function(){var e=[];return{addActivitySocketItems:function(e){var t=this;e.on("act",function(e){if(typeof e.extra!="undefined"){if(typeof e.extra.av!="undefined")for(x in e.extra.av)t.setExtra(x,"avatar",parseInt(e.extra.av[x]));if(typeof e.extra.dn!="undefined")for(x in e.extra.dn)t.setExtra(x,"displayName",e.extra.dn[x])}t.notify("ac_"+e.verb,e)}),e.on("del-act",function(e){t.notify("da_"+e.verb,e.id)}),e.on("hide-a",function(e){t.notify("da_"+e.verb,e.id)}),e.on("ack",function(e){t.notify("ak_"+e.verb,e.id)}),e.on("un-ack",function(e){t.notify("ua_"+e.verb,e.id)}),e.on("sum-act",function(e){t.notify("su_"+e.verb,e)})},initiateAckActivity:function(e){this.addActorAndPost({type:"ack",id:e},!1)},initiateUnAckActivity:function(e){this.addActorAndPost({type:"un-ack",id:e},!1)},initiateDeleteActivity:function(e){this.addActorAndPost({type:"del-act",id:e},!1)},initiateHideActivity:function(e){this.addActorAndPost({type:"hide-a",id:e},!1)},requestActivities:function(e){var t=e;t.type="req-act",t.filters=this.getContentFilters().join("-"),this.addActorAndPost(t,!1)},requestActivitySummary:function(e){var t=e;t.type="sum-act",t.filters=this.getContentFilters().join("-"),this.addActorAndPost(t,!1)},requestPublic:function(e){this.addActorAndPost({type:"req-pub",filters:this.getContentFilters().join("-"),limit:e},!0)},requestPrivate:function(e){this.addActorAndPost({type:"req-pri",filters:this.getContentFilters().join("-"),limit:e},!1)},createActivity:function(e){var t=e;t.type="new-act",this.addActorAndPost(t,!1)},subscribeToVerb:function(t){e.push(t),this.emitToServer("verb-sub",t)},reSendVebSubs:function(){for(var t=0;t<e.length;t++)this.emitToServer("verb-sub",e[t])}}}),n("app/Communication",[],function(){function i(e){var t=!1;switch(r){case 2:t=new XMLHttpRequest;break;case 3:t=new ActiveXObject("Msxml2.XMLHTTP");break;case 4:t=new ActiveXObject("Microsoft.XMLHTTP");break;case 5:t=!1;break;default:if(window.XMLHttpRequest)t=new XMLHttpRequest,r=2;else try{t=new ActiveXObject("Msxml2.XMLHTTP"),r=3}catch(n){try{t=new ActiveXObject("Microsoft.XMLHTTP"),r=4}catch(n){t=!1,r=5}}}if(t){var i=[];for(x in e)typeof e[x]=="object"?i.push(encodeURIComponent(x)+"="+encodeURIComponent(JSON.stringify(e[x]))):i.push(encodeURIComponent(x)+"="+encodeURIComponent(e[x]));t.open("POST","/activitystream",!0),t.setRequestHeader("Content-type","application/x-www-form-urlencoded"),t.onreadystatechange=function(){if(t.readyState==4)try{var e=JSON.parse(t.responseText);e.code!=0&&console&&console.log("Error ("+t.status+"):"+e.message)}catch(n){console&&console.log("Error ("+t.status+"):"+t.responseText)}},t.send(i.join("&"))}}var e=!1,t=[],n=[],r=1;return{startCommunication:function(r){typeof window.ActivitySocketURI=="string"?e=r.connect(window.ActivitySocketURI):e=r.connect("http://64.210.140.247"),this.addInfoSocketItems(e),this.addChatSocketItems(e),this.addActivitySocketItems(e),this.addSocialSocketItems(e),e.on("connection-established",function(r){for(var s=0;s<t.length;s++){var o=t[s].d;o.th=r.auth,e.emit(t[s].t,o)}t=[];for(s=0;s<n.length;s++){var o=n[s];o.th=r.auth,i(o)}n=[]}),e.on("disconnect",function(){socketReady=!1}),e.on("ping",function(t){e.emit("ping-return",t)})},emitToServer:function(n,r){var i=this.authKey();if(i){var s=r;s.th=i,e.emit(n,s)}else t.push({t:n,d:r})},postToLibrary:function(e){var t=this.authKey();if(t){var r=e;r.th=t,i(r)}else n.push(e)}}}),n("app/SharedInfo",[],function(){var e=!1,t=!1,n=!1,r=[],i={},s={},o=["s"];return{sendActorCode:function(e){n=e,this.postToLibrary({type:"actor-c",code:e})},actorName:function(){return e},userSettings:function(){return i},authKey:function(){return t},actorCode:function(){return n},setExtra:function(e,t,n){n&&(typeof s[e]=="undefined"&&(s[e]={}),s[e][t]=n)},addListSetting:function(e,t){var n=t;typeof n=="string"&&(n=[t]);if(typeof i[e]=="object"){var r=i[e];for(var s=0;s<n.length;s++)i[e].indexOf(n[s])<0&&r.push(n[s]);this.sendSettingChange(e,r)}else this.sendSettingChange(e,n)},removeListSetting:function(e,t){if(typeof i[e]=="object"){var n=t;typeof n=="string"&&(n=[t]);var r=[],s=i[e];for(var o=0;o<s.length;o++)n.indexOf(s[o])<0&&r.push(s[o]);this.sendSettingChange(e,r)}},sendSettingChange:function(e,t){this.addActorAndPost({type:"ch-set",k:e,v:t},!1)},createActorName:function(e,t){switch(e){case 1:return"c-"+t;case 2:return"a-"+t;case 3:return"sr-"+t;case 5:return"v-"+t;case 6:return"g-"+t;case 13:return"ch-"+t;case 14:return"pl-"+t;case 15:return"m-"+t}return t},extractTypeId:function(e){var t=e.split("-");switch(t[0]){case"c":return 1;case"a":return 2;case"sr":return 3;case"v":return 5;case"g":return 6;case"ch":return 13;case"pl":return 14;case"m":return 15}return 0},extractItemId:function(e){return e.indexOf("-")<0?e:e.split("-")[1]},addInfoSocketItems:function(r){var s=this;r.on("connection-established",function(o){t=o.auth,e?n&&r.emit("assert-username",{c:n,th:o.auth}):e=o.actor,i=o.settings,n&&s.notify("set",i)}),r.on("good-actor",function(t){e=t.actor,s.notify("as",e),s.catchupActorAdds(),i=t.settings,s.notify("set",i),s.reSendVebSubs(),s.reSendContentFilters()}),r.on("verb-info",function(e){s.notify("v",e)}),r.on("user-settings",function(e){i=e,n&&s.notify("set",i)}),r.on("settings-change",function(e){n&&s.notify("sc",e.cat)}),r.on("acr-ex",function(e){if(typeof e.dn!="undefined")for(x in e.dn)s.setExtra(x,"displayName",e.dn[x])})},requestVerb:function(e){this.emitToServer("get-verb",{verb:e})},setContentFilters:function(e){o=e,this.reSendContentFilters()},getContentFilters:function(){return o},reSendContentFilters:function(){this.emitToServer("content-filters",o)},addActorAndPost:function(t,i){if(n&&e){switch(t.type){case"req-act":case"sum-act":typeof t.affected!="string"&&(t.affected=e);break;default:t.code=n}(i||typeof t.code=="undefined"||t.code!="guest")&&this.postToLibrary(t)}else r.push(t)},catchupActorAdds:function(){var e=r;r=[];for(var t=0;t<e.length;t++)this.addActorAndPost(e[t])},actorDisplayName:function(e){return typeof s[e]!="undefined"&&typeof s[e].displayName!="undefined"?s[e].displayName:!1}}}),n("app/Interface",[],function(){var e=!1;return function(t){return e=t,{setActor:function(t){e.sendActorCode(t)},sendChatMessage:function(t,n){e.sendChatMessage(t,n)},getActorName:function(){return e.actorName()},getActorDisplayName:function(t){return e.actorDisplayName(t)},setActorDisplayName:function(t,n){e.setExtra(t,"displayName",n)},getUserSettings:function(){return e.userSettings()},joinChatChannel:function(t){e.initiateJoinChatChannel(t)},requestChatUsers:function(t){e.requestChatUsers(t)},requestFollowers:function(){e.requestFollowers()},requestFollowed:function(){e.requestFollowed()},requestBlocked:function(){e.requestBlocked()},ping:function(t){e.pingActor(t)},changeSetting:function(t,n){e.sendSettingChange(t,n)},addListSetting:function(t,n){e.addListSetting(t,n)},removeListSetting:function(t,n){e.removeListSetting(t,n)},block:function(t){e.blockActor(t)},unBlock:function(t){e.unBlockActor(t)},follow:function(t){e.followActor(t)},unFollow:function(t){e.unFollowActor(t)},ack:function(t){e.initiateAckActivity(t)},unAck:function(t){e.initiateUnAckActivity(t)},deleteActivity:function(t){e.initiateDeleteActivity(t)},hideActivity:function(t){e.initiateHideActivity(t)},createActorName:function(t,n){return e.createActorName(t,n)},extractTypeIdFromActor:function(t){return e.extractTypeId(t)},extractItemIdFromActor:function(t){return e.extractItemId(t)},requestActivities:function(t,n,r){var i={};typeof t=="string"?i.affected=t:i.affected=t.join(","),n&&typeof n=="string"&&(i.verb=n),r&&(typeof r=="number"||typeof r=="string")&&(i.limit=r),e.requestActivities(i)},requestActivitySummary:function(t,n){var r={};typeof t=="string"?r.affected=t:r.affected=t.join(","),varb&&typeof n=="string"&&(r.verb=n),e.requestActivitySummary(r)},requestMyActivities:function(t,n){e.requestActivities({affected:e.actorName(),verb:t,limit:typeof n!="undefined"?n:"none"})},requestMySummary:function(t){e.requestActivitySummary({affected:e.actorName(),verb:t})},requestPublicActivities:function(t){e.requestPublic(t)},requestFollowingActivities:function(t){e.requestPrivate(t)},createActivity:function(t,n,r){var i={verb:t,object:n};typeof r=="string"&&(i.target=r),e.createActivity(i)},subscribeContentFilters:function(t){e.setContentFilters(t)},getCurrentFilters:function(){return e.getContentFilters()},subscribeUserMessages:function(t){e.listen("um",t)},subscribeActorSet:function(t){e.listen("as",t)},subscribeActorPing:function(t,n){e.listen("ap_"+t,n)},subscribeVerbInfo:function(t){e.listen("v",t)},requestVerbInfo:function(t){e.requestVerb(t)},subscribeUserSettings:function(t){typeof t.full!="undefined"&&e.listen("set",t.full),typeof t.change!="undefined"&&e.listen("sc",t.change)},subscribeChatChannel:function(t,n){var r=t;typeof r=="string"&&(r=[t]);for(var i=0;i<r.length;i++)typeof n.nameChange!="undefined"&&e.listen("nc_"+r[i],n.nameChange),typeof n.chatMessage!="undefined"&&e.listen("cm_"+r[i],n.chatMessage),typeof n.userList!="undefined"&&e.listen("ul_"+r[i],n.userList)},subscribeSocialLists:function(t){typeof t.followers!="undefined"&&e.listen("fl",t.followers),typeof t.followed!="undefined"&&e.listen("fd",t.followed),typeof t.blocked!="undefined"&&e.listen("bl",t.blocked)},subscribeActivityVerb:function(t,n){var r=t;typeof r=="string"&&(r=[t]);for(var i=0;i<r.length;i++)e.subscribeToVerb(r[i]),typeof n.newActivity!="undefined"&&e.listen("ac_"+r[i],n.newActivity),typeof n.ack!="undefined"&&e.listen("ak_"+r[i],n.ack),typeof n.unAck!="undefined"&&e.listen("ua_"+r[i],n.unAck),typeof n.deleteActivity!="undefined"&&e.listen("da_"+r[i],n.deleteActivity),typeof n.activitySummary!="undefined"&&e.listen("su_"+r[i],n.activitySummary)},subscribeActorActive:function(t){e.listen("aa",t)},subscribeActiveList:function(t){e.listen("aal",t)},requestActiveActorsList:function(t){e.requestActiveList(t)},requestActorActive:function(t){e.isActorActive(t)}}}}),n("app/Social",[],function(){return{addSocialSocketItems:function(e){var t=this;e.on("fol",function(e){t.notify("um","You are now following "+e.target)}),e.on("un-fol",function(e){t.notify("um","You are no longer following "+e.target)}),e.on("blk",function(e){t.notify("um","You have blocked "+e.target)}),e.on("un-blk",function(e){t.notify("um","You removed the block on "+e.target)}),e.on("req-fol",function(e){t.notify("fl",e)}),e.on("req-flw",function(e){t.notify("fd",e)}),e.on("req-blk",function(e){t.notify("bl",e)}),e.on("ping-re",function(e){t.notify("ap_"+e.actor,e)}),e.on("act-acv",function(e){t.notify("aa",e)}),e.on("acv-lst",function(e){if(typeof e.extra!="undefined"){if(typeof e.extra.av!="undefined")for(x in e.extra.av)t.setExtra(x,"avatar",parseInt(e.extra.av[x]));if(typeof e.extra.dn!="undefined")for(x in e.extra.dn)t.setExtra(x,"displayName",e.extra.dn[x])}t.notify("aal",e.actors)})},pingActor:function(e){this.addActorAndPost({type:"ping",target:e},!1)},blockActor:function(e){this.addActorAndPost({type:"blk",target:e},!1)},unBlockActor:function(e){this.addActorAndPost({type:"un-blk",target:e},!1)},followActor:function(e){this.addActorAndPost({type:"fol",target:e},!1)},unFollowActor:function(e){this.addActorAndPost({type:"un-fol",target:e},!1)},requestFollowers:function(){this.addActorAndPost({type:"req-fol"},!1)},requestFollowed:function(){this.addActorAndPost({type:"req-flw"},!1)},requestBlocked:function(){this.addActorAndPost({type:"req-blk"},!1)},isActorActive:function(e){this.emitToServer("actor-active",{actor:e})},requestActiveList:function(e){this.emitToServer("active-list",{extra:e})}}}),e.config({urlArgs:"bust="+(new Date).getTime()}),e(["util/Multiplexer","util/Notifications","app/Chat","app/Activities","app/Communication","app/SharedInfo","app/Interface","app/Social"],function(e,t,n,r,i,s,o,u){function l(){"ActivityStreamReady"in window?(a.startCommunication(io),window.ActivityStreamReady(window.ActivityStream)):(f++,f<100&&setTimeout(function(){l()},100))}var a=e.combine(n,r,i,s,t,u),f=0;window.ActivityStream=o(a),l()}),n("activityStream",function(){})})();var pm=false;function newPrivateMessage(actor,username){if(pm){pm.newMessageTo(actor,username);}}
function pmCore(){var me=false;var store={privatemessage:0};var full_load=false;var current_conv='newmessage';var partners_added=[];var partners_latest={};var current_added=[];var auto_cur=false;var known_actors=[];var queued_display=false;var switching=false;var deactivated=false;var action=false;var known_names={};var known_names_list=[];var simple=navigator.userAgent.match(/iPad|iPhone|iPod|android|mobile/i)!=null;return {display:function(){var pmcore=this;setTimeout(function(){pmcore.realDisplay();}, 200);},realDisplay: function(){if(me&&action){var pmcore=this;queued_display=false;var un=0;var un_conv={};for(x in store){if(typeof store[x]=='number'){un+=store[x];}else{for(i in store[x]){if(!store[x][i].ack&&store[x][i].actor!=me){un++;if(typeof un_conv[store[x][i].actor]=='undefined'){un_conv[store[x][i].actor]=0;}
un_conv[store[x][i].actor]++;}}}}
$("input.pmSetVerb").prop('checked',!deactivated);$("li.messaging").removeClass('notification');if((un>0)&&!deactivated){$("li.messaging").addClass('notification');$("li.messaging>a span.pmUnread").show().text(' '+un);}else{$("li.messaging>a span.pmUnread").hide();}
if($("#head #networkBar ul.conversation:visible").length){$("#head #networkBar ul.conversation li.pmsection").hide();if(deactivated){$("#head #networkBar ul.conversation li.dis").show();}else if(known_actors.length==0){$("#head #networkBar ul.conversation li.howto").show();}else{$("#head #networkBar ul.conversation li.chat").show();$("#head #networkBar ul.conversation li.users").show();}
if(typeof store.privatemessage=='object'){var rc_sort_needed=false;for(i in store.privatemessage){var partner=store.privatemessage[i].actor==me ? store.privatemessage[i].target:store.privatemessage[i].actor;if(known_actors.indexOf(partner)<0){known_actors.push(partner);}
if(partners_added.indexOf(partner)<0){rc_sort_needed=true;partners_added.push(partner);partners_latest[partner]=store.privatemessage[i].publish;var mid=window.ActivityStream.extractItemIdFromActor(partner);$("ul.conversation li.users ul.recentList").append($('<li>').attr('p',partner).attr('sortdate',store.privatemessage[i].publish).addClass('recconv').append($('<p>').append($('<a>').append($('<span>').addClass('name').append($('<img>').addClass('profileSmall').attr('src','http://images.porn.com/members/'+avatarPrefix(mid)+'/profile_small.jpg'),$('<span>').text(window.ActivityStream.getActorDisplayName(partner)+' '),$('<span>').text('0').addClass('count').hide()),$('<span>').addClass('date').text('unknown')))));$("ul.conversation li.users ul.recentList li.recconv[p='"+partner+"']").click(function(evtObj){var tar=evtObj.target;var p=$(tar).attr('p');var fs=0;while(typeof p=='undefined'&&fs<15&&tar){fs++;tar=tar.parentNode;p=$(tar).attr('p');}
pmcore.setSwitching();pmcore.setCurrent(p);});}
if(store.privatemessage[i].publish>partners_latest[partner]){rc_sort_needed=true;partners_latest[partner]=store.privatemessage[i].publish;$("ul.conversation li.users ul.recentList li[p='"+partner+"']").attr('sortdate',store.privatemessage[i].publish);}}
$("ul.conversation li.users ul.recentList li.recconv").removeClass('active new');$("ul.conversation li.users ul.recentList li.newMsg").removeClass("active");$("ul.conversation li.users ul.recentList li.recconv span.count").hide();if(rc_sort_needed){$("ul.conversation li.users ul.recentList li.recconv").detach().sort(function(a,b){return $(a).attr('sortdate')>$(b).attr('sortdate') ? -1:($(a).attr('sortdate')==$(b).attr('sortdate') ? 0:1);}).appendTo("ul.conversation li.users ul.recentList");}
$("ul.conversation li.users ul.recentList li.recconv").each(function(ind,ele){var jqele=$(ele);jqele.find("span.date").text(timeAgo(jqele.attr('sortdate')));if(typeof un_conv[jqele.attr('p')]=='number'){jqele.addClass('new');jqele.find("span.count").show().text(un_conv[jqele.attr('p')]);}});if(current_conv=='newmessage'){$('#pmto').show();$("ul.conversation li.users ul.recentList li.newMsg").addClass("active");$("ul.conversation li.chat p.overview span.un").text('New conversation');$("ul.conversation li.chat p.overview span.controls a").hide();}else{$("ul.conversation li.chat span.aComplete").hide();$('#pmto').hide();$("ul.conversation li.chat p.overview span.controls a").show();$("ul.conversation li.users ul.recentList li.recconv[p='"+current_conv+"']").addClass('active');if(activityBlocked(current_conv)){$("ul.conversation li.chat p.overview span.controls a.blk").text("Unblock User");}else{$("ul.conversation li.chat p.overview span.controls a.blk").text("Block User");}
if(activityFollowed(current_conv)){$("ul.conversation li.chat p.overview span.controls a.fol").text("Unfollow User");}else{$("ul.conversation li.chat p.overview span.controls a.fol").text("Follow User");}
$("ul.conversation li.chat p.overview span.un").html('<a href="/profile/'+window.ActivityStream.getActorDisplayName(current_conv)+'">'+window.ActivityStream.getActorDisplayName(current_conv)+'</a>');var cc_sort_needed=false;for(i in store.privatemessage){var ca=store.privatemessage[i];if(current_added.indexOf(ca.id)<0&&(ca.actor==current_conv||ca.target==current_conv)){current_added.push(ca.id);cc_sort_needed=true;var mid=window.ActivityStream.extractItemIdFromActor(ca.actor);$("ul.conversation li.chat ul.messages").append($('<li>').hide().attr('sortdate',ca.publish).attr('pmid',ca.id).addClass((ca.actor==me ? 'me':'them')+' mblock').append($('<p>').append($('<a>').attr('href','/profile/'+window.ActivityStream.getActorDisplayName(ca.actor)).append($('<span>').addClass('name').append($('<img>').addClass('profileSmall').attr('src','http://images.porn.com/members/'+avatarPrefix(mid)+'/profile_small.jpg'),$('<span>').text(window.ActivityStream.getActorDisplayName(ca.actor))),$('<span>').addClass('date').text(timeAgo(ca.publish))),$('<span>').addClass('msg').html(ca.object.message.replace(/\[nl\]/g, '<br>')))));if(!ca.ack&&ca.target==me){window.ActivityStream.ack(ca.id);}}}
if(cc_sort_needed){$("ul.conversation li.chat ul.messages li.mblock").detach().sort(function(a,b){return $(a).attr('sortdate')>$(b).attr('sortdate') ? -1:($(a).attr('sortdate')==$(b).attr('sortdate') ? 0:1);}).appendTo("ul.conversation li.chat ul.messages");}
$("ul.conversation li.chat ul.messages li.mblock").each(function(ind,ele){var jqele=$(ele);jqele.find("span.date").text(timeAgo(jqele.attr('sortdate')));});if(switching||simple){$("ul.conversation li.chat ul.messages li.mblock:hidden").show();}else{$("ul.conversation li.chat ul.messages li.mblock:hidden").slideDown();}
switching=false;}}else if(current_conv=='newmessage'){$('#pmto').show();$("ul.conversation li.users ul.recentList li.newMsg").addClass("active");$("ul.conversation li.chat p.overview span.un").text('New conversation');$("ul.conversation li.chat p.overview span.controls a").hide();}}}},setSwitching: function(){switching=true;},handleActivity: function(a){action=true;this.checkFullLoad();if(typeof store[a.verb]=='number'){store[a.verb]={};}
store[a.verb][a.id]=a;if(typeof a.extra!='undefined'){if(typeof a.extra.dn!='undefined'){for(x in a.extra.dn){known_names[a.extra.dn[x]]=x;known_names_list.push(a.extra.dn[x]);}}}
if(a.verb=='privatemessage'&&a.target!=me&&known_actors.indexOf(a.target)<0){known_actors.push(a.target);}
if(a.verb=='privatemessage'&&a.actor!=me&&known_actors.indexOf(a.actor)<0){known_actors.push(a.actor);}
if(auto_cur&&(auto_cur==a.actor||auto_cur==a.target)){this.setCurrent(auto_cur);auto_cur=false;}
var to=typeof known_names[$("#pmto").val()]=='undefined' ? '':known_names[$("#pmto").val()];if(current_conv=='newmessage'&&(to==a.actor||to==a.target)){current_conv=to;switching=true;}
if(!a.ack&&a.target==me&&current_conv==a.actor&&$("#head #networkBar ul.conversation:visible").length){window.ActivityStream.ack(a.id);}
if(!queued_display){queued_display=true;var pmcore=this;setTimeout(function(){pmcore.display();}, 200);}},handleAck: function(id,status){for(x in store){if(typeof store[x]=='object'){if(typeof store[x][id]=='object'){store[x][id].ack=status;break;}}}
this.display();},handleDelete: function(id){var partner=false;for(x in store){if(typeof store[x]=='object'){if(typeof store[x][id]=='object'){partner=store[x][id].actor==me ? store[x][id].target:store[x][id].actor;delete store[x][id];break;}}}
$("ul.conversation li.chat ul.messages li.mblock[pmid='"+id+"']").remove();if(partner){$("ul.conversation li.users ul.recentList li.recconv[p='"+partner+"']").remove();if(partners_added.indexOf(partner)>=0){partners_added.splice(partners_added.indexOf(partner), 1);}
if(partner==current_conv){current_conv='newmessage';$("ul.conversation li.chat ul.messages li").remove();$("ul.conversation li.chat span.aComplete").hide();current_added=[];}}
if(!queued_display){queued_display=true;var pmcore=this;setTimeout(function(){pmcore.display();}, 200);}},handleSummary: function(sum_obj){action=true;if(typeof store[sum_obj.verb]=='number'){store[sum_obj.verb]=sum_obj.theirs_unack;}
this.display();},handleSettings: function(obj){if(typeof obj.hide=='object'){deactivated=obj.hide.indexOf('privatemessage')>=0;}else{deactivated=false;}
if($("#head #networkBar ul.conversation:visible").length){this.checkFullLoad();}
this.display();},addKnownActors: function(list){for(var i=0; i<list.length; i++){if(window.ActivityStream.extractTypeIdFromActor(list[i])==15){if(known_actors.indexOf(list[i])<0){known_actors.push(list[i]);}}}
this.display();var pmcore=this;setTimeout(function(){pmcore.getKnownNames();}, 500);},getKnownNames: function(){for(var x=0; x<known_actors.length; x++){var a=known_actors[x];var dn=window.ActivityStream.getActorDisplayName(a);if(dn){known_names[dn]=a;known_names_list.push(dn);}}},setName: function(name){if(!me){window.ActivityStream.requestMySummary('privatemessage');}
me=name;this.display();},checkFullLoad: function(){if(!full_load&&!deactivated){full_load=true;window.ActivityStream.requestMyActivities('privatemessage');}},setCurrent: function(partner){if(partner!=window.ActivityStream.getActorName()){if(current_conv!=partner){$("ul.conversation li.chat ul.messages li").remove();$("ul.conversation li.chat span.aComplete").hide();current_added=[];}
current_conv=partner;}
this.checkFullLoad();this.display();},toggleFollow: function(){if(current_conv!='newmessage'){if(activityFollowed(current_conv)){$.post("/ajax/favorite.json",{action:"remove",type_id:15,item_id:window.ActivityStream.extractItemIdFromActor(current_conv)},function(json){if(json.code){$.noticeAdd(json.message);}});}else{$.post("/ajax/favorite.json",{action:"add",type_id:15,item_id:window.ActivityStream.extractItemIdFromActor(current_conv)},function(json){if(json.code){$.noticeAdd(json.message);}});}}},toggleBlock: function(){if(current_conv!='newmessage'){if(activityBlocked(current_conv)){window.ActivityStream.unBlock(current_conv);}else{window.ActivityStream.block(current_conv);}}},sendMessage: function(msg){var to=typeof known_names[$("#pmto").val()]=='undefined' ? '':known_names[$("#pmto").val()];if(current_conv=='newmessage'&&known_actors.indexOf(to)>=0){if(window.ActivityStream.getActorName()!=to){auto_cur=to;window.ActivityStream.createActivity('privatemessage',{message:msg},to);$("#newMessageEntry").val('');}}else if(current_conv!='newmessage'&&current_conv!=window.ActivityStream.getActorName()){window.ActivityStream.createActivity('privatemessage',{message:msg},current_conv);$("#newMessageEntry").val('');}},newMessageTo: function(actor,username){window.ActivityStream.setActorDisplayName(actor,username);if(actor!=me){this.checkFullLoad();$("#head #networkBar ul.conversation").show();$("#head #networkBar li.messaging").addClass('active');if(known_actors.indexOf(actor)<0){known_actors.push(actor);}
this.display();if(partners_added.indexOf(actor)>=0){this.setCurrent(actor);}else{this.setCurrent('newmessage');known_names[username]=actor;known_names_list.push(username);$('#pmto').val(username);$("ul.conversation li.users ul.recentList li.newMsg").addClass("active");}
$("#newMessageEntry").focus();$("#head #networkBar li.messaging")[0].scrollIntoView();}},showToOptions: function(){var pmcore=this;$("ul.conversation li.chat span.aComplete").show();$("ul.conversation li.chat span.aComplete a").remove();var added=0;var match=new RegExp($('#pmto').val(),'i');var curpos=$('#pmto').val().length;var curlist=[];for(var i=0; i<known_names_list.length&&added<10; i++){if(match.test(known_names_list[i])&&curlist.indexOf(known_names_list[i])<0&&known_names[known_names_list[i]]!=me){added++;curlist.push(known_names_list[i]);$("ul.conversation li.chat span.aComplete").append($('<a>').attr('n',known_names[known_names_list[i]]).text(known_names_list[i]));$("ul.conversation li.chat span.aComplete a[n='"+known_names[known_names_list[i]]+"']").click(function(evtObj){var n=$(evtObj.target).attr('n');$("ul.conversation li.chat span.aComplete").hide();if(n){if(partners_added.indexOf(n)>=0){pmcore.setCurrent(n);}else{$('#pmto').val(window.ActivityStream.getActorDisplayName(n));}}});}}
if(!added){$("ul.conversation li.chat span.aComplete").hide();}
$("ul.conversation li.chat span.aComplete a").detach().sort(function(a,b){return $(a).attr('n')>$(b).attr('n') ? 1:($(a).attr('n')==$(b).attr('n') ? 0:-1);}).appendTo("ul.conversation li.chat span.aComplete");},hideCurrentConversation: function(){$("ul.conversation li.chat ul.messages li.mblock").each(function(){window.ActivityStream.hideActivity($(this).attr('pmid'));});}};}
function setupPrivateMessaging(as){pm=pmCore();as.subscribeActivityVerb(['privatemessage'],{newActivity:function(a){pm.handleActivity(a);},ack: function(id){pm.handleAck(id,true);},unAck: function(id){pm.handleAck(id,false);},deleteActivity: function(id){pm.handleDelete(id);},activitySummary: function(sum_obj){pm.handleSummary(sum_obj);}});as.subscribeSocialLists({followed:function(list){pm.addKnownActors(list);},followers: function(list){pm.addKnownActors(list);}});as.subscribeUserSettings({full:function(obj){pm.handleSettings(obj);}});addSocialChangeCallbacks({blocked:function(){pm.display();},followed: function(){pm.display();}});as.subscribeActorSet(function(a_name){if(a_name!='guest'){pm.setName(a_name);}});$("#networkBar li.messaging>a").click(function(){pm.checkFullLoad();pm.display();});$("#pm_enable").click(function(){window.ActivityStream.removeListSetting('hide','privatemessage');});$("input.pmSetVerb").click(function(){var chk=$(this);if(chk.is(":checked")){window.ActivityStream.removeListSetting('hide','privatemessage');}else{window.ActivityStream.addListSetting('hide','privatemessage');}});$("ul.conversation li.chat p.overview span.controls a.fol").click(function(){pm.toggleFollow();});$("ul.conversation li.chat p.overview span.controls a.blk").click(function(){pm.toggleBlock();});$("ul.conversation li.chat p.overview span.controls a.del").click(function(){pm.hideCurrentConversation();});$("ul.conversation li.chat input.btn").click(function(){var txt=$("#newMessageEntry").val();if(txt){pm.sendMessage(txt);}});$("#newMessageEntry").keydown(function(e){if(e.keyCode==13||e.keyCode==10){e.preventDefault();var txt=$("#newMessageEntry").val();if(txt){pm.sendMessage(txt);}}});$("ul.conversation li.users ul.recentList li.newMsg").click(function(){$('#pmto').val('');pm.setCurrent('newmessage');});$('#pmto').keyup(function(e){pm.showToOptions();});$("ul.conversation").click(function(){$("ul.conversation li.chat span.aComplete").hide();});$("#newMessageEntry").focus(function(){$("ul.conversation li.chat span.aComplete").hide();});setTimeout(function(){if(window.ActivityStream.getActorName()!='guest'){pm.checkFullLoad();}}, 15000);setInterval(function(){if($("#head #networkBar ul.conversation:visible").length){pm.display();}}, 60000);}var sc=false;window.socialReady=[];window.socialChange=[];function activityBlocked(target){if(sc){return sc.isBlocked(target);}
return false;}
function activityFollowed(target){if(sc){return sc.isFollowed(target);}
return false;}
function activityFollower(target){if(sc){return sc.isFollower(target);}
return false;}
function activityToggleBlock(target){if(sc){sc.toggleBlock(target);}}
function activityToggleFollow(target){if(sc){sc.toggleFollow(target);}}
function addSocialReadyCallback(cb){if(sc){if(sc.isReady()){cb();}else{window.socialReady.push(cb);}}else if(typeof window.socialReady=='object'){window.socialReady.push(cb);}}
function addSocialChangeCallbacks(cb_obj){if(typeof window.socialChange=='object'){window.socialChange.push(cb_obj);}
if(sc){if(sc.isReady()){if(typeof cb_obj.followed!='undefined'){cb_obj.followed();}
if(typeof cb_obj.followers!='undefined'){cb_obj.followers();}
if(typeof cb_obj.blocked!='undefined'){cb_obj.blocked();}}
if(typeof cb_obj.active!='undefined'){sc.catchupActives(cb_obj.active);}}}
function socialCore(){var followed=[];var followers=[];var blocked=[];var fd_rec=false;var fs_rec=false;var b_rec=false;var full_load=false;var active_todo=[];return {handleActiveObject:function(ao){active_todo.push(ao);if(window.socialChange){for(var i=0; i<window.socialChange.length; i++){if(typeof window.socialChange[i].active!='undefined'){window.socialChange[i].active(ao);}}}},catchupActives: function(cb){for(var i=0; i<active_todo.length; i++){cb(active_todo[i]);}},handleFollowedList: function(list){followed=list;fd_rec=true;this.checkReady();if(full_load&&typeof window.socialChange=='object'){for(var i=0; i<window.socialChange.length; i++){if(typeof window.socialChange[i].followed!='undefined'){window.socialChange[i].followed();}}}},handleFollowersList: function(list){followers=list;fs_rec=true;this.checkReady();if(full_load&&typeof window.socialChange=='object'){for(var i=0; i<window.socialChange.length; i++){if(typeof window.socialChange[i].followers!='undefined'){window.socialChange[i].followers();}}}},handleBlockedList: function(list){blocked=list;b_rec=true;this.checkReady();if(full_load&&typeof window.socialChange=='object'){for(var i=0; i<window.socialChange.length; i++){if(typeof window.socialChange[i].blocked!='undefined'){window.socialChange[i].blocked();}}}},checkReady: function(){if(!full_load&&window.socialReady&&b_rec&&fs_rec&&fd_rec){full_load=true;var src=window.socialReady;window.socialReady=false;for(var i=0; i<src.length; i++){src[i]();}
if(typeof window.socialChange=='object'){for(var i=0; i<window.socialChange.length; i++){if(typeof window.socialChange[i].followed!='undefined'){window.socialChange[i].followed();}
if(typeof window.socialChange[i].followers!='undefined'){window.socialChange[i].followers();}
if(typeof window.socialChange[i].blocked!='undefined'){window.socialChange[i].blocked();}}}}},isReady: function(){return full_load;},isBlocked: function(target){return blocked.indexOf(target)>=0;},isFollowed: function(target){return followed.indexOf(target)>=0;},isFollower: function(target){return followers.indexOf(target)>=0;},toggleFollow: function(target){if(window.ActivityStream.getActorName()!=target){if(this.isFollowed(target)){window.ActivityStream.unFollow(target);}else{window.ActivityStream.follow(target);}}},toggleBlock: function(target){if(window.ActivityStream.getActorName()!=target){if(this.isBlocked(target)){window.ActivityStream.unBlock(target);}else{window.ActivityStream.block(target);}}}};}
function setupSocial(as){sc=socialCore();as.subscribeSocialLists({followed:function(list){sc.handleFollowedList(list);},blocked: function(list){sc.handleBlockedList(list);},followers: function(list){sc.handleFollowersList(list);}});as.subscribeActorActive(function(ao){sc.handleActiveObject(ao);});as.subscribeActiveList(function(list){for(x in list){sc.handleActiveObject({actor:list[x],active: true });}});as.requestFollowed();as.requestBlocked();as.requestFollowers();}
$(function(){if($("div.memberDrop").length||$("div.favorites").length||$("ul.listMembers a.close").length||$("ul.listProfiles li span.interact a[href$='#fol']").length){$("ul.listMembers a.close.block").click(function(){window.ActivityStream.unBlock(window.ActivityStream.createActorName(15,$(this).data('un')));return false;});$("p.user a[href$='#drop']").click(function(){var md=$(this).parent("p").addBack().next(".memberDrop");if(md){window.ActivityStream.requestActorActive(window.ActivityStream.createActorName(15,md.data("un")));}});addSocialChangeCallbacks({followed:function(){$("div.memberDrop p.interact a[href$='#fol']").each(function(){if(activityFollowed(window.ActivityStream.createActorName(15,$(this).closest("div.memberDrop").data("un")))){$(this).text('Unfollow');}else{$(this).text('Follow');}});$("div.favorites").each(function(){var el=$(this);var actor=window.ActivityStream.createActorName(el.data('type'),el.data('item'));if(activityFollowed(actor)){el.find("a.fUp").addClass('active');}else{el.find("a.fUp").removeClass('active');}});$("ul.listProfiles li span.interact a[href$='#fol']").each(function(){var li=$(this).closest("li");if(activityFollowed(window.ActivityStream.createActorName(15,li.data('member')))){$(this).addClass('active').text('Following').prepend($('<span>').addClass('activeIco'));}else{$(this).removeClass('active').text('Follow');$(this).find('span.activeIco').remove();}});},blocked: function(){$("div.memberDrop p.interact a[href$='#blk']").each(function(){if(activityBlocked(window.ActivityStream.createActorName(15,$(this).closest("div.memberDrop").data("un")))){$(this).text('Unblock');}else{$(this).text('Block');}});},active: function(ao){var mid=window.ActivityStream.extractItemIdFromActor(ao.actor);$("div.memberDrop").each(function(){if($(this).data("un")==mid){var t=$(this).find("p.online").text();if(t!="Online now"){$(this).data("old_online",t)}
if(ao.active){$(this).find("p.online").text("Online now");}else{$(this).find("p.online").text($(this).data("old_online"));}}});}});}});var fc=false;window.feedsDisplay=[];window.feedsAddPublic=[];window.feedsAddPrivate=[];function sendLoungeMessage(txt){if(fc){fc.sendLoungeMessage(txt);}}
function sendLoungeMessageGuest(txt){if(fc){fc.sendLoungeMessageGuest(txt);}}
function addFeedsDisplayCallback(cb){window.feedsDisplay.push(cb);}
function addFeedsPublicCallback(cb){window.feedsAddPublic.push(cb);}
function addFeedsPrivateCallback(cb){window.feedsAddPrivate.push(cb);}
function simpleFeedsDisplay(){if(fc){return fc.simpleDisplay();}
return false;}
function feedsCore(){var queued_display=false;var publicAct={Playlists:['playlistmade','playlistadd'],Twitter: ['startweet'],Comments: ['guestvideocomm','uservideocomm'],Likes: ['uservideolike'],Video_Updates: ['videolink'],Chat: ['loungeguestmess','loungemessage'],New_Users: ['accountupgrade']
};var privateAct={Playlists:['playlistmadefol','playlistaddfol','playlistfoladd'],Twitter: ['startweetfol'],Comments: ['videocommfol'],Likes: ['videolikefol'],Video_Updates: ['videolinkfol']
};var simple=navigator.userAgent.match(/iPad|iPhone|iPod|android|mobile/i)!=null;return {filterToUse:function(){var f=window.ActivityStream.getCurrentFilters();if(typeof f=='object'&&f.length>0){return f[0];}else{return 's';}},simpleDisplay: function(){return simple;},sendLoungeMessage: function(txt){window.ActivityStream.createActivity('loungemessage',{message:txt,filter:this.filterToUse()});},sendLoungeMessageGuest: function(txt){window.ActivityStream.createActivity('loungeguestmess',{message:txt,filter:this.filterToUse()});},publicActivityVerbGroups: function(){return publicAct;},privateActivityVerbGroups: function(){return privateAct;},publicActivityVerbs: function(){var ret=[];for(x in publicAct){for(var i=0; i<publicAct[x].length; i++){ret.push(publicAct[x][i]);}}
return ret;},privateActivityVerbs: function(){var ret=[];for(x in privateAct){for(var i=0; i<privateAct[x].length; i++){ret.push(privateAct[x][i]);}}
return ret;},handlePrivateFeedActivity: function(a){if(a.actor!=window.ActivityStream.getActorName()){for(var i=0; i<window.feedsAddPrivate.length; i++){window.feedsAddPrivate[i](a);}
if(!queued_display){queued_display=true;var fcore=this;setTimeout(function(){fcore.display();}, 200);}}},handlePublicFeedActivity: function(a){for(var i=0; i<window.feedsAddPublic.length; i++){window.feedsAddPublic[i](a);}
if(!queued_display){queued_display=true;var fcore=this;setTimeout(function(){fcore.display();}, 200);}},display: function(){queued_display=false;for(var i=0; i<window.feedsDisplay.length; i++){window.feedsDisplay[i]();}},refill: function(){window.ActivityStream.requestPublicActivities(50);window.ActivityStream.requestFollowingActivities(20);},settingsToMenu: function(dat){$("input.actSetVerb").each(function(){var el=$(this);if(typeof dat.hide=='object'){var verbs=el.data('set')=='pub' ? publicAct[el.data('group')]:privateAct[el.data('group')];var hide=false;for(var i=0; i<verbs.length; i++){if(dat.hide.indexOf(verbs[i])>=0){hide=true;break;}}
if(hide){el.prop('checked',false);for(var i=0; i<verbs.length; i++){$("li.activity."+verbs[i]).remove();}}else{el.prop('checked',true);}}else{el.prop('checked',true);}});},activateMenuGroup: function(group,set){window.ActivityStream.removeListSetting('hide',set=='pub' ? publicAct[group]:privateAct[group]);},deactivateMenuGroup: function(group,set){window.ActivityStream.addListSetting('hide',set=='pub' ? publicAct[group]:privateAct[group]);}};}
function setupFeeds(as){fc=feedsCore();if($("#loungeFeed").length){as.subscribeActivityVerb(fc.publicActivityVerbs(),{newActivity:function(a){fc.handlePublicFeedActivity(a);}});}
if($("ul.newsFeed").length){as.subscribeActivityVerb(fc.privateActivityVerbs(),{newActivity:function(a){fc.handlePrivateFeedActivity(a);}});}
fc.display();as.subscribeUserSettings({full:function(dat){fc.settingsToMenu(dat);},change: function(cat){if(cat=='hide'){fc.refill();}}});$("input.actSetVerb").click(function(){var chk=$(this);if(chk.is(":checked")){fc.activateMenuGroup(chk.data('group'),chk.data('set'));}else{fc.deactivateMenuGroup(chk.data('group'),chk.data('set'));}});setInterval(function(){fc.display();}, 60000);}
function generateVerbHTML(a){var pg=$("<p>");var li=$("<li>").addClass(a.verb+" activity").attr("actid",a.id).append(pg);var drop_un=false;var avatar=function(a){var un=a.actor;if(a.verb=='playlistfoladd'){un=a.object.user;}
var mid=window.ActivityStream.extractItemIdFromActor(un);return $('<img>').addClass('profileSmall').attr('src','http://images.porn.com/members/'+avatarPrefix(mid)+'/profile_small.jpg');};switch(a.verb){case 'guestvideocomm':case 'uservideocomm':case 'uservideolike':case 'videolink':case 'videocommfol':case 'videolikefol':case 'videolinkfol':if(typeof a.object.title==='undefined'||typeof a.object.title===null||a.object.title===null||a.object.title==='null'){a.object.title='a video';}
break;}
switch(a.verb){case 'videocommfol':pg.append($('<a>').addClass('name').attr('href','#drop').append(avatar(a),window.ActivityStream.getActorDisplayName(a.actor)),$('<span>').addClass('msg').append('commented ',$('<em>').html(a.object.message.replace(/\[nl\]/g, '<br>')),' on ',$('<a>').attr('href','/videos/'+formatTitleURI(a.object.title,a.object.scene)).attr('target','_blank').text(a.object.title),' ',$('<span>').addClass('type').append('(',$('<a>').attr('href','/videos').attr('target','_blank').text('Porn Videos'),')'
)),$('<span>').addClass('date').attr('pubtime',a.publish).text(timeAgo(a.publish)),$('<span>').addClass('clear'));drop_un=window.ActivityStream.extractItemIdFromActor(a.actor);break;case 'videolikefol':pg.append($('<a>').addClass('name').attr('href','#drop').append(avatar(a),window.ActivityStream.getActorDisplayName(a.actor)),$('<span>').addClass('msg').append('likes ',$('<a>').attr('href','/videos/'+formatTitleURI(a.object.title,a.object.scene)).attr('target','_blank').text(a.object.title),' ',$('<span>').addClass('type').append('(',$('<a>').attr('href','/videos').attr('target','_blank').text('Porn Videos'),')'
)),$('<span>').addClass('date').attr('pubtime',a.publish).text(timeAgo(a.publish)),$('<span>').addClass('clear'));drop_un=window.ActivityStream.extractItemIdFromActor(a.actor);break;case 'playlistmadefol':pg.append($('<a>').addClass('name').attr('href','#drop').append(avatar(a),window.ActivityStream.getActorDisplayName(a.actor)),$('<span>').addClass('msg').append('created a new ',$('<a>').attr('href','/playlists').attr('target','_blank').text('playlist'),' "',$('<em>').append($('<a>').attr('href','/playlists/'+formatTitleURI(a.object.title,a.object.id)).attr('target','_blank').text(a.object.title)),'"'
),$('<span>').addClass('date').attr('pubtime',a.publish).text(timeAgo(a.publish)),$('<span>').addClass('clear'));drop_un=window.ActivityStream.extractItemIdFromActor(a.actor);break;case 'playlistaddfol':pg.append($('<a>').addClass('name').attr('href','#drop').append(avatar(a),window.ActivityStream.getActorDisplayName(a.actor)),$('<span>').addClass('msg').append('added ',$('<a>').attr('href','/playlists/'+formatTitleURI(a.object.title,a.object.id)).attr('target','_blank').text(a.object.stitle),' to "',$('<em>').append($('<a>').attr('href','/playlists/'+formatTitleURI(a.object.title,a.object.id)).attr('target','_blank').text(a.object.title)),'" ',$('<span>').addClass('type').append('(',$('<a>').attr('href','/playlists').attr('target','_blank').text('Playlist'),')'
)),$('<span>').addClass('date').attr('pubtime',a.publish).text(timeAgo(a.publish)),$('<span>').addClass('clear'));drop_un=window.ActivityStream.extractItemIdFromActor(a.actor);break;case 'playlistfoladd':pg.append($('<a>').addClass('name').attr('href','#drop').append(avatar(a),window.ActivityStream.getActorDisplayName(a.object.user)),$('<span>').addClass('msg').append('added ',$('<a>').attr('href','/playlists/'+formatTitleURI(a.object.title,a.actor.substr(3))).attr('target','_blank').text(a.object.stitle),' to "',$('<em>').append($('<a>').attr('href','/playlists/'+formatTitleURI(a.object.title,a.actor.substr(3))).attr('target','_blank').text(a.object.title)),'" ',$('<span>').addClass('type').append('(',$('<a>').attr('href','/playlists').attr('target','_blank').text('Playlist'),')'
)),$('<span>').addClass('date').attr('pubtime',a.publish).text(timeAgo(a.publish)),$('<span>').addClass('clear'));drop_un=window.ActivityStream.extractItemIdFromActor(a.object.user);break;case 'startweetfol':pg.append($('<a>').addClass('thumb profile').attr('href','/pornstars/'+formatTitleURI(a.object.name,a.actor.substr(2))).attr('target','_blank').css('background-image','url(http://images.porn.com/headshots/'+a.actor.substr(2,1)+'/'+a.actor.substr(2)+'/crop/56.jpg)'),$('<a>').addClass('name').attr('href','http://www.twitter.com/'+a.object.tag).attr('rel','nofollow').attr('target','_blank').text('@'+a.object.tag+' ('+a.object.name+')'),$('<span>').addClass('msg').append(parseTweet(a.object.message.replace(/\[nl\]/g, '<br>')),' ',$('<span>').addClass('type').append('(',$('<a>').attr('href','/pornstars').attr('target','_blank').text('Pornstar Tweet'),')'
)),$('<span>').addClass('date').attr('pubtime',a.publish).text(timeAgo(a.publish)),$('<span>').addClass('clear'));break;case 'videolinkfol':pg.append($('<a>').attr('target','_blank').addClass('thumb profile').attr('href','/pornstars/'+formatTitleURI(a.object.name,a.actor.substr(2))).css('background-image','url(http://images.porn.com/headshots/'+a.actor.substr(2,1)+'/'+a.actor.substr(2)+'/crop/56.jpg)'),$('<span>').addClass('msg').append($('<a>').attr('href','/videos/'+formatTitleURI(a.object.title,a.object.scene)).attr('target','_blank').text('New Video'),' added. ',a.object.text,' ',$('<span>').addClass('type').append('(',$('<a>').attr('href','/videos').attr('target','_blank').text('Porn Videos'),')'
)),$('<span>').addClass('date').attr('pubtime',a.publish).text(timeAgo(a.publish)),$('<span>').addClass('clear'));break;case 'guestvideocomm':pg.append($('<a>').addClass('thumb').attr('target','_blank').attr('href','/videos/'+formatTitleURI(a.object.title,a.object.scene)).css('background-image','url(http://images.porn.com/sc/'+a.object.cid+'/'+a.object.snum+'/promo/crop/80x60/promo_1.jpg)'),$('<a>').addClass('name').text(a.object.user),$('<span>').addClass('msg').append('"',$('<em>').html(a.object.message.replace(/\[nl\]/g, '<br>')),'" on ',$('<a>').attr('target','_blank').attr('href','/videos/'+formatTitleURI(a.object.title,a.object.scene)).text(a.object.title),' ',$('<span>').addClass('type').append('(',$('<a>').attr('target','_blank').attr('href','/videos').text('Porn Videos'),')'
)),$('<span>').addClass('date').attr('pubtime',a.publish).text(timeAgo(a.publish)),$('<span>').addClass('clear'));break;case 'uservideocomm':pg.append($('<a>').attr('target','_blank').addClass('thumb').attr('href','/videos/'+formatTitleURI(a.object.title,a.object.scene)).css('background-image','url(http://images.porn.com/sc/'+a.object.cid+'/'+a.object.snum+'/promo/crop/80x60/promo_1.jpg)'),$('<a>').addClass('name').attr('href','#drop').append(avatar(a),window.ActivityStream.getActorDisplayName(a.actor)),$('<span>').addClass('msg').append('"',$('<em>').html(a.object.message.replace(/\[nl\]/g, '<br>')),'" on ',$('<a>').attr('target','_blank').attr('href','/videos/'+formatTitleURI(a.object.title,a.object.scene)).text(a.object.title),' ',$('<span>').addClass('type').append('(',$('<a>').attr('target','_blank').attr('href','/videos').text('Porn Videos'),')'
)),$('<span>').addClass('date').attr('pubtime',a.publish).text(timeAgo(a.publish)),$('<span>').addClass('clear'));drop_un=window.ActivityStream.extractItemIdFromActor(a.actor);break;case 'uservideolike':pg.append($('<a>').addClass('thumb').attr('target','_blank').attr('href','/videos/'+formatTitleURI(a.object.title,a.object.scene)).css('background-image','url(http://images.porn.com/sc/'+a.object.cid+'/'+a.object.snum+'/promo/crop/80x60/promo_1.jpg)'),$('<a>').addClass('name').attr('href','#drop').attr('target','_blank').append(avatar(a),window.ActivityStream.getActorDisplayName(a.actor)),$('<span>').addClass('msg').append('likes ',$('<a>').attr('target','_blank').attr('href','/videos/'+formatTitleURI(a.object.title,a.object.scene)).text(a.object.title),' ',$('<span>').addClass('type').append('(',$('<a>').attr('target','_blank').attr('href','/videos').text('Porn Videos'),')'
)),$('<span>').addClass('date').attr('pubtime',a.publish).text(timeAgo(a.publish)),$('<span>').addClass('clear'));drop_un=window.ActivityStream.extractItemIdFromActor(a.actor);break;case 'playlistmade':pg.append($('<a>').attr('target','_blank').addClass('thumb').attr('href','/videos/'+formatTitleURI(a.object.stitle,a.object.scene)+'?pl='+a.object.id).css('background-image','url(http://images.porn.com/sc/'+a.object.cid+'/'+a.object.snum+'/promo/crop/80x60/promo_1.jpg)'),$('<a>').addClass('name').attr('href','#drop').append(avatar(a),window.ActivityStream.getActorDisplayName(a.actor)),$('<span>').addClass('msg').append('Created a new ',$('<a>').attr('target','_blank').attr('href','/playlists').text('playlist'),' "',$('<em>').append($('<a>').attr('target','_blank').attr('href','/playlists/'+formatTitleURI(a.object.title,a.object.id)).text(a.object.title)),'"'
),$('<span>').addClass('date').attr('pubtime',a.publish).text(timeAgo(a.publish)),$('<span>').addClass('clear'));drop_un=window.ActivityStream.extractItemIdFromActor(a.actor);break;case 'accountupgrade':if(a.object.status=='new'){pg.append($('<a>').addClass('name').attr('href','#drop').append(avatar(a),window.ActivityStream.getActorDisplayName(a.actor)),$('<span>').addClass('msg').append('created a ',$('<a>').attr('target','_blank').attr('href','/join').addClass('bold').text('PORN.COM ID'),' ',$('<span>').addClass('type').append('(',$('<a>').attr('target','_blank').attr('href','/community').text('New User'),')'
)),$('<span>').addClass('date').attr('pubtime',a.publish).text(timeAgo(a.publish)),$('<span>').addClass('clear'));}else{pg.append($('<a>').addClass('name').attr('href','#drop').append(avatar(a),window.ActivityStream.getActorDisplayName(a.actor)),$('<span>').addClass('msg').append('upgraded to ',$('<a>').attr('target','_blank').attr('href','/premium').addClass('bold').text('PORN.COM Premium'),' ',$('<span>').addClass('type').append('(',$('<a>').attr('target','_blank').attr('href','/community').text('New Premium User'),')'
)),$('<span>').addClass('date').attr('pubtime',a.publish).text(timeAgo(a.publish)),$('<span>').addClass('clear'));}
drop_un=window.ActivityStream.extractItemIdFromActor(a.actor);break;case 'playlistadd':pg.append($('<a>').attr('target','_blank').addClass('thumb').attr('href','/videos/'+formatTitleURI(a.object.stitle,a.object.scene)+'?pl='+a.object.id).css('background-image','url(http://images.porn.com/sc/'+a.object.cid+'/'+a.object.snum+'/promo/crop/80x60/promo_1.jpg)'),$('<span>').addClass('msg').append('Video,',$('<a>').attr('target','_blank').attr('href','/playlists/'+formatTitleURI(a.object.title,a.object.id)).text(a.object.stitle),' added to "',$('<em>').append($('<a>').attr('target','_blank').attr('href','/playlists/'+formatTitleURI(a.object.title,a.object.id)).text(a.object.title)),'" ',$('<span>').addClass('type').append('(',$('<a>').attr('target','_blank').attr('href','/playlists').text('Playlist'),')'
)),$('<span>').addClass('date').attr('pubtime',a.publish).text(timeAgo(a.publish)),$('<span>').addClass('clear'));break;case 'startweet':pg.append($('<a>').attr('target','_blank').addClass('thumb profile').attr('href','/pornstars/'+formatTitleURI(a.object.name,a.actor.substr(2))).css('background-image','url(http://images.porn.com/headshots/'+a.actor.substr(2,1)+'/'+a.actor.substr(2)+'/crop/56.jpg)'),$('<a>').addClass('name').attr('href','http://www.twitter.com/'+a.object.tag).attr('rel','nofollow').attr('target','_blank').text('@'+a.object.tag+' ('+a.object.name+')'),$('<span>').addClass('msg').append(parseTweet(a.object.message.replace(/\[nl\]/g, '<br>')),' ',$('<span>').addClass('type').append('(',$('<a>').attr('target','_blank').attr('href','/pornstars').text('Pornstar Tweet'),')'
)),$('<span>').addClass('date').attr('pubtime',a.publish).text(timeAgo(a.publish)),$('<span>').addClass('clear'));break;case 'videolink':pg.append($('<a>').addClass('thumb').attr('target','_blank').attr('href','/videos/'+formatTitleURI(a.object.title,a.object.scene)).css('background-image','url(http://images.porn.com/sc/'+a.object.cid+'/'+a.object.snum+'/promo/crop/80x60/promo_1.jpg)'),$('<span>').addClass('msg').append('New video,',$('<a>').attr('href','/videos/'+formatTitleURI(a.object.title,a.object.scene)).attr('target','_blank').text(a.object.title),' added. ',a.object.text,' ',$('<span>').addClass('type').append('(',$('<a>').attr('target','_blank').attr('href','/videos').text('Porn Videos'),')'
)),$('<span>').addClass('date').attr('pubtime',a.publish).text(timeAgo(a.publish)),$('<span>').addClass('clear'));break;case 'loungemessage':pg.append($('<a>').addClass('name').attr('href','#drop').append(avatar(a),window.ActivityStream.getActorDisplayName(a.actor)),$('<span>').addClass('msg').text(a.object.message.replace(/\[nl\]/g, '<br>')),$('<span>').addClass('date').attr('pubtime',a.publish).text(timeAgo(a.publish)),$('<span>').addClass('clear'));drop_un=window.ActivityStream.extractItemIdFromActor(a.actor);break;case 'loungeguestmess':pg.append($('<a>').addClass('name').append(avatar(a),'Anonymous'
),$('<span>').addClass('msg').text(a.object.message.replace(/\[nl\]/g, '<br>')),$('<span>').addClass('date').attr('pubtime',a.publish).text(timeAgo(a.publish)),$('<span>').addClass('clear'));break;}
if(drop_un){li.find("a[href='#drop']").click(function(){$(this).closest("a").toggleClass("active").parent("li").toggleClass("active");var exc=$(this).parent("p").addBack().nextAll(".dropDownMenu,.memberDrop,ul.conversation").first().toggle();$(".dropDownMenu,ul.conversation,.memberDrop").not(exc).hide().prev("a").removeClass("active").parent("li").removeClass("active");return false;});if(window.ActivityStream.getActorName()=='guest'){li.append($("<div>").addClass("memberDrop").data("un",drop_un).data("dn",window.ActivityStream.getActorDisplayName(window.ActivityStream.createActorName(15,drop_un))).append($("<a>").attr("href","/profile/"+window.ActivityStream.getActorDisplayName(window.ActivityStream.createActorName(15,drop_un))).attr('target','_blank').addClass("user").text(window.ActivityStream.getActorDisplayName(window.ActivityStream.createActorName(15,drop_un))),$("<p>").addClass("interact").append($("<a>").attr("href","/profile/"+window.ActivityStream.getActorDisplayName(window.ActivityStream.createActorName(15,drop_un))).attr('target','_blank').text("Profile"),"&nbsp;",$("<a>").attr("href","#join").text("Send PM"),"&nbsp;",$("<a>").attr("href","#join").text("Follow"),"&nbsp;",$("<a>").attr("href","#join").text("Block"))));}else{li.append($("<div>").addClass("memberDrop").data("un",drop_un).data("dn",window.ActivityStream.getActorDisplayName(window.ActivityStream.createActorName(15,drop_un))).append($("<a>").attr("href","/profile/"+window.ActivityStream.getActorDisplayName(window.ActivityStream.createActorName(15,drop_un))).attr('target','_blank').addClass("user").text(window.ActivityStream.getActorDisplayName(window.ActivityStream.createActorName(15,drop_un))),$("<p>").addClass("interact").append($("<a>").attr("href","/profile/"+window.ActivityStream.getActorDisplayName(window.ActivityStream.createActorName(15,drop_un))).attr('target','_blank').text("Profile"),"&nbsp;",$("<a>").attr("href","#pm").text("Send PM").click(function(){newPrivateMessage(window.ActivityStream.createActorName(15,$(this).closest("div.memberDrop").data("un")),$(this).closest("div.memberDrop").data("dn"));return false;}),"&nbsp;",$("<a>").attr("href","#fol").text(activityFollowed(window.ActivityStream.createActorName(15,drop_un)) ? "Unfollow":"Follow").click(function(){var un=$(this).closest("div.memberDrop").data("un");if(window.ActivityStream.createActorName(15,un)!=window.ActivityStream.getActorName()){$.lpost(this,"/ajax/favorite.json",{type_id:15,item_id:un,action:"toggle"},function(json){$.noticeAdd(json.message);});}
return false;}),"&nbsp;",$("<a>").attr("href","#blk").text(activityBlocked(window.ActivityStream.createActorName(15,drop_un)) ? "Unblock":"Block").click(function(){activityToggleBlock(window.ActivityStream.createActorName(15,$(this).closest("div.memberDrop").data("un")));return false;}))));}}
return li;}
$(function(){if($('ul.newsFeed').length){addFeedsDisplayCallback(function(){$('ul.newsFeed').each(function(){var ulnf=$(this);ulnf.find('li.activity span.date').each(function(index){var t=timeAgo($(this).attr('pubtime'));$(this).text(t);});ulnf.find("li.activity").detach().sort(function(a,b){return $(a).find('span.date').attr('pubtime')>$(b).find('span.date').attr('pubtime') ? -1:($(a).find('span.date').attr('pubtime')==$(b).find('span.date').attr('pubtime') ? 0:1);}).appendTo(this);if(simpleFeedsDisplay()){ulnf.find('li.activity:hidden').show();ulnf.find('li.activity').each(function(index){if(index>=20){$(this).remove();}});}else{ulnf.find('li.activity:hidden').slideDown();ulnf.find('li.activity').each(function(index){if(index>=20){$(this).slideUp(function(){$(this).remove();});}});}});});addFeedsPrivateCallback(function(a){$('ul.newsFeed').each(function(){var ulnf=$(this);if(!ulnf.find('li.activity[actid='+a.id+']').length){ulnf.prepend(generateVerbHTML(a).hide());}});});}});$.lpost=function(lock,url,fun,type){lock=$(lock);if(lock.hasClass("loading")){return false;}
lock.addClass("loading");return $.post(url,fun,type).always(function(){lock.removeClass("loading");});};$.fn.toggleText=function(){var args=[];for(var i=0; i<arguments.length; i++){args.push(arguments[i]);}
var i=args.indexOf(this.text());if(i<args.length - 1){var pos=i+1;}else{var pos=0;}
return this.text(args[pos]);};$.fn.nextWrap=function(selector){var next=this.next(selector);if(next.length==0){return this.siblings(selector).prev();}else{return next;}};$.fn.prevWrap=function(selector){var prev=this.prev(selector);if(prev.length==0){return this.siblings(selector).last();}else{return prev;}};$.fn.increment=function(num){if(typeof(num)!="number"){var num=1;}
this.each(function(){var el=$(this);var text=$.trim(el.html());if(text.match(/\d+/)){text=text.replace(/\d+/,function(match){ return parseInt(match)+num;});}else{text=num;}
el.html(text);});return this;};$.fn.getImage=function(){var thumb=this[0];if(thumb.images==undefined){thumb.timerid=0;thumb.origimg=this.find("img").attr("src")||"";thumb.origpref=thumb.origimg.split(/promo|turk|tags/)[0];thumb.origsize=""+(thumb.origimg.match(/\d+x\d+/)||"");thumb.images={ };}
return thumb;};$.fn.changeImage=function(url,timeout,cb1,cb2){if(this.length<1){return false;}
var el=this;var thumb=this.getImage();if(thumb.timerid>0){clearTimeout(thumb.timerid);}
if(typeof(url)=="boolean"&&url==true){var ok=true;}else if(typeof(url)!="string"){this.find("img").attr("src",thumb.origimg);var ok=true;}else{if(thumb.images[url]==undefined){thumb.images[url]=new Image();thumb.images[url].src=url;}
var img=thumb.images[url];var ok=img.complete;if(img.complete){this.find("img").attr("src",img.src);}else{thumb.timerid=setTimeout(function(){ $(thumb).changeImage(url,timeout,cb1,cb2);}, 50);}}
if(ok&&typeof(cb1)=="function"){cb1.call(el,thumb);}
if(ok&&typeof(cb2)=="function"){if(timeout==undefined||timeout<1){cb2.call(el,thumb);}else{thumb.timerid=setTimeout(function(){ cb2.call(el,thumb);},timeout);}}
return ok;};$.fn.getThumbURL=function(type,num,size){var thumb=this.getImage();if(size==undefined){var size=thumb.origsize;}
if(type=="scrub"){return thumb.origpref+"promo/crop/player_thumbs/"+((num<10)? ("00"+num):((num<100)? ("0"+num):num))+".jpg";}else if(type=="tags"){return thumb.origpref+"tags/"+size+"/"+num+".jpg";}else{return thumb.origpref+"promo/crop/"+size+"/"+type+"_"+num+".jpg";}};function rollImages(img,start,limit){var img=$(img);if(limit==undefined){limit=parseInt(img.data("thumbs"))||20;}
if(!img.children("img")[0].src.match(/images.porn.com/)||limit<2){return;}
var thumb=img.getImage();if(start==undefined||start>limit){if(thumb.origimg.match(/promo_1\.jpg/)){var start=2;}else{var start=1;}}
var url=img.getThumbURL("promo",start);img.changeImage(url,550,function(){ moveScrub(img,start / limit);},function(){ rollImages(img,start+1);});}
function moveScrub(scrubber,perc){var scrubber=$(scrubber);if(scrubber.is("a.thumb")){scrubber=scrubber.find("span.scrub");}
if(scrubber.length>0){var width=scrubber.width();var left=Math.max(Math.min((width*(perc||0)) - 4, width - 11), 0);scrubber.find("span").css("left",left+"px");}}
$.fn.serializeObject=function(filter){var result={ };var dupes={ };var items=this.find(":input[name]");if(typeof filter=="string"){items=items.filter(filter);}
items.each(function(){var name=this.name;if(name.substring(-2)=="[]"){if(dupes[name]==undefined)dupes[name]=0;name=name.substring(0,-2)+"["+dupes[name]+"]";dupes[name]++;}
if($(this).is(":checkbox")){result[name]=this.checked? "yes":"no";}else if(!$(this).is(":radio")||$(this).is(":checked")){result[name]=$(this).val();}});return result;};$.fn.assignValues=function(data,clear){if(typeof data!="object")return;this.find("input[type=text],input[type=hidden],input[type=checkbox],input[type=radio],select, textarea").filter("[name]").each(function(){var parts=this.name.replace(/[\]\"]/g, "").split("[");var val=data;for(i in parts){if((val=val[parts[i]])==undefined){if(clear==true||clear==undefined){val="";break;}else{return;}}}
if($(this).is(":checkbox")){this.checked=(val==true||val=="yes");}else if($(this).is(":radio")){this.checked=(val==this.value);}else{$(this).val(val);}});};function avatarPrefix(mid){return Math.floor(mid / 1000000)+"/"+Math.floor(mid / 1000)+"/"+mid;}
function delayedChange(field,delay,callback){var el=$(field)[0];if(typeof(el.timerID)=="number"){clearTimeout(el.timerID);}
if(typeof(el.valprev)!="string"){el.valprev="";}
el.timerID=setTimeout(function(){if(el.valprev==$.trim(el.value)){return false;}else{el.valprev=$.trim(el.value);}
callback(el);},delay);}
function refreshPage(message,keepqs,fromjoin){var redir=document.location.href;if(document.location.href.match(/join/)||(typeof(fromjoin)=="boolean"&&fromjoin==true)){redir="/profile/premium";}else if(document.location.href.match(/login/)){redir="/";}
var pos=redir.indexOf("#");if(pos>-1){redir=redir.substring(0,pos);}
pos=redir.indexOf("?");if(typeof(keepqs)=="boolean"&&keepqs==false&&pos>0){redir=redir.substring(0,pos);}
if(typeof(message)=="string"){cookieMsgEnqueue(message);}
document.location.href=redir;}
function parseTimestamps(element,maxlen){if($("#playerbox").length==0){return;}
$(element).each(function(){var text=$(this).html().replace(/\d{1,2}:\d{1,2}/g, function(match){var time=parseTime(match);if(time>0&&(typeof(maxlen)!="number"||time<=maxlen)){return '<a href="#'+parseTime(match)+'" class="timestamp">'+match+'</a>';}else{return match;}});$(this).html(text);});}
function getItemID(div,ext){if(typeof(div)=="string"||typeof(div)=="object"){div=$(div).closest("div,li");if(!div.data("item")){div=false;}}
if(typeof(div)!="object"){var div=$("#head").siblings("div.wrap.grid").first();}
var item_id=div.data("item")||0;var type_id=div.data("type")||((item_id>0)? 5:0);var data={type_id:type_id,item_id:item_id};if(typeof(ext)=="object"){return $.extend(ext,data);}else{return data;}}
function parseTime(time,max){if(typeof(time)=="string"){time=$.trim(time);var col=time.indexOf(":");if(time.length<1){return null;}else if(col>-1){time=parseInt(time.substring(0,col))*60+parseInt(time.substring(col+1));}else{time=parseInt(time);}}else if(typeof(time)!="number"){return null;}
if(time<0||(typeof(max)=="number"&&max<time)){return null;}else{return time;}}
function formatTime(length){if(typeof(length)!="number"){return "";}else{length=Math.round(length);}
var hours=Math.floor(length / 3600);var minutes=Math.floor((length % 3600) / 60);var seconds=length % 60;if(seconds<10){seconds="0"+seconds;}
if(minutes<10&&hours>0){minutes="0"+minutes;}
return ((hours>0)? hours+":":"")+minutes+":"+seconds;}
function timeAgo(timestamp){var diff=(new Date().getTime() - parseInt(timestamp)) / 1000;if(diff<60){return "Just now";}else if(diff<3600){return Math.floor(diff / 60)+"m ago";}else if(diff<86400){return Math.floor(diff / 3600)+"h ago";}else if(diff<172800){return "Yesterday";}else if(diff<604800){return Math.floor(diff / 86400)+"d ago";}else if(diff<1209600){return "Last week";}else if(diff<2592000){return Math.floor(diff / 604800)+"w ago";}else if(diff<5184000){return "Last month";}
var d=new Date(parseInt(timestamp));return (d.getMonth()+1)+"-"+d.getDate()+"-"+(d.getFullYear() % 100);}
function autocompleteLocation(element){$(element).autocomplete({appendTo:$(element).parent(),close: function(e,ui){var link=$(this).addClass("nomatch");var val=$.trim(link.val());$(this).siblings("ul.ui-autocomplete").find("li a").each(function(){if($.trim($(this).text())==val){link.removeClass("nomatch");return false;}});},source: function(request,response){var term=$.trim(request.term);if(term.length<1){return;};$.post("/ajax/location.json",{location:term},function(data){for(i in data.results){var loc=data.results[i];data.results[i]={value:loc,label:loc};}
response(data.results);});}});}
function parseTweet(txt){return txt.replace(/["]/ig, function(match){return '&quot;';}).replace(/\bhttps?:\/\/[^\s,"]+/ig, function(match){return '<a href="'+match+'" rel="nofollow" target="_blank">'+match+'</a>';}).replace(/#[^\s?&.,!"@]+\b/ig, function(match){return '<a href="http://www.twitter.com/search?src=hash&q=%23'+match.substr(1)+'" rel="nofollow" target="_blank">'+match+'</a>';}).replace(/@[^\s?&.,!"#]+\b/ig, function(match){return '<a href="http://www.twitter.com/'+match.substr(1)+'" rel="nofollow" target="_blank">'+match+'</a>';});}
function formatTitleURI(title,id){return title? ($.trim(title.toLowerCase()).replace(/[^a-z0-9]+/ig, "-")+"-"+id):id;}
function playlistSettings(plid,data){var plid=plid||$("#playlist").data("playlist");var cname="plOptions";var current=$.cookie(cname)||"";var parts=current.split("-");var cdata={playlist_id:parseInt(parts.shift())||0,autoplay: parseInt(parts.shift())||0,shuffle: parseInt(parts.shift())||0,collapse: parseInt(parts.shift())||0,position: parseInt(parts.shift())||0 };if(cdata.playlist_id!=plid){cdata={playlist_id:plid,autoplay:1,shuffle:0,position:0,collapse:0};}
if(typeof(data)=="object"){cdata=$.extend(cdata,data);var str=cdata.playlist_id+"-"+cdata.autoplay+"-"+cdata.shuffle+"-"+cdata.collapse+"-"+cdata.position;$.cookie(cname,str,{path:"/",domain: ".porn.com" });}
return cdata;}
function highlightText(text,search,wrap){if(typeof(text)!="string"||typeof(search)!="string"||search.length<1){return text||"";}
if(typeof(wrap)!="string"){var wrap="span";}
var temp=wrap.indexOf(".");if(temp!==-1){var style=wrap.substring(temp+1);var wrap=wrap.substring(0,temp);}else{var style=false;}
var words_raw=search.split(/[^a-z0-9]+/m);var words=[];for(i in words_raw){var temp=$.trim(words_raw[i]);if(temp.length>0&&words.indexOf(temp)==-1){words.push(temp);}}
words.sort(function(a,b){ return a.length - b.length;});if(words.length<1){return text;}else if(words.length>15){words=words.slice(0,15);}
var regex=new RegExp("(([a-z]{0,3}("+words.join("|")+")+[a-z]{0,5})([^a-z0-9<>]+|$))+","ig");text=text.replace(regex,function(match){return "<"+wrap+((style.length>0)? ' class="'+style+'"':"")+">"+match+"</"+wrap+">";});return text;}
function debug(message){var out=$("#debug_out");if(out.length==0){var out=$("<textarea>").prop({id:"debug_out",readonly:true}).appendTo("body");}
if(typeof(message)!="string"){message=print_r(message);}
out.text(message+"\n"+out.text());}
function createMsg(message,type,container){if(typeof(message)!="string"||message.length<1){return "";}else if(typeof(type)=="boolean"){type=type? "check":"error";}else if(typeof(type)=="undefined"){var type="check";}
var el=$("<span>").addClass("msg").text(message);if(typeof(container)=="object"){container=$(container).closest("p");container.find("span.span").remove();container.append(el).removeClass("check error").addClass(type);}
return el;}
function cookieMsgEnqueue(message){var current=$.cookie("temp_messages")||"";var parts=(current.length==0)? current.split("|"):[];if(message.length>0){parts.push(message);$.cookie("temp_messages",parts.join("|"),{path:"/",domain: ".porn.com" });}}
function cookieMsgDequeue(){var current=$.cookie("temp_messages")||"";$.cookie("temp_messages","",{path:"/",domain: ".porn.com" });if(typeof(current)=="string"){var parts=current.split("|");for(i in parts){var text=$.trim(parts[i]);if(text.length>0){$.noticeAdd(text.replace(/\+/g, " "));}}}}
function modalFade(div,show){if(div===false||show===false){$(".mdlWrap").fadeOut("fast");}else{var div=$(div).show();if(div.find("a.close").length==0){div.prepend('<a class="close" href="#close"><span></span></a>');}
$("div.mdlWrap").fadeIn("fast",function(){ div.find("input:text,select").first().focus();});var total=$(window).height();var height=(typeof(show)=="number")? show:div.innerHeight();var top=total*0.15;var bottom=total - top - height;if(height>=total){var scrollTo=10 - top;}else if(top>bottom){var scrollTo=(total - height) / 2 - top;}else{var scrollTo=0;}
var scroll=$(window).scrollTop()+scrollTo;div.css("top",scroll).siblings().hide();return div;}}
function countdownSimple(time,el,cb){if(time<1){return cb(el);}
$(el).text(formatTime(time));setTimeout(function(){ countdownSimple(time - 1,el,cb);}, 1000);}
var content_types={"1":"DVD","2":"Pornstar","3":"Series","5":"Video","6":"Picture","7":"Studio","8":"Site","9":"Niche","10":"Keyword","11":"Sponsor","12":"Sponsor Site","13":"Channel","14":"Playlist","15":"Member","16":"Category","17":"Comment" };function print_r(x,max,sep,l){l=l||0;max=max||10;sep=sep||' ';if(l>max){return "[WARNING:Too much recursion]\n";}
var i, r='',t=typeof x, tab='';if(x===null){r+="(null)\n";}else if(t=='object'){l++;for(i=0; i<l; i++){tab+=sep;}
if(x&&x.length){t='array';}
r+='('+t+") :\n";for(i in x){try {r+=tab+'['+i+']:'+print_r(x[i],max, sep, (l+1));} catch(e){return "[ERROR:"+e+"]\n";}}}else{if(t=='string'&&x==''){x='(empty)';}
r+='('+t+') '+x+"\n";}
return r;}function validateForm(form,rules){var data=form.serializeObject();var result={errors:{ },code: 0 };for(i in rules){var r=rules[i];if(typeof(r)=="boolean"&&r==true){r={req:true};}else if(typeof(r)=="number"){r={max:r};}else if(typeof(r)!="object"){continue;}
var req=r.req||false;var max=r.max||null;var min=r.min||null;var lmax=r.lmax||null;var lmin=r.lmin||null;var format=r.format||null;var label=r.label||null;var val=$.trim(data[i]||"");var valnum=parseInt(val)||0;if(label==null){var temp=form.find("input[name="+i+"]").siblings("label");if(temp.length>0){label=temp.text();}else{label="This value";}}
if(req&&val.length<1){result.errors[i]=label+" is required";}else if(val.length<1){continue;}else if(min!=null&&min>valnum){result.errors[i]=label+" cannot be less than "+min;}else if(max!=null&&max<valnum){result.errors[i]=label+" cannot be greater than "+max;}else if(lmax!=null&&lmax<val.length){result.errors[i]=label+" cannot be longer than "+lmax+" characters";}else if(lmin!=null&&lmin>val.length){result.errors[i]=label+" cannot be shorter than "+lmin+" characters";}else if(format!=null&&!val.match(format)){result.errors[i]=label+" contains invalid characters or patterns";}else{continue;}
result.code++;}
return result;};function applyFieldErrors(form,data){if(typeof(data)!="object"||typeof(form)!="object"){return false;}else{data=$.extend({errors:{ },code: 1, message: null, captcha: null },data);}
form.find("span.msg").remove();var header=form.find("p:first");if(header.find(":input").length>0){header=$("<p>").prependTo(form);}
if(typeof(data.errors)=="object"){form.find(":input").each(function(){createMsg(data.errors[this.name],false, this);});}else{form.find("p.error").removeClass("error").find("span.msg").remove();}
createMsg(data.message,data.code==0, header.toggle(data.message!=null));if(data.captcha!=null){formAppendCaptcha(form.find("p.captcha").show(),data.captcha);}};function formAppendCaptcha(container,captcha){container.find("img").remove();container.find("input[name=captcha]").val("");if(typeof(captcha)=="string"){container.find("input:text").after('<img src="/captcha/'+captcha+'.jpg" />');container.find("input[name=captcha_hash]").val(captcha);}else{container.find("input:text").after('<img src="/images/loader.png" />');$.post("/login/ajax-captcha.json",{time:new Date().getTime()},function(json){container.find("img").attr("src",'/captcha/'+json.captcha+'.jpg');container.find("input[name=captcha_hash]").val(json.captcha);});}}
function formAppendRecaptcha(container){container=$(container||"p.captcha").first();var id="recaptchacnt"+Math.random();var div=$("<div>").attr("id",id).addClass("recaptchacnt");container.find(".recaptchacnt").remove();container.append(div);$.getScript("http://www.google.com/recaptcha/api/js/recaptcha_ajax.js",function(){Recaptcha.create("6LfAed0SAAAAABylUaAtXJmDdzYiAVdcP4BGC_do",id);});}var QuestingEngine={};QuestingEngine.initialQuestBalance=5;$("body").on("click","#coinsHREF",function(){QuestingEngine.showDebugData();});QuestingEngine.showDebugData=function(){if(QuestingEngine.getUrlVars()['debug']!=undefined ){var cookieName="QuestCookiePORN";QuestingEngine.getCookie('auth',true);QuestingEngine.getCookie( cookieName ,true );}};QuestingEngine.getUrlVars=function(){var vars={};var parts=window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi, function(m,key,value){vars[key]=value;});return vars;};QuestingEngine.trace=function(data,returnString){returnString=typeof returnString!=='undefined' ? returnString:false;if(returnString ){return JSON.stringify(data);}else{alert( JSON.stringify(data));}};QuestingEngine.getCookie=function(cookieName,showAlert){var cookieValue=jQuery.cookie( cookieName );if(showAlert ){alert( cookieName+':'+cookieValue );}
return cookieValue;};QuestingEngine.setCookie=function(c_name,value,exdays){var exdate=new Date();exdate.setDate(exdate.getDate()+exdays);var c_value=escape(value)+((exdays==null) ? "":"; expires="+exdate.toUTCString());document.cookie=c_name+"="+c_value;};QuestingEngine.forceUpdateCoins=function( siteID ){var userLoggedInData=QuestingEngine.getCookie("auth");var trustQuestingCookieData=true;var coinValue=QuestingEngine.initialQuestBalance;var userRank=0;var cookieDataArray=null;var cookieAsDelimitedString=QuestingEngine.getCookie( "QuestCookiePORN" );if(cookieAsDelimitedString&&cookieAsDelimitedString!='' ){cookieDataArray=cookieAsDelimitedString.split("||");}
if(!userLoggedInData ){var sessionID=( cookieDataArray ) ? cookieDataArray[ 0 ]:null;if(sessionID&&sessionID.indexOf( siteID )>-1 ){trustQuestingCookieData=false;}}else{coinValue=( cookieDataArray ) ? cookieDataArray[ 2 ]:null;if(coinValue&&coinValue>QuestingEngine.initialQuestBalance ){}else{QuestingEngine.doAction( ["aGetCoinBalance"], 123456 );return;}}
if(trustQuestingCookieData ){coinValue=( cookieDataArray ) ? cookieDataArray[ 2 ]:QuestingEngine.initialQuestBalance;userRank=( cookieDataArray ) ? cookieDataArray[ 4 ]:"0";}else{}
$("#coinsID").html( QuestingEngine.addCommas( coinValue ));$(".camsPlayerBox .user .note strong").html( QuestingEngine.addCommas( coinValue ));$("#coinsHREF").attr("title",QuestingEngine.addRankText( userRank ));};QuestingEngine.addRankText=function( userRank ){var userLoggedInData=QuestingEngine.getCookie("auth");if(!userLoggedInData ){var rankText="Register so you dont lose your points";}else{if(userRank==0 ){var rankText="Collect more points to increase your ranking!";}else{var rankText="You rank "+QuestingEngine.addPosition( userRank )+" out of all PORN.COM members";}}
return rankText;};QuestingEngine.addCommas=function( numericValue ){var commaString='';var stringValue=String( numericValue );for( var i=stringValue.length-1, j=0; i>=0; i--,j++ ){if(j%3==0&&j>0 ){commaString=","+commaString;}
commaString=stringValue.substr(i,1)+commaString;}
return commaString;};QuestingEngine.addPosition=function( numberValue ){var lastDigit=new String( numberValue );lastDigit=lastDigit.charAt( lastDigit.length-1 );var position;switch(lastDigit ){case "1":position="st";break;case "2":position="nd";break;case "3":position="rd";break;default:position="th";break;}
if(numberValue>10&&numberValue<20 ){position="th";}
return new String( numberValue ).concat( position );};QuestingEngine.actionSuccess=function(data ){if(typeof(data)!="object"||typeof(data.actions)!="object"){return false;}
for(var i=0; i<data.actions.length ; i++){action=data.actions[ i ];switch( action.name ){case "updateRank":var newRankValue=new String(action.value);$("#coinsHREF").attr("title",QuestingEngine.addRankText( newRankValue ));break;case "updateCoins":var newCoinValue=new String(action.value);$("#coinsID").html( QuestingEngine.addCommas( newCoinValue ));$(".camsPlayerBox .user .note strong").text( QuestingEngine.addCommas( newCoinValue ));break;case "error":break;default:}}
if(QuestingEngine.getUrlVars()['debug']!=undefined ){QuestingEngine.trace(data,false);}
return true;};QuestingEngine.actionFailure=function(data ){};QuestingEngine.doAction=function(actions,data){var debug=false;if(QuestingEngine.getUrlVars()['debug']!=undefined ){debug=QuestingEngine.getUrlVars()['debug'];}
$.post("/ajax/questing.json",{actions:actions,data:data,debug:debug}).success(QuestingEngine.actionSuccess).error(QuestingEngine.actionFailure);};$(function(){var loggedin=typeof($("body").data("autologin"))=="string";function getDataPL(div,action){var data=div.serializeObject();data.scene_id=$("div.wrap.grid").data("item");data.time_start=parseTime(data.time_start,data.length);data.time_end=parseTime(data.time_end,data.length);data.name=$.trim(data.name);if(typeof(action)=="string"){data.action=action;}
return data;}
function plScene(data){var li=$("<li>").data("item",data.scene_id);var thumb=data.content_id+"/"+data.scene_num;var link=data.name.toLowerCase().replace(/[^a-z0-9]+/g, "-");if(link.length>0){link+="-"+data.scene_id;}else{link=data.scene_id;}
link="/videos/"+link+"?pl="+data.playlist_id;var thumb=$("<a>").appendTo(li).addClass("thumb").attr("href",link).css("background-image","url(http://images.porn.com/"+thumb+"/promo/crop/174x116/sample_1.jpg)").html("<img src=\"/images/spacer-thumb-standard.gif\"><span class=\"duration\">"+formatTime(data.length)+"</span>");$("<a>").addClass("title").attr("href",link).text(data.name).appendTo(li);if(data.owner){$("<a>").addClass("close").attr("href","#remove").html("<span></span>").appendTo(li);}
return li;}
$("ul.listPlaylists li>div a[href*='#']").click(function(e){var hash=this.hash.substring(1);var link=$(this);var li=link.closest("li");var actions={clear:"clear",remove:"delete",rename:"update",access:"update",subscribe:"subscribe"};if(typeof(actions[hash])!="string"){e.preventDefault();return;}
var data={playlist_id:li.data("playlist"),action: actions[hash] };if(hash=="subscribe"){$.lpost(li,"/ajax/favorite.json",{action:"add",type_id:14,item_id:data.playlist_id},function(json){$.noticeAdd(json.message);if(json.code==0){link.closest("div").remove();}});return false;}else if(hash=="clear"){if(!confirm("Are you sure you wanna delete all videos from this playlist?")){ return false;}
var cb=function(json){link.remove();li.children("ul").html("<li>This list is empty!</li>");li.find("span.count").text("0");};}else if(hash=="remove"){if(!confirm("Are you sure you wanna delete this playlist and all its contents?")){ return false;}
var cb=function(json){$("ul.tabsSub li.active:visible,ul.tabs li.active").find("a").increment(-1);li.fadeOut("fast",function(){ li.remove();});};}else if(hash=="rename"){data.name=$.trim(prompt("Please enter new title for this playlist"));if(data.name.length<1){return false;}
var cb=function(json){li.find("h3>span:first").text(data.name);};}else if(hash=="access"){var access=li.data("access");data.access=(access=="public")? "private":"public";var cb=function(json){li.data("access",data.access).find("div.dropDown span.label").text((access=="public")? "Private":"Public");link.text((access=="private")? "Make private":"Make public");};}
$.lpost(li,"/ajax/playlist.json",data, function(json){$.noticeAdd(json.message);if(json.code==0){li.find("div.dropDownMenu").hide();cb(json);}});return false;});$("div.plOptions input:button").click(function(){var div=$(this).closest("div.plOptions");var data=getDataPL(div,"create");if(data.name.length<1){$.noticeAdd("Missing playlist name");return false;}
$.lpost(div,"/ajax/playlist.json",data, function(json){$.noticeAdd(json.message);if(json.code==0){div.find("input:text").val("");var spans="<span class=\"l1\">(1)</span><span class=\"l2\">"+data.access+"</span>";var li=$("<li>").html("<a href=\"#"+json.playlist_id+"\">"+data.name+" "+spans+"</a>");div.find("li").not(":has(a)").remove();div.children("ul").append(li);}});});$("div.plOptions").on("click","a",function(){var link=$(this);var data=getDataPL(link.closest("div.plOptions"),"add");data.playlist_id=this.hash.substring(1);$.lpost(link,"/ajax/playlist.json",data, function(json){$.noticeAdd(json.message);if(json.code==0){link.find("span.l1").increment();QuestingEngine.actionSuccess(json.questing_response);}});return false;});$("div.main.playlist ul.listThumbs a.close").click(function(){var li=$(this).closest("li");var data={action:"remove",playlist_id:$("div.wrap.grid").data("item"),scene_id: this.hash.substring(1)};$.lpost(li,"/ajax/playlist.json",data, function(json){$.noticeAdd(json.message);if(json.code==0){li.fadeOut("fast",function(){ li.remove();}).find("a.close").remove();$("strong.count").increment(-1);}});return false;});$("a.btn[href$='#playlist']").click(function(){$("div.plOptions").toggle();return false;});$("#playlist").on("click","a[href*='#']",function(e){var plid=$("#playlist").data("playlist");var link=$(e.target).closest("a");var action=link[0].hash.substring(1);if(action=="change"){link.toggleClass("active").siblings("ul.clDrop").toggle();}else if(action=="shuffle"){link.toggleClass("on");playlistSettings(plid,{shuffle:link.hasClass("on")? 1:0 });}else if(action=="autoplay"){link.toggleClass("on");playlistSettings(plid,{autoplay:link.hasClass("on")? 1:0 });}else if(action=="toggle"){$("#playlist").toggleClass("collapsed");playlistSettings(plid,{collapse:$("#playlist").hasClass("collapsed")? 1:0 });}else if(action=="close"){$("#playlist").hide();refreshPage(null,false);}else if(action=="remove"){var li=link.closest("li");var scene=li.data("item");var data={action:"remove",scene_id:scene,playlist_id:plid};$.lpost(li,"/ajax/playlist.json",data, function(json){$.noticeAdd(json.message);if(json.code==0){$("#playlist span.count").increment(-1);if(li.index()<$("#plContent li.active").index()){$("#playlist span.countCurrent").increment(-1);}
if(li.hasClass("active")){li.replaceWith("<li class=\"active\" style=\"display: none;\"></li>");$("#plHead>p").html("Not in list");}else{li.remove();}}});}else if(action=="left"||action=="right"){var list=$("#playlist ul.listThumbs").stop(true,true);var off=parseInt(list.css("margin-left").replace("px",""))||0;var dir=(action=="left")? 1:-1;var step=list.find("li:first").outerWidth();var total=$("#plContent li").length*step;var margin=off+step*dir;if(margin<=0&&margin>-total){list.animate({ "margin-left":margin }, 200);}}else if(action=="prev"||action=="next"){var cur=$("#plContent li.active");var list=cur.siblings("li");if($("#plHead a.shuffle").hasClass("on")){var link=list.eq(parseInt(Math.random()*list.length));}else{var link=(action=="prev")? cur.prevWrap("li"):cur.nextWrap("li");}
if(link.length>0){document.location.href=link.find("a.thumb").attr("href");}}else if(action=="like"||action=="dislike"){if($("#playlist").find("a[href$='#dislike'],a[href$='#like']").hasClass("on")){return false;}
var data={action:"rate",rating:(action=="like")? 5:1, type_id: 14, item_id: plid };link.addClass("on");$.post("/ajax/rating.json",data, function(json){$.noticeAdd(json.message);});}else if(action=="favorite"){var data={action:"toggle",type_id:14,item_id:plid};link.toggleClass("on");$.lpost(link,"/ajax/favorite.json",data, function(json){link.toggleClass("on",json.message.match(/added/)? true:false);$.noticeAdd(json.message);});}
return false;}).each(function(){var data=playlistSettings($(this).data("playlist"));var item=parseInt($("div.wrap.grid").data("item"));$(this).find("a[href$='#shuffle']").toggleClass("on",data.shuffle>0);$(this).find("a[href$='#autoplay']").toggleClass("on",data.autoplay>0);$("#playlist").toggleClass("collapsed",data.collapse>0);var act=$("#plContent").find("li.active");var index=act.index();var wi=act.outerWidth();var mid=Math.floor($("#plContent").width() / 2 / wi);$("#plContent ul").css("margin-left",Math.min(0,(mid - index)*wi));});$("a[href$='#suggest']").click(function(){var field=$("<input>").attr({type:"text",name:"lookup"});var type_id=$(this).text().match(/actor/i)? 2:16;$(this).after(field);$.noticeAdd("suggesting...");$(this).parent().css("overflow","visible");field.autocomplete({delay:150,appendTo:field.parent(),source: function(request,response){var term=$.trim(request.term);if(term.length<1){return;};$.post("/ajax/lookup.json",{query:term,type_id:type_id},function(json){for(i in json.data){json.data[i].label=json.data[i].value=json.data[i].name;}
response(json.data);});}});return false;});if(typeof top=="object"&&typeof window=="object"&&top !=window&&!document.location.href.match(/embed/)){top.location.href=document.location;}var token=$("body").data("autologin")||"guest";if($("#head #networkBar ul.conversation").length||$("div.favorites a[href$='#']").length||$("#loungeFeed").length||$("ul.newsFeed").length||$("ul.listMembers a.remove").length){window.ActivityStreamReady=function(as){as.subscribeContentFilters([$("body").data("cf")]);if($("#head #networkBar ul.conversation").length)setupPrivateMessaging(as);if($("#head #networkBar ul.conversation").length||$("div.favorites a[href$='#']").length||$("ul.listMembers a.remove").length)setupSocial(as);if($("#loungeFeed").length||$("ul.newsFeed").length)setupFeeds(as);as.setActor(token);};}$(".camsAlert span.close").click(function(){$(".camsAlert").slideUp("slow");$.cookie("cam_pop","closed",{path:"/",domain:".porn.com"});return false;});setTimeout(function(){if($.cookie("cam_pop")!="closed"){$(".camsAlert").slideDown("slow");}},1000);setTimeout(function(){$(".camsAlert").slideUp("slow");},60000);if($(".camsAlert span.preview").length){setInterval(function(){$(".camsAlert:visible").each(function(){$(this).find('span.preview').toggle();var hid=$(this).find('span.preview:hidden');hid.css('background-image','url(http://scripts.onwebcam.com/picpreview?m='+hid.data('mid')+')');});},10000);}QuestingEngine.forceUpdateCoins("PORN");cookieMsgDequeue();$("ul.listThumbs").on("mouseover","li a.thumb",function(e){if($(this).children("span.locked:not(.small)").length==0){rollImages(this);moveScrub(this);}}).on("mouseout","li a.thumb",function(e){if(!$(e.target).is("span.scrub")){$(this).changeImage();moveScrub(this);}}).on("click","li a.thumb",function(e){typeof(this.timerid)!="number"||clearTimeout(this.timerid);});$("span.scrub").on("mouseover mousemove",function(e){var span=$(this);var perc=Math.min(1,Math.abs(e.clientX-span.offset().left)/span.width());var thumbs=span.closest("a").data("thumbs")||20;var thumb=Math.max(1,Math.ceil(thumbs*perc));var pic=span.closest("a");pic.changeImage(pic.getThumbURL("promo",thumb));moveScrub(span,perc);e.stopImmediatePropagation();});$("li.expand a").click(function(){$(this).toggleText("+","-").closest("ul").toggleClass("expanded");return false;});$("a.categories,a.l200toggle").click(function(){var len=$("div.listFilters").toggleClass("expanded").length;$("a.categories,a.l200toggle").toggleClass("active");if(len>0){return false;}});$("a.btn[href$='#share']").click(function(){$("div.shareOptions").toggle();$(this).toggleClass("active");return false;});$("a.report").click(function(){$(this).toggleClass("active");$("form.reportOptions").toggle();return false;});$("form.reportOptions").submit(function(){var form=$(this);var data=getItemID(false,{action:"add",reason_id:form.find(":radio:checked").val(),reason:form.find("textarea").val()});data["misc[window_height]"]=$(window).height();data["misc[window_width]"]=$(window).width();data["misc[screen_height]"]=screen.height;data["misc[screen_width]"]=screen.width;$.lpost(form,"/ajax/report.json",data,function(json){form.find("p:last").find("span").toggleClass("error",json.code !=0).text(json.message);(json.code==0)&&form.find(":input").prop("disabled",true).filter(":button,:submit").remove();});return false;});$("body").on("click","a[href$='#drop']",function(){$(this).closest("a").toggleClass("active").parent("li").toggleClass("active");var exc=$(this).parent("p").addBack().nextAll(".dropDownMenu,.memberDrop,ul.conversation").first().toggle();$(".dropDownMenu,ul.conversation,.memberDrop").not(exc).hide().prev("a").removeClass("active").parent("li").removeClass("active");return false;});$("body").on("click keyup",function(e){if(e.type=="keyup"){if(e.which==27){$("div.mdlWrap").fadeOut("fast");}else{return;}}var tg=$(e.target);var visible=$(".dropDownMenu,ul.conversation,.autocomplete,.memberDrop").filter(":visible");if(visible.length==0){return;}else if(e.type=="click"&&tg.closest("a[href$='#drop'],.dropDownMenu,ul.conversation,.pmLaunch,.memberDrop").length>0){return;}else{visible.prev("a").removeClass("active").parent("li").removeClass("active");visible.hide();}});$("body").on("click","a.timestamp",function(){if($("#playerbox").length>0){var time=this.hash.substring(1);jwplayer().seek(time);return false;}});$("a.btn[href$='#download']").click(function(){var format=$.cookie("default_download");var menu=$(this).siblings("div.dropDownMenu");var link=menu.find("a[href^='/download/"+format+"']");if(link.length==0){link=menu.find("a").first();}if(link.length>0){if(link.is("[href*='#']")){link.click();}else{document.location=link.attr("href");}}return false;}).siblings("div.dropDownMenu").find("a[href^='/download/']").click(function(){var parts=$(this).attr("href").replace("/download/","").split("/");$.cookie("default_download",parts[0],{path:"/",domain:".porn.com"});});$("ul.sFilters a.expand").click(function(){$(this).siblings("ul").toggle();return false;});$("ul.sFilters a.add").hover(function(){$(this).siblings("a").last().addClass("sub");},function(){$(this).siblings("a").last().removeClass("sub");});$(":input[name=embed]").click(function(){this.select();});$("div.lowNav a").click(function(){var sel=$(this).hasClass("search")?"div.searchbox":"ul.sections";$(this).toggleClass("active");$(sel).toggleClass("expanded");return false;});$("a.lowSort").click(function(){$(this).toggleClass("active");$("div.buttons.sorting").toggle();return false;});$("div.searchbox input").autocomplete({appendTo:$("div.searchbox form"),source:function(request,response){var term=$.trim(request.term);if(term.length<1){return;};$.post("/search.json",{q:term},function(data){for(i in data.results){data.results[i].label=data.results[i].value=data.results[i].name;}response(data.results);});},select:function(e,ui){window.location=ui.item.url;return false;},renderRow:function(ul,item){var text=highlightText(item.value,this.term,"span.hl")||"[no description]";var a=$("<a>").attr("href",item.url).html(text);return $("<li>").append('<span class="type">'+content_types[item.type]+'</span>',a).appendTo(ul);}});$("div.searchbox form").submit(function(){if($.trim($(this).find("input:text").val()).length==0){return false;}});$("span.voteTags a").click(function(){var sid=getItemID();var link=$(this);var item=link.closest("li").data("item");var span=link.closest("span");var vote=link.hasClass("vDn")?-1:1;var data={vote:vote,action:"vote",scene_id:sid.item_id,type_id:16,item_id:item};$.lpost(span,"/ajax/suggest.json",data,function(json){if(json.code==0){span.css("opacity",1);link.addClass("active").siblings().css("opacity",0).addBack().unbind().click(function(){return false;});}});return false;});$("div.rate a").click(function(){var link=$(this);var div=link.closest("div");var rating=link.hasClass("vUp")?5:1;var data=getItemID(div,{action:"rate",rating:rating});if($(this).siblings("a").addBack().hasClass("active")){return false;}$.lpost(div,"/ajax/rating.json",data,function(json){$.noticeAdd(json.message);if(json.code==0){link.addClass("active").siblings("a").css("opacity",0.2);div.find("span.bar span").css("width",json.avg_vote+"%");if(json.rating>1){div.find("span.count").increment();}QuestingEngine.actionSuccess(json.questing_response);}});return false;});$("div.favorites a[href$='#']").click(function(){var link=$(this);var data=getItemID(this,{action:"toggle"});$.lpost(this,"/ajax/favorite.json",data,function(json){$.noticeAdd(json.message);if(json.code==0){link.siblings("div.results").find("span.count").increment((json.action=="add")?1:-1);QuestingEngine.actionSuccess(json.questing_response);}});return false;});$("div.main div[id^=tab] li a.close").click(function(){var link=$(this);var id=parseInt(this.hash.substring(1));var tabs=$("ul.tabsSub li.active:visible,ul.tabs li.active").find("a");var type_id=link.closest("div[id]").data("type");if(!link.is(".block")){$.lpost(this,"/ajax/favorite.json",{item_id:id,type_id:type_id,action:"remove"},function(json){$.noticeAdd(json.message);if(json.code==0){link.closest("li").fadeOut("fast",function(){$(this).remove();}).find("a.close").remove();tabs.increment(-1);}});}return false;});$("div.listComments a.all").click(function(){var divs=$(this).toggleText("Show all comments","Hide Comments").siblings("div");if(divs.is(":hidden")){this.initialLength=divs.filter(":visible").length;divs.filter(":hidden").show();}else{divs.slice(this.initialLength).hide();}return false;});$("div.comments form textarea").keydown(function(e){if(e.ctrlKey&&e.keyCode==13){$("div.comments form button").click();}});$("div.listComments").on("click","a.close",function(){var div=$(this).closest("div");var id=parseInt(this.hash.substring(1));if(!confirm("Are you sure you want to remove this comment?")){return false;}$.lpost(this,"/ajax/comment.json",{action:"delete",comment_id:id},function(json){$.noticeAdd(json.message);if(json.code==0){div.fadeOut("fast",function(){$(this).remove();}).find("a.close").remove();}});return false;});$("div.comments form button").click(function(){var form=$(this).closest("form");var data=getItemID(false,form.serializeObject());data.action="add";if($.trim(data.username).length<1){data.username="Anonymous";}if($.trim(data.body).length<2){$.noticeAdd("You haven't entered a comment!");return false;}$.lpost(this,"/ajax/comment.json",data,function(json){$.noticeAdd(json.message);if(json.code==0){if(loggedin){var link=$("<a>").text(data.username).addClass("username").attr("href","/profile/"+data.username);}else{var link=data.username;}var body=data.body.replace("\n","<br />").replace(/<[^>]+>/ig,"");var avatar=loggedin?$("#head img.profileSmall").clone():"";var edit=loggedin?'<a href="#'+json.comment_id+'" class="close"><span></span></a>':"";$("<div>").toggleClass("basic",loggedin).append(avatar,$("<p>").append(link,':&nbsp;',$("<span>").html(body))).append($("<p>").addClass("date").text("posted moments ago..."),edit).prependTo(form.next("div"));form.next("div").find("div.none").remove();form.replaceWith("<div>"+json.message+"</div>");QuestingEngine.actionSuccess(json.questing_response);}});return false;});$("ul.tabs a,ul.tabsSub a").click(function(){if(this.hash.length==0){return;}var tab=this.hash.slice(1);var tab=tab.charAt(0).toUpperCase()+tab.slice(1);var link=$(this);var tabNav=$("#sub"+tab);var tabDiv=$("#tab"+tab);link.parent().addClass("active").siblings().removeClass("active");if(link.closest("ul.tabs").length>0){if(tabNav.length>0){tabNav.show().siblings("ul.tabsSub").hide();link=tabNav.find("li.active a");if(link.length==0){link=tabNav.find("li").first().addClass("active").find("a");}link.click();return false;}else{$("ul.tabsSub").hide();}}tabDiv.show().siblings("div[id^=tab]").hide();return $("div.wrap.legal").length>0;});$("body").on("click","a[href$='#login'],a[href$='#join'],a[href$='#upgrade'],a[href$='#forgot'],a[href$='#profile'],a[href$='#tour']",function(){var link=$(this);var sel={join:"mdlRegister",login:"mdlLogin",upgrade:"mdlUpgrade",forgot:"mdlForgot",profile:"mdlProfile",tour:"mdlTour"}[this.hash.substring(1)];var modal={join:"join-step1",login:"login",upgrade:"join-step3",forgot:"forgot-pass",profile:"profile",tour:"tour"}[this.hash.substring(1)];var form=$("div.mdlWrap div."+sel);if(form.length==0){var data={};if(link.closest("ul.sFilters").length){data.origin="tags";}$.lpost(link,"/ajax/modal/"+modal,data,function(data){var html=$(data).hide().appendTo("div.mdlOffset");if(html.hasClass(sel)){link.click();}});return false;}modalFade(form);if(form.find("p.captcha").css("display")=="block"&&form.find("p.captcha img").length==0){formAppendCaptcha(form.find("p.captcha"));}if(sel=="mdlRegister"){form.children("div.notification").toggle($(this).children().length>0||!$(this).text().match(/join|register|create one/i));}return false;});$("body").on("click","a[href$='#broadcast']",function(){var link=$(this);$.lpost(link,"/live/profilecomplete.json",function(d){if(d.done){window.location='/live/'+d.un;}else if(!d.conf){var form=$("div.mdlWrap div.mdlSBEmail");if(form.length==0){$.post("/ajax/modal/cams-email",function(data){var html=$(data).hide().appendTo("div.mdlOffset");modalFade($("div.mdlWrap div.mdlSBEmail"));});}else{modalFade(form);}}else{var form=$("div.mdlWrap div.mdlProfile");if(form.length==0){$.post("/ajax/modal/profile",function(data){var html=$(data).hide().appendTo("div.mdlOffset");modalFade($("div.mdlWrap div.mdlProfile"));});}else{modalFade(form);}}});return false;});$("div.memberDrop p.interact a[href$='#pm']").click(function(){var md=$(this).closest("div.memberDrop");newPrivateMessage(window.ActivityStream.createActorName(15,md.data("un")),md.data("dn"));return false;});$("div.memberDrop p.interact a[href$='#fol']").click(function(){var un=$(this).closest("div.memberDrop").data("un");if(window.ActivityStream.createActorName(15,un)!=window.ActivityStream.getActorName()){$.lpost(this,"/ajax/favorite.json",{type_id:15,item_id:un,action:"toggle"},function(json){$.noticeAdd(json.message);});}return false;});$("div.memberDrop p.interact a[href$='#blk']").click(function(){activityToggleBlock(window.ActivityStream.createActorName(15,$(this).closest("div.memberDrop").data("un")));return false;});$("ul.listProfiles li span.interact a[href$='#pm']").click(function(){var li=$(this).closest("li");newPrivateMessage(window.ActivityStream.createActorName(15,li.data("member")),li.data("mname"));return false;});$("ul.listProfiles li span.interact a[href$='#fol']").click(function(){activityToggleFollow(window.ActivityStream.createActorName(15,$(this).closest("li").data('member')));return false;});$("div.mdlWrap").click(function(e){var els=$(e.target).parents().addBack();if(els.is("a[href$='#close']")||!els.is("div.mdlMain")){if($("div.mdlExtra").is(":visible")){refreshPage("You have successfully signed up!");}else{$("div.mdlWrap").fadeOut("fast");return false;}}});$("div.mdlOffset").on("submit","div.mdlForgot form",function(){var form=$(this);var rules={value:{req:true,lmin:5,lmax:64}};var valid=validateForm(form,rules);if(valid.code !=0){applyFieldErrors(form,valid);}else{var value=$.trim(form.find("input[name=value]").val());$.lpost(form,"/profile/ajax-forgot-password.json",{value:value},function(json){applyFieldErrors(form,json);if(json.code==0){form.html("<p>An email has been sent to you with reset instructions!</p>");}});}return false;});$("div.mdlOffset").on("submit","div.mdlLogin form",function(){var form=$(this);var rules={password:{req:true,lmin:6,lmax:32},username:{req:true,lmin:6,lmax:40},captcha:form.find("p.captcha").is(":visible")};var valid=validateForm(form,rules);if(valid.code !=0){applyFieldErrors(form,valid);return false;}$.lpost(this,"/login/ajax-login.json",form.serializeObject(),function(json){applyFieldErrors(form,json);if(json.code==0){$("div.mdlWrap").hide();refreshPage("You have successfully logged in");}});return false;});$("div.mdlRegister form").find("input[name=username],input[name=email]").keyup(function(){delayedChange(this,400,function(el){if(el.value.length<6){return false;}$.lpost(this,"/join/ajax-lookup.json",{value:el.value,type:el.name},function(json){$(el).siblings("span.msg").remove();if(json.code==2){createMsg(json.message,false,$(el).closest("p"));}});});});$("body").on("focus","input[name*=location]:not(.ui-autocomplete-input)",function(){autocompleteLocation(this);});$("div.mdlOffset,div.join").on("click","div.mdlUpgrade input:radio",function(){$(this).closest("p").addClass("active").siblings("p").removeClass("active");});$("div.mdlOffset,div.join").on("submit","div.mdlExtra form,div.mdlProfile form",function(){var join=$(this).parents("div.mdlExtra").length>0;var form=$(this);var data=form.serializeObject();$.lpost(form,"/profile/ajax-edit.json",data,function(json){applyFieldErrors(form,json);if(json.code !=0){$.noticeAdd(json.message);}else if(join){refreshPage("You have successfully signed up!");}else{$.noticeAdd(json.message);if(json.changed){$("div.infoBar>p").first().text(json.tagline);$("div.mdlWrap").hide();}}});return false;});$("div.mdlOffset,div.join").on("submit","div.mdlRegister form",function(){var form=$(this);var rules={captcha:true,password:{req:true,lmin:6,lmax:32},username:{req:true,lmin:6,lmax:20,format:/^[a-z0-9_]+$/i},email:{req:true,format:/^[^@ ]+@[^@. ]+(\.[a-z]+){1,2}$/}};var valid=validateForm(form,rules);if(valid.code !=0){applyFieldErrors(form,valid);return false;}$.lpost(form,"/join/ajax-create.json",form.serializeObject(),function(json){applyFieldErrors(form,json);if(json.code==0){form.find("input:submit").remove();$("a[href$='#join']").closest("li").remove();$.post("/ajax/modal/join-step2",function(html){var step2=$(html).insertAfter($("div.mdlRegister").hide()).show();step2.find("form input:button,a[href$='#close']").click(function(){$("div.mdlWrap").hide();refreshPage("You have successfully signed up!",null,true);return false;});});}});return false;});$("ul.listThumbs li a, ul.listProfiles a, ul.listDVDs a, ul.listGalleries a").click(function(e){var li=$(this).closest("li");var url=$(this).attr("href").replace(/http:\/\/([a-z0-9]+\.)*porn.com/,"");var loc=window.location.href.replace(/http:\/\/([a-z0-9]+\.)*porn.com/,"");var item=url.split(/[\/-]/).pop();var link=li.find("a.thumb");if(link.size()>0&&link.get(0).origimg !=undefined){var thumb=link.get(0).origimg;}else if(url.match(/\/pictures\//)){var thumb=li.find("a.thumb img").attr("src");}else{var thumb=li.find("a.thumb").css("background-image");}thumb=thumb.replace(/['"()]+/g,"").split("/").pop().replace(".jpg","").replace(/DVD_[0-9]+_/,"");var type_id=0;var index=li.index();if(url.match(/^\/pornstars\//)){type_id=2;}else if(url.match(/^\/pictures\//)){type_id=6;}else if(url.match(/^\/dvds\//)){type_id=1;}else if(url.match(/^\/videos\//)){type_id=5;}var data={type_id:type_id,item_id:item,action:"click",position:index+1,url:loc,thumb:thumb,x:e.pageX,y:e.pageY};if(type_id==5&&li.hasClass("newest")){data.rotating="yes";}$.ajax("/ajax/click.json",{data:data,async:false});});$("div.langNotification a.close").click(function(){$(this).closest("div").remove();$.cookie("lang_selected","EN",{path:"/",domain:".porn.com",expires:730});return false;});$("#networkBar li.lang li").click(function(){$.cookie("lang_selected",$(this).attr("class").replace(/active\s+/,""),{path:"/",domain:".porn.com",expires:730});});$("div.langNotification h3 a").click(function(){$.cookie("lang_selected",$(this).closest("h3").attr("class"),{path:"/",domain:".porn.com",expires:730});});if(loggedin){$("div.notification a[href$='#changemail']").click(function(){$(this).parent("p").siblings("form").toggle();return false;});$("div.notification form").submit(function(){var div=$(this).closest("div");var email=div.find("input[name=email]").val();$.lpost(this,"/profile/ajax-welcome-resend.json",{email:email},function(json){$.noticeAdd(json.message);if(json.code==0){div.find("form").remove();div.find("p").html("Welcome email has been re-sent!");}});return false;});$("div.notification a[href$='#resend']").click(function(){$(this).closest("div").find("input[name=email]").val("");$(this).closest("div").find("form").submit();return false;});}});$(window.rq).each(function(){$(this);});(document.readyState=="interactive"||document.readyState=="complete")&&$.ready();
